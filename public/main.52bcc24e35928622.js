"use strict";(self.webpackChunkTManager=self.webpackChunkTManager||[]).push([[179],{562:(_o,Qn,Be)=>{Be.d(Qn,{$:()=>e_,A:()=>ae,G:()=>kt,K:()=>bE,L:()=>Ma,N:()=>xr,P:()=>Uu,R:()=>x_,U:()=>Ee,V:()=>ff,W:()=>wu,X:()=>jr,Y:()=>Co,Z:()=>Cr,_:()=>Oa,a:()=>So,a0:()=>gf,a1:()=>Du,a2:()=>wf,a3:()=>r_,a4:()=>CE,a5:()=>yi,a6:()=>Fa,a7:()=>o_,a8:()=>Zl,a9:()=>TE,aA:()=>st,aB:()=>qt,aC:()=>oe,aD:()=>Ro,aE:()=>Z,aF:()=>Ue,aG:()=>oc,aH:()=>S_,aI:()=>Wa,aJ:()=>Cn,aN:()=>jn,aQ:()=>$o,aa:()=>ve,ab:()=>fn,ac:()=>io,ad:()=>Si,ae:()=>La,af:()=>Xe,ag:()=>s_,ah:()=>Un,ak:()=>Kl,al:()=>ps,am:()=>Wo,ap:()=>t_,aq:()=>Ql,as:()=>yM,at:()=>IM,au:()=>cn,av:()=>Ae,aw:()=>U,ax:()=>gt,ay:()=>Ga,az:()=>k_,b:()=>AE,c:()=>gs,d:()=>A_,e:()=>jE,f:()=>HE,g:()=>Ei,h:()=>Rt,i:()=>Lu,j:()=>Mo,k:()=>$_,l:()=>VE,m:()=>ew,p:()=>rn,r:()=>BE,s:()=>C_,u:()=>on});var C=Be(861),K=Be(58),N=Be(534),Se=Be(879),We=Be(582),bn=Be(537);const rn={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},ae={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const kt=function De(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},Xn=function tt(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},vt=new K.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ze=new Se.Yd("@firebase/auth");function En(f,...u){Ze.logLevel<=Se.in.ERROR&&Ze.error(`Auth (${N.SDK_VERSION}): ${f}`,...u)}function gt(f,...u){throw ot(f,...u)}function qt(f,...u){return ot(f,...u)}function gr(f,u,d){const m=Object.assign(Object.assign({},Xn()),{[u]:d});return new K.LL("auth","Firebase",m).create(u,{appName:f.name})}function $n(f,u,d){if(!(u instanceof d))throw d.name!==u.constructor.name&&gt(f,"argument-error"),gr(f,"argument-error",`Type of ${u.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function ot(f,...u){if("string"!=typeof f){const d=u[0],m=[...u.slice(1)];return m[0]&&(m[0].appName=f.name),f._errorFactory.create(d,...m)}return vt.create(f,...u)}function oe(f,u,...d){if(!f)throw ot(u,...d)}function wt(f){const u="INTERNAL ASSERTION FAILED: "+f;throw En(u),new Error(u)}function cn(f,u){f||wt(u)}function kn(){var f;return typeof self<"u"&&(null===(f=self.location)||void 0===f?void 0:f.href)||""}function Vn(){return"http:"===Qr()||"https:"===Qr()}function Qr(){var f;return typeof self<"u"&&(null===(f=self.location)||void 0===f?void 0:f.protocol)||null}class _r{constructor(u,d){this.shortDelay=u,this.longDelay=d,cn(d>u,"Short delay should be less than long delay!"),this.isMobile=(0,K.uI)()||(0,K.b$)()}get(){return function Xr(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Vn()||(0,K.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function yo(f,u){cn(f.emulator,"Emulator should always be set here");const{url:d}=f.emulator;return u?`${d}${u.startsWith("/")?u.slice(1):u}`:d}class ${static initialize(u,d,m){this.fetchImpl=u,d&&(this.headersImpl=d),m&&(this.responseImpl=m)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void wt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void wt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void wt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const q={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},F=new _r(3e4,6e4);function j(f,u){return f.tenantId&&!u.tenantId?Object.assign(Object.assign({},u),{tenantId:f.tenantId}):u}function ee(f,u,d,m){return X.apply(this,arguments)}function X(){return(X=(0,C.Z)(function*(f,u,d,m,_={}){return fe(f,_,(0,C.Z)(function*(){let E={},P={};m&&("GET"===u?P=m:E={body:JSON.stringify(m)});const H=(0,K.xO)(Object.assign({key:f.config.apiKey},P)).slice(1),ie=yield f._getAdditionalHeaders();return ie["Content-Type"]="application/json",f.languageCode&&(ie["X-Firebase-Locale"]=f.languageCode),$.fetch()(It(f,f.config.apiHost,d,H),Object.assign({method:u,headers:ie,referrerPolicy:"no-referrer"},E))}))})).apply(this,arguments)}function fe(f,u,d){return ft.apply(this,arguments)}function ft(){return(ft=(0,C.Z)(function*(f,u,d){f._canInitEmulator=!1;const m=Object.assign(Object.assign({},q),u);try{const _=new Qt(f),E=yield Promise.race([d(),_.promise]);_.clearNetworkTimeout();const P=yield E.json();if("needConfirmation"in P)throw wn(f,"account-exists-with-different-credential",P);if(E.ok&&!("errorMessage"in P))return P;{const H=E.ok?P.errorMessage:P.error.message,[ie,we]=H.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===ie)throw wn(f,"credential-already-in-use",P);if("EMAIL_EXISTS"===ie)throw wn(f,"email-already-in-use",P);if("USER_DISABLED"===ie)throw wn(f,"user-disabled",P);const Fe=m[ie]||ie.toLowerCase().replace(/[_\s]+/g,"-");if(we)throw gr(f,Fe,we);gt(f,Fe)}}catch(_){if(_ instanceof K.ZR)throw _;gt(f,"network-request-failed",{message:String(_)})}})).apply(this,arguments)}function de(f,u,d,m){return Ne.apply(this,arguments)}function Ne(){return(Ne=(0,C.Z)(function*(f,u,d,m,_={}){const E=yield ee(f,u,d,m,_);return"mfaPendingCredential"in E&&gt(f,"multi-factor-auth-required",{_serverResponse:E}),E})).apply(this,arguments)}function It(f,u,d,m){const _=`${u}${d}?${m}`;return f.config.emulator?yo(f.config,_):`${f.config.apiScheme}://${_}`}function dn(f){switch(f){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Qt{constructor(u){this.auth=u,this.timer=null,this.promise=new Promise((d,m)=>{this.timer=setTimeout(()=>m(qt(this.auth,"network-request-failed")),F.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function wn(f,u,d){const m={appName:f.name};d.email&&(m.email=d.email),d.phoneNumber&&(m.phoneNumber=d.phoneNumber);const _=qt(f,u,m);return _.customData._tokenResponse=d,_}function Jn(f){return void 0!==f&&void 0!==f.getResponse}function ei(f){return void 0!==f&&void 0!==f.enterprise}class gi{constructor(u){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===u.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=u.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=u.recaptchaEnforcementState}getProviderEnforcementState(u){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const d of this.recaptchaEnforcementState)if(d.provider&&d.provider===u)return dn(d.enforcementState);return null}isProviderEnabled(u){return"ENFORCE"===this.getProviderEnforcementState(u)||"AUDIT"===this.getProviderEnforcementState(u)}}function Jr(){return(Jr=(0,C.Z)(function*(f){return(yield ee(f,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function vo(f,u){return _t.apply(this,arguments)}function _t(){return(_t=(0,C.Z)(function*(f,u){return ee(f,"GET","/v2/recaptchaConfig",j(f,u))})).apply(this,arguments)}function Eo(){return(Eo=(0,C.Z)(function*(f,u){return ee(f,"POST","/v1/accounts:delete",u)})).apply(this,arguments)}function to(){return(to=(0,C.Z)(function*(f,u){return ee(f,"POST","/v1/accounts:update",u)})).apply(this,arguments)}function yr(){return(yr=(0,C.Z)(function*(f,u){return ee(f,"POST","/v1/accounts:lookup",u)})).apply(this,arguments)}function vr(f){if(f)try{const u=new Date(Number(f));if(!isNaN(u.getTime()))return u.toUTCString()}catch{}}function Ut(){return(Ut=(0,C.Z)(function*(f,u=!1){const d=(0,K.m9)(f),m=yield d.getIdToken(u),_=In(m);oe(_&&_.exp&&_.auth_time&&_.iat,d.auth,"internal-error");const E="object"==typeof _.firebase?_.firebase:void 0,P=E?.sign_in_provider;return{claims:_,token:m,authTime:vr(Er(_.auth_time)),issuedAtTime:vr(Er(_.iat)),expirationTime:vr(Er(_.exp)),signInProvider:P||null,signInSecondFactor:E?.sign_in_second_factor||null}})).apply(this,arguments)}function Er(f){return 1e3*Number(f)}function In(f){const[u,d,m]=f.split(".");if(void 0===u||void 0===d||void 0===m)return En("JWT malformed, contained fewer than 3 sections"),null;try{const _=(0,K.tV)(d);return _?JSON.parse(_):(En("Failed to decode base64 JWT payload"),null)}catch(_){return En("Caught error parsing JWT payload as JSON",_?.toString()),null}}function xn(f,u){return On.apply(this,arguments)}function On(){return(On=(0,C.Z)(function*(f,u,d=!1){if(d)return u;try{return yield u}catch(m){throw m instanceof K.ZR&&function wo({code:f}){return"auth/user-disabled"===f||"auth/user-token-expired"===f}(m)&&f.auth.currentUser===f&&(yield f.auth.signOut()),m}})).apply(this,arguments)}class Io{constructor(u){this.user=u,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(u){var d;if(u){const m=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),m}{this.errorBackoff=3e4;const _=(null!==(d=this.user.stsTokenManager.expirationTime)&&void 0!==d?d:0)-Date.now()-3e5;return Math.max(0,_)}}schedule(u=!1){var d=this;if(!this.isRunning)return;const m=this.getInterval(u);this.timerId=setTimeout((0,C.Z)(function*(){yield d.iteration()}),m)}iteration(){var u=this;return(0,C.Z)(function*(){try{yield u.user.getIdToken(!0)}catch(d){return void("auth/network-request-failed"===d?.code&&u.schedule(!0))}u.schedule()})()}}class no{constructor(u,d){this.createdAt=u,this.lastLoginAt=d,this._initializeTime()}_initializeTime(){this.lastSignInTime=vr(this.lastLoginAt),this.creationTime=vr(this.createdAt)}_copy(u){this.createdAt=u.createdAt,this.lastLoginAt=u.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function ti(f){return ni.apply(this,arguments)}function ni(){return ni=(0,C.Z)(function*(f){var u;const d=f.auth,m=yield f.getIdToken(),_=yield xn(f,function Ti(f,u){return yr.apply(this,arguments)}(d,{idToken:m}));oe(_?.users.length,d,"internal-error");const E=_.users[0];f._notifyReloadListener(E);const P=null!==(u=E.providerUserInfo)&&void 0!==u&&u.length?function as(f){return f.map(u=>{var{providerId:d}=u,m=(0,We._T)(u,["providerId"]);return{providerId:d,uid:m.rawId||"",displayName:m.displayName||null,email:m.email||null,phoneNumber:m.phoneNumber||null,photoURL:m.photoUrl||null}})}(E.providerUserInfo):[],H=function Sa(f,u){return[...f.filter(m=>!u.some(_=>_.providerId===m.providerId)),...u]}(f.providerData,P),Fe=!!f.isAnonymous&&!(f.email&&E.passwordHash||H?.length),Et={uid:E.localId,displayName:E.displayName||null,photoURL:E.photoUrl||null,email:E.email||null,emailVerified:E.emailVerified||!1,phoneNumber:E.phoneNumber||null,tenantId:E.tenantId||null,providerData:H,metadata:new no(E.createdAt,E.lastLoginAt),isAnonymous:Fe};Object.assign(f,Et)}),ni.apply(this,arguments)}function wr(){return(wr=(0,C.Z)(function*(f){const u=(0,K.m9)(f);yield ti(u),yield u.auth._persistUserIfCurrent(u),u.auth._notifyListenersIfCurrent(u)})).apply(this,arguments)}function xo(){return(xo=(0,C.Z)(function*(f,u){const d=yield fe(f,{},(0,C.Z)(function*(){const m=(0,K.xO)({grant_type:"refresh_token",refresh_token:u}).slice(1),{tokenApiHost:_,apiKey:E}=f.config,P=It(f,_,"/v1/token",`key=${E}`),H=yield f._getAdditionalHeaders();return H["Content-Type"]="application/x-www-form-urlencoded",$.fetch()(P,{method:"POST",headers:H,body:m})}));return{accessToken:d.access_token,expiresIn:d.expires_in,refreshToken:d.refresh_token}})).apply(this,arguments)}function D(){return(D=(0,C.Z)(function*(f,u){return ee(f,"POST","/v2/accounts:revokeToken",j(f,u))})).apply(this,arguments)}class b{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(u){oe(u.idToken,"internal-error"),oe(typeof u.idToken<"u","internal-error"),oe(typeof u.refreshToken<"u","internal-error");const d="expiresIn"in u&&typeof u.expiresIn<"u"?Number(u.expiresIn):function Hl(f){const u=In(f);return oe(u,"internal-error"),oe(typeof u.exp<"u","internal-error"),oe(typeof u.iat<"u","internal-error"),Number(u.exp)-Number(u.iat)}(u.idToken);this.updateTokensAndExpiration(u.idToken,u.refreshToken,d)}getToken(u,d=!1){var m=this;return(0,C.Z)(function*(){return oe(!m.accessToken||m.refreshToken,u,"user-token-expired"),d||!m.accessToken||m.isExpired?m.refreshToken?(yield m.refresh(u,m.refreshToken),m.accessToken):null:m.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(u,d){var m=this;return(0,C.Z)(function*(){const{accessToken:_,refreshToken:E,expiresIn:P}=yield function Hs(f,u){return xo.apply(this,arguments)}(u,d);m.updateTokensAndExpiration(_,E,Number(P))})()}updateTokensAndExpiration(u,d,m){this.refreshToken=d||null,this.accessToken=u||null,this.expirationTime=Date.now()+1e3*m}static fromJSON(u,d){const{refreshToken:m,accessToken:_,expirationTime:E}=d,P=new b;return m&&(oe("string"==typeof m,"internal-error",{appName:u}),P.refreshToken=m),_&&(oe("string"==typeof _,"internal-error",{appName:u}),P.accessToken=_),E&&(oe("number"==typeof E,"internal-error",{appName:u}),P.expirationTime=E),P}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(u){this.accessToken=u.accessToken,this.refreshToken=u.refreshToken,this.expirationTime=u.expirationTime}_clone(){return Object.assign(new b,this.toJSON())}_performRefresh(){return wt("not implemented")}}function I(f,u){oe("string"==typeof f||typeof f>"u","internal-error",{appName:u})}class v{constructor(u){var{uid:d,auth:m,stsTokenManager:_}=u,E=(0,We._T)(u,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Io(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=d,this.auth=m,this.stsTokenManager=_,this.accessToken=_.accessToken,this.displayName=E.displayName||null,this.email=E.email||null,this.emailVerified=E.emailVerified||!1,this.phoneNumber=E.phoneNumber||null,this.photoURL=E.photoURL||null,this.isAnonymous=E.isAnonymous||!1,this.tenantId=E.tenantId||null,this.providerData=E.providerData?[...E.providerData]:[],this.metadata=new no(E.createdAt||void 0,E.lastLoginAt||void 0)}getIdToken(u){var d=this;return(0,C.Z)(function*(){const m=yield xn(d,d.stsTokenManager.getToken(d.auth,u));return oe(m,d.auth,"internal-error"),d.accessToken!==m&&(d.accessToken=m,yield d.auth._persistUserIfCurrent(d),d.auth._notifyListenersIfCurrent(d)),m})()}getIdTokenResult(u){return function _i(f){return Ut.apply(this,arguments)}(this,u)}reload(){return function Bi(f){return wr.apply(this,arguments)}(this)}_assign(u){this!==u&&(oe(this.uid===u.uid,this.auth,"internal-error"),this.displayName=u.displayName,this.photoURL=u.photoURL,this.email=u.email,this.emailVerified=u.emailVerified,this.phoneNumber=u.phoneNumber,this.isAnonymous=u.isAnonymous,this.tenantId=u.tenantId,this.providerData=u.providerData.map(d=>Object.assign({},d)),this.metadata._copy(u.metadata),this.stsTokenManager._assign(u.stsTokenManager))}_clone(u){const d=new v(Object.assign(Object.assign({},this),{auth:u,stsTokenManager:this.stsTokenManager._clone()}));return d.metadata._copy(this.metadata),d}_onReload(u){oe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=u,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(u){this.reloadListener?this.reloadListener(u):this.reloadUserInfo=u}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(u,d=!1){var m=this;return(0,C.Z)(function*(){let _=!1;u.idToken&&u.idToken!==m.stsTokenManager.accessToken&&(m.stsTokenManager.updateFromServerResponse(u),_=!0),d&&(yield ti(m)),yield m.auth._persistUserIfCurrent(m),_&&m.auth._notifyListenersIfCurrent(m)})()}delete(){var u=this;return(0,C.Z)(function*(){const d=yield u.getIdToken();return yield xn(u,function bo(f,u){return Eo.apply(this,arguments)}(u.auth,{idToken:d})),u.stsTokenManager.clearRefreshToken(),u.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(u=>Object.assign({},u)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(u,d){var m,_,E,P,H,ie,we,Fe;const Et=null!==(m=d.displayName)&&void 0!==m?m:void 0,$i=null!==(_=d.email)&&void 0!==_?_:void 0,Zo=null!==(E=d.phoneNumber)&&void 0!==E?E:void 0,uc=null!==(P=d.photoURL)&&void 0!==P?P:void 0,q_=null!==(H=d.tenantId)&&void 0!==H?H:void 0,Ya=null!==(ie=d._redirectEventId)&&void 0!==ie?ie:void 0,ys=null!==(we=d.createdAt)&&void 0!==we?we:void 0,G_=null!==(Fe=d.lastLoginAt)&&void 0!==Fe?Fe:void 0,{uid:Ju,emailVerified:Jf,isAnonymous:Qa,providerData:ep,stsTokenManager:Pi}=d;oe(Ju&&Pi,u,"internal-error");const rw=b.fromJSON(this.name,Pi);oe("string"==typeof Ju,u,"internal-error"),I(Et,u.name),I($i,u.name),oe("boolean"==typeof Jf,u,"internal-error"),oe("boolean"==typeof Qa,u,"internal-error"),I(Zo,u.name),I(uc,u.name),I(q_,u.name),I(Ya,u.name),I(ys,u.name),I(G_,u.name);const An=new v({uid:Ju,auth:u,email:$i,emailVerified:Jf,displayName:Et,isAnonymous:Qa,photoURL:uc,phoneNumber:Zo,tenantId:q_,stsTokenManager:rw,createdAt:ys,lastLoginAt:G_});return ep&&Array.isArray(ep)&&(An.providerData=ep.map(tp=>Object.assign({},tp))),Ya&&(An._redirectEventId=Ya),An}static _fromIdTokenResponse(u,d,m=!1){return(0,C.Z)(function*(){const _=new b;_.updateFromServerResponse(d);const E=new v({uid:d.localId,auth:u,stsTokenManager:_,isAnonymous:m});return yield ti(E),E})()}}const A=new Map;function Z(f){cn(f instanceof Function,"Expected a class definition");let u=A.get(f);return u?(cn(u instanceof f,"Instance stored in cache mismatched with class"),u):(u=new f,A.set(f,u),u)}const Ee=(()=>{class f{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,C.Z)(function*(){return!0})()}_set(d,m){var _=this;return(0,C.Z)(function*(){_.storage[d]=m})()}_get(d){var m=this;return(0,C.Z)(function*(){const _=m.storage[d];return void 0===_?null:_})()}_remove(d){var m=this;return(0,C.Z)(function*(){delete m.storage[d]})()}_addListener(d,m){}_removeListener(d,m){}}return f.type="NONE",f})();function Ue(f,u,d){return`firebase:${f}:${u}:${d}`}class Mt{constructor(u,d,m){this.persistence=u,this.auth=d,this.userKey=m;const{config:_,name:E}=this.auth;this.fullUserKey=Ue(this.userKey,_.apiKey,E),this.fullPersistenceKey=Ue("persistence",_.apiKey,E),this.boundEventHandler=d._onStorageEvent.bind(d),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(u){return this.persistence._set(this.fullUserKey,u.toJSON())}getCurrentUser(){var u=this;return(0,C.Z)(function*(){const d=yield u.persistence._get(u.fullUserKey);return d?v._fromJSON(u.auth,d):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(u){var d=this;return(0,C.Z)(function*(){if(d.persistence===u)return;const m=yield d.getCurrentUser();return yield d.removeCurrentUser(),d.persistence=u,m?d.setCurrentUser(m):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(u,d,m="authUser"){return(0,C.Z)(function*(){if(!d.length)return new Mt(Z(Ee),u,m);const _=(yield Promise.all(d.map(function(){var we=(0,C.Z)(function*(Fe){if(yield Fe._isAvailable())return Fe});return function(Fe){return we.apply(this,arguments)}}()))).filter(we=>we);let E=_[0]||Z(Ee);const P=Ue(m,u.config.apiKey,u.name);let H=null;for(const we of d)try{const Fe=yield we._get(P);if(Fe){const Et=v._fromJSON(u,Fe);we!==E&&(H=Et),E=we;break}}catch{}const ie=_.filter(we=>we._shouldAllowMigration);return E._shouldAllowMigration&&ie.length?(E=ie[0],H&&(yield E._set(P,H.toJSON())),yield Promise.all(d.map(function(){var we=(0,C.Z)(function*(Fe){if(Fe!==E)try{yield Fe._remove(P)}catch{}});return function(Fe){return we.apply(this,arguments)}}())),new Mt(E,u,m)):new Mt(E,u,m)})()}}function _e(f){const u=f.toLowerCase();if(u.includes("opera/")||u.includes("opr/")||u.includes("opios/"))return"Opera";if($s(u))return"IEMobile";if(u.includes("msie")||u.includes("trident/"))return"IE";if(u.includes("edge/"))return"Edge";if(Kt(u))return"Firefox";if(u.includes("silk/"))return"Silk";if(k(u))return"Blackberry";if(re(u))return"Webos";if(Re(u))return"Safari";if((u.includes("chrome/")||di(u))&&!u.includes("edge/"))return"Chrome";if(U(u))return"Android";{const m=f.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===m?.length)return m[1]}return"Other"}function Kt(f=(0,K.z$)()){return/firefox\//i.test(f)}function Re(f=(0,K.z$)()){const u=f.toLowerCase();return u.includes("safari/")&&!u.includes("chrome/")&&!u.includes("crios/")&&!u.includes("android")}function di(f=(0,K.z$)()){return/crios\//i.test(f)}function $s(f=(0,K.z$)()){return/iemobile/i.test(f)}function U(f=(0,K.z$)()){return/android/i.test(f)}function k(f=(0,K.z$)()){return/blackberry/i.test(f)}function re(f=(0,K.z$)()){return/webos/i.test(f)}function Ae(f=(0,K.z$)()){return/iphone|ipad|ipod/i.test(f)||/macintosh/i.test(f)&&/mobile/i.test(f)}function st(f=(0,K.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(f)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(f)}function Bn(f=(0,K.z$)()){return Ae(f)||U(f)||re(f)||k(f)||/windows phone/i.test(f)||$s(f)}function pt(f,u=[]){let d;switch(f){case"Browser":d=_e((0,K.z$)());break;case"Worker":d=`${_e((0,K.z$)())}-${f}`;break;default:d=f}const m=u.length?u.join(","):"FirebaseCore-web";return`${d}/JsCore/${N.SDK_VERSION}/${m}`}class $l{constructor(u){this.auth=u,this.queue=[]}pushCallback(u,d){const m=E=>new Promise((P,H)=>{try{P(u(E))}catch(ie){H(ie)}});m.onAbort=d,this.queue.push(m);const _=this.queue.length-1;return()=>{this.queue[_]=()=>Promise.resolve()}}runMiddleware(u){var d=this;return(0,C.Z)(function*(){if(d.auth.currentUser===u)return;const m=[];try{for(const _ of d.queue)yield _(u),_.onAbort&&m.push(_.onAbort)}catch(_){m.reverse();for(const E of m)try{E()}catch{}throw d.auth._errorFactory.create("login-blocked",{originalMessage:_?.message})}})()}}function Jh(){return(Jh=(0,C.Z)(function*(f,u={}){return ee(f,"GET","/v2/passwordPolicy",j(f,u))})).apply(this,arguments)}class Ir{constructor(u){var d,m,_,E;const P=u.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(d=P.minPasswordLength)&&void 0!==d?d:6,P.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=P.maxPasswordLength),void 0!==P.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=P.containsLowercaseCharacter),void 0!==P.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=P.containsUppercaseCharacter),void 0!==P.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=P.containsNumericCharacter),void 0!==P.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=P.containsNonAlphanumericCharacter),this.enforcementState=u.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(_=null===(m=u.allowedNonAlphanumericCharacters)||void 0===m?void 0:m.join(""))&&void 0!==_?_:"",this.forceUpgradeOnSignin=null!==(E=u.forceUpgradeOnSignin)&&void 0!==E&&E,this.schemaVersion=u.schemaVersion}validatePassword(u){var d,m,_,E,P,H;const ie={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(u,ie),this.validatePasswordCharacterOptions(u,ie),ie.isValid&&(ie.isValid=null===(d=ie.meetsMinPasswordLength)||void 0===d||d),ie.isValid&&(ie.isValid=null===(m=ie.meetsMaxPasswordLength)||void 0===m||m),ie.isValid&&(ie.isValid=null===(_=ie.containsLowercaseLetter)||void 0===_||_),ie.isValid&&(ie.isValid=null===(E=ie.containsUppercaseLetter)||void 0===E||E),ie.isValid&&(ie.isValid=null===(P=ie.containsNumericCharacter)||void 0===P||P),ie.isValid&&(ie.isValid=null===(H=ie.containsNonAlphanumericCharacter)||void 0===H||H),ie}validatePasswordLengthOptions(u,d){const m=this.customStrengthOptions.minPasswordLength,_=this.customStrengthOptions.maxPasswordLength;m&&(d.meetsMinPasswordLength=u.length>=m),_&&(d.meetsMaxPasswordLength=u.length<=_)}validatePasswordCharacterOptions(u,d){let m;this.updatePasswordCharacterOptionsStatuses(d,!1,!1,!1,!1);for(let _=0;_<u.length;_++)m=u.charAt(_),this.updatePasswordCharacterOptionsStatuses(d,m>="a"&&m<="z",m>="A"&&m<="Z",m>="0"&&m<="9",this.allowedNonAlphanumericCharacters.includes(m))}updatePasswordCharacterOptionsStatuses(u,d,m,_,E){this.customStrengthOptions.containsLowercaseLetter&&(u.containsLowercaseLetter||(u.containsLowercaseLetter=d)),this.customStrengthOptions.containsUppercaseLetter&&(u.containsUppercaseLetter||(u.containsUppercaseLetter=m)),this.customStrengthOptions.containsNumericCharacter&&(u.containsNumericCharacter||(u.containsNumericCharacter=_)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(u.containsNonAlphanumericCharacter||(u.containsNonAlphanumericCharacter=E))}}class cM{constructor(u,d,m,_){this.app=u,this.heartbeatServiceProvider=d,this.appCheckServiceProvider=m,this.config=_,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new gE(this),this.idTokenSubscription=new gE(this),this.beforeStateQueue=new $l(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=vt,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=u.name,this.clientVersion=_.sdkClientVersion}_initializeWithPersistence(u,d){var m=this;return d&&(this._popupRedirectResolver=Z(d)),this._initializationPromise=this.queue((0,C.Z)(function*(){var _,E;if(!m._deleted&&(m.persistenceManager=yield Mt.create(m,u),!m._deleted)){if(null!==(_=m._popupRedirectResolver)&&void 0!==_&&_._shouldInitProactively)try{yield m._popupRedirectResolver._initialize(m)}catch{}yield m.initializeCurrentUser(d),m.lastNotifiedUid=(null===(E=m.currentUser)||void 0===E?void 0:E.uid)||null,!m._deleted&&(m._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var u=this;return(0,C.Z)(function*(){if(u._deleted)return;const d=yield u.assertedPersistence.getCurrentUser();if(u.currentUser||d){if(u.currentUser&&d&&u.currentUser.uid===d.uid)return u._currentUser._assign(d),void(yield u.currentUser.getIdToken());yield u._updateCurrentUser(d,!0)}})()}initializeCurrentUser(u){var d=this;return(0,C.Z)(function*(){var m;const _=yield d.assertedPersistence.getCurrentUser();let E=_,P=!1;if(u&&d.config.authDomain){yield d.getOrInitRedirectPersistenceManager();const H=null===(m=d.redirectUser)||void 0===m?void 0:m._redirectEventId,ie=E?._redirectEventId,we=yield d.tryRedirectSignIn(u);(!H||H===ie)&&we?.user&&(E=we.user,P=!0)}if(!E)return d.directlySetCurrentUser(null);if(!E._redirectEventId){if(P)try{yield d.beforeStateQueue.runMiddleware(E)}catch(H){E=_,d._popupRedirectResolver._overrideRedirectResult(d,()=>Promise.reject(H))}return E?d.reloadAndSetCurrentUserOrClear(E):d.directlySetCurrentUser(null)}return oe(d._popupRedirectResolver,d,"argument-error"),yield d.getOrInitRedirectPersistenceManager(),d.redirectUser&&d.redirectUser._redirectEventId===E._redirectEventId?d.directlySetCurrentUser(E):d.reloadAndSetCurrentUserOrClear(E)})()}tryRedirectSignIn(u){var d=this;return(0,C.Z)(function*(){let m=null;try{m=yield d._popupRedirectResolver._completeRedirectFn(d,u,!0)}catch{yield d._setRedirectUser(null)}return m})()}reloadAndSetCurrentUserOrClear(u){var d=this;return(0,C.Z)(function*(){try{yield ti(u)}catch(m){if("auth/network-request-failed"!==m?.code)return d.directlySetCurrentUser(null)}return d.directlySetCurrentUser(u)})()}useDeviceLanguage(){this.languageCode=function Ke(){if(typeof navigator>"u")return null;const f=navigator;return f.languages&&f.languages[0]||f.language||null}()}_delete(){var u=this;return(0,C.Z)(function*(){u._deleted=!0})()}updateCurrentUser(u){var d=this;return(0,C.Z)(function*(){const m=u?(0,K.m9)(u):null;return m&&oe(m.auth.config.apiKey===d.config.apiKey,d,"invalid-user-token"),d._updateCurrentUser(m&&m._clone(d))})()}_updateCurrentUser(u,d=!1){var m=this;return(0,C.Z)(function*(){if(!m._deleted)return u&&oe(m.tenantId===u.tenantId,m,"tenant-id-mismatch"),d||(yield m.beforeStateQueue.runMiddleware(u)),m.queue((0,C.Z)(function*(){yield m.directlySetCurrentUser(u),m.notifyAuthListeners()}))})()}signOut(){var u=this;return(0,C.Z)(function*(){return yield u.beforeStateQueue.runMiddleware(null),(u.redirectPersistenceManager||u._popupRedirectResolver)&&(yield u._setRedirectUser(null)),u._updateCurrentUser(null,!0)})()}setPersistence(u){var d=this;return this.queue((0,C.Z)(function*(){yield d.assertedPersistence.setPersistence(Z(u))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(u){var d=this;return(0,C.Z)(function*(){d._getPasswordPolicyInternal()||(yield d._updatePasswordPolicy());const m=d._getPasswordPolicyInternal();return m.schemaVersion!==d.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(d._errorFactory.create("unsupported-password-policy-schema-version",{})):m.validatePassword(u)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var u=this;return(0,C.Z)(function*(){const d=yield function lM(f){return Jh.apply(this,arguments)}(u),m=new Ir(d);null===u.tenantId?u._projectPasswordPolicy=m:u._tenantPasswordPolicies[u.tenantId]=m})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(u){this._errorFactory=new K.LL("auth","Firebase",u())}onAuthStateChanged(u,d,m){return this.registerStateListener(this.authStateSubscription,u,d,m)}beforeAuthStateChanged(u,d){return this.beforeStateQueue.pushCallback(u,d)}onIdTokenChanged(u,d,m){return this.registerStateListener(this.idTokenSubscription,u,d,m)}authStateReady(){return new Promise((u,d)=>{if(this.currentUser)u();else{const m=this.onAuthStateChanged(()=>{m(),u()},d)}})}revokeAccessToken(u){var d=this;return(0,C.Z)(function*(){if(d.currentUser){const m=yield d.currentUser.getIdToken(),_={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:u,idToken:m};null!=d.tenantId&&(_.tenantId=d.tenantId),yield function M(f,u){return D.apply(this,arguments)}(d,_)}})()}toJSON(){var u;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(u=this._currentUser)||void 0===u?void 0:u.toJSON()}}_setRedirectUser(u,d){var m=this;return(0,C.Z)(function*(){const _=yield m.getOrInitRedirectPersistenceManager(d);return null===u?_.removeCurrentUser():_.setCurrentUser(u)})()}getOrInitRedirectPersistenceManager(u){var d=this;return(0,C.Z)(function*(){if(!d.redirectPersistenceManager){const m=u&&Z(u)||d._popupRedirectResolver;oe(m,d,"argument-error"),d.redirectPersistenceManager=yield Mt.create(d,[Z(m._redirectPersistence)],"redirectUser"),d.redirectUser=yield d.redirectPersistenceManager.getCurrentUser()}return d.redirectPersistenceManager})()}_redirectUserForId(u){var d=this;return(0,C.Z)(function*(){var m,_;return d._isInitialized&&(yield d.queue((0,C.Z)(function*(){}))),(null===(m=d._currentUser)||void 0===m?void 0:m._redirectEventId)===u?d._currentUser:(null===(_=d.redirectUser)||void 0===_?void 0:_._redirectEventId)===u?d.redirectUser:null})()}_persistUserIfCurrent(u){var d=this;return(0,C.Z)(function*(){if(u===d.currentUser)return d.queue((0,C.Z)(function*(){return d.directlySetCurrentUser(u)}))})()}_notifyListenersIfCurrent(u){u===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var u,d;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const m=null!==(d=null===(u=this.currentUser)||void 0===u?void 0:u.uid)&&void 0!==d?d:null;this.lastNotifiedUid!==m&&(this.lastNotifiedUid=m,this.authStateSubscription.next(this.currentUser))}registerStateListener(u,d,m,_){if(this._deleted)return()=>{};const E="function"==typeof d?d:d.next.bind(d);let P=!1;const H=this._isInitialized?Promise.resolve():this._initializationPromise;if(oe(H,this,"internal-error"),H.then(()=>{P||E(this.currentUser)}),"function"==typeof d){const ie=u.addObserver(d,m,_);return()=>{P=!0,ie()}}{const ie=u.addObserver(d);return()=>{P=!0,ie()}}}directlySetCurrentUser(u){var d=this;return(0,C.Z)(function*(){d.currentUser&&d.currentUser!==u&&d._currentUser._stopProactiveRefresh(),u&&d.isProactiveRefreshEnabled&&u._startProactiveRefresh(),d.currentUser=u,u?yield d.assertedPersistence.setCurrentUser(u):yield d.assertedPersistence.removeCurrentUser()})()}queue(u){return this.operations=this.operations.then(u,u),this.operations}get assertedPersistence(){return oe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(u){!u||this.frameworks.includes(u)||(this.frameworks.push(u),this.frameworks.sort(),this.clientVersion=pt(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var u=this;return(0,C.Z)(function*(){var d;const m={"X-Client-Version":u.clientVersion};u.app.options.appId&&(m["X-Firebase-gmpid"]=u.app.options.appId);const _=yield null===(d=u.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===d?void 0:d.getHeartbeatsHeader();_&&(m["X-Firebase-Client"]=_);const E=yield u._getAppCheckToken();return E&&(m["X-Firebase-AppCheck"]=E),m})()}_getAppCheckToken(){var u=this;return(0,C.Z)(function*(){var d;const m=yield null===(d=u.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===d?void 0:d.getToken();return m?.error&&function ui(f,...u){Ze.logLevel<=Se.in.WARN&&Ze.warn(`Auth (${N.SDK_VERSION}): ${f}`,...u)}(`Error while retrieving App Check token: ${m.error}`),m?.token})()}}function Cn(f){return(0,K.m9)(f)}class gE{constructor(u){this.auth=u,this.observer=null,this.addObserver=(0,K.ne)(d=>this.observer=d)}get next(){return oe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Wg(f){return new Promise((u,d)=>{const m=document.createElement("script");m.setAttribute("src",f),m.onload=u,m.onerror=_=>{const E=qt("internal-error");E.customData=_,d(E)},m.type="text/javascript",m.charset="UTF-8",function Ws(){var f,u;return null!==(u=null===(f=document.getElementsByTagName("head"))||void 0===f?void 0:f[0])&&void 0!==u?u:document}().appendChild(m)})}function _E(f){return`__${f}${Math.floor(1e6*Math.random())}`}class vE{constructor(u){this.type="recaptcha-enterprise",this.auth=Cn(u)}verify(u="verify",d=!1){var m=this;return(0,C.Z)(function*(){function E(){return E=(0,C.Z)(function*(H){if(!d){if(null==H.tenantId&&null!=H._agentRecaptchaConfig)return H._agentRecaptchaConfig.siteKey;if(null!=H.tenantId&&void 0!==H._tenantRecaptchaConfigs[H.tenantId])return H._tenantRecaptchaConfigs[H.tenantId].siteKey}return new Promise(function(){var ie=(0,C.Z)(function*(we,Fe){vo(H,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(Et=>{if(void 0!==Et.recaptchaKey){const $i=new gi(Et);return null==H.tenantId?H._agentRecaptchaConfig=$i:H._tenantRecaptchaConfigs[H.tenantId]=$i,we($i.siteKey)}Fe(new Error("recaptcha Enterprise site key undefined"))}).catch(Et=>{Fe(Et)})});return function(we,Fe){return ie.apply(this,arguments)}}())}),E.apply(this,arguments)}function P(H,ie,we){const Fe=window.grecaptcha;ei(Fe)?Fe.enterprise.ready(()=>{Fe.enterprise.execute(H,{action:u}).then(Et=>{ie(Et)}).catch(()=>{ie("NO_RECAPTCHA")})}):we(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((H,ie)=>{(function _(H){return E.apply(this,arguments)})(m.auth).then(we=>{if(!d&&ei(window.grecaptcha))P(we,H,ie);else{if(typeof window>"u")return void ie(new Error("RecaptchaVerifier is only supported in browser"));Wg("https://www.google.com/recaptcha/enterprise.js?render="+we).then(()=>{P(we,H,ie)}).catch(Fe=>{ie(Fe)})}}).catch(we=>{ie(we)})})})()}}function qg(f,u,d){return Gg.apply(this,arguments)}function Gg(){return(Gg=(0,C.Z)(function*(f,u,d,m=!1){const _=new vE(f);let E;try{E=yield _.verify(d)}catch{E=yield _.verify(d,!0)}const P=Object.assign({},u);return Object.assign(P,m?{captchaResp:E}:{captchaResponse:E}),Object.assign(P,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(P,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),P})).apply(this,arguments)}function Di(f,u,d,m){return ze.apply(this,arguments)}function ze(){return ze=(0,C.Z)(function*(f,u,d,m){var _;if(null!==(_=f._getRecaptchaConfig())&&void 0!==_&&_.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const E=yield qg(f,u,d,"getOobCode"===d);return m(f,E)}return m(f,u).catch(function(){var E=(0,C.Z)(function*(P){if("auth/missing-recaptcha-token"===P.code){console.log(`${d} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const H=yield qg(f,u,d,"getOobCode"===d);return m(f,H)}return Promise.reject(P)});return function(P){return E.apply(this,arguments)}}())}),ze.apply(this,arguments)}function bE(f,u,d){const m=Cn(f);oe(m._canInitEmulator,m,"emulator-config-failed"),oe(/^https?:\/\//.test(u),m,"invalid-emulator-scheme");const _=!!d?.disableWarnings,E=mt(u),{host:P,port:H}=function fu(f){const u=mt(f),d=/(\/\/)?([^?#/]+)/.exec(f.substr(u.length));if(!d)return{host:"",port:null};const m=d[2].split("@").pop()||"",_=/^(\[[^\]]+\])(:|$)/.exec(m);if(_){const E=_[1];return{host:E,port:Kg(m.substr(E.length+1))}}{const[E,P]=m.split(":");return{host:E,port:Kg(P)}}}(u);m.config.emulator={url:`${E}//${P}${null===H?"":`:${H}`}/`},m.settings.appVerificationDisabledForTesting=!0,m.emulatorConfig=Object.freeze({host:P,port:H,protocol:E.replace(":",""),options:Object.freeze({disableWarnings:_})}),_||function Yg(){function f(){const u=document.createElement("p"),d=u.style;u.innerText="Running in emulator mode. Do not use with production credentials.",d.position="fixed",d.width="100%",d.backgroundColor="#ffffff",d.border=".1em solid #000000",d.color="#b50000",d.bottom="0px",d.left="0px",d.margin="0px",d.zIndex="10000",d.textAlign="center",u.classList.add("firebase-emulator-warning"),document.body.appendChild(u)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",f):f())}()}function mt(f){const u=f.indexOf(":");return u<0?"":f.substr(0,u+1)}function Kg(f){if(!f)return null;const u=Number(f);return isNaN(u)?null:u}class Ma{constructor(u,d){this.providerId=u,this.signInMethod=d}toJSON(){return wt("not implemented")}_getIdTokenResponse(u){return wt("not implemented")}_linkToIdToken(u,d){return wt("not implemented")}_getReauthenticationResolver(u){return wt("not implemented")}}function Wl(f,u){return Ra.apply(this,arguments)}function Ra(){return(Ra=(0,C.Z)(function*(f,u){return ee(f,"POST","/v1/accounts:resetPassword",j(f,u))})).apply(this,arguments)}function pu(){return(pu=(0,C.Z)(function*(f,u){return ee(f,"POST","/v1/accounts:update",u)})).apply(this,arguments)}function EE(f,u){return ht.apply(this,arguments)}function ht(){return(ht=(0,C.Z)(function*(f,u){return ee(f,"POST","/v1/accounts:signUp",u)})).apply(this,arguments)}function mu(){return(mu=(0,C.Z)(function*(f,u){return ee(f,"POST","/v1/accounts:update",j(f,u))})).apply(this,arguments)}function ir(f,u){return gu.apply(this,arguments)}function gu(){return(gu=(0,C.Z)(function*(f,u){return de(f,"POST","/v1/accounts:signInWithPassword",j(f,u))})).apply(this,arguments)}function rf(f,u){return Yt.apply(this,arguments)}function Yt(){return(Yt=(0,C.Z)(function*(f,u){return ee(f,"POST","/v1/accounts:sendOobCode",j(f,u))})).apply(this,arguments)}function Qg(){return(Qg=(0,C.Z)(function*(f,u){return rf(f,u)})).apply(this,arguments)}function G(f,u){return ql.apply(this,arguments)}function ql(){return(ql=(0,C.Z)(function*(f,u){return rf(f,u)})).apply(this,arguments)}function sf(f,u){return _u.apply(this,arguments)}function _u(){return(_u=(0,C.Z)(function*(f,u){return rf(f,u)})).apply(this,arguments)}function lf(){return(lf=(0,C.Z)(function*(f,u){return rf(f,u)})).apply(this,arguments)}function Xg(){return(Xg=(0,C.Z)(function*(f,u){return de(f,"POST","/v1/accounts:signInWithEmailLink",j(f,u))})).apply(this,arguments)}function Jg(){return(Jg=(0,C.Z)(function*(f,u){return de(f,"POST","/v1/accounts:signInWithEmailLink",j(f,u))})).apply(this,arguments)}class yu extends Ma{constructor(u,d,m,_=null){super("password",m),this._email=u,this._password=d,this._tenantId=_}static _fromEmailAndPassword(u,d){return new yu(u,d,"password")}static _fromEmailAndCode(u,d,m=null){return new yu(u,d,"emailLink",m)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(u){const d="string"==typeof u?JSON.parse(u):u;if(d?.email&&d?.password){if("password"===d.signInMethod)return this._fromEmailAndPassword(d.email,d.password);if("emailLink"===d.signInMethod)return this._fromEmailAndCode(d.email,d.password,d.tenantId)}return null}_getIdTokenResponse(u){var d=this;return(0,C.Z)(function*(){switch(d.signInMethod){case"password":return Di(u,{returnSecureToken:!0,email:d._email,password:d._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",ir);case"emailLink":return function cf(f,u){return Xg.apply(this,arguments)}(u,{email:d._email,oobCode:d._password});default:gt(u,"internal-error")}})()}_linkToIdToken(u,d){var m=this;return(0,C.Z)(function*(){switch(m.signInMethod){case"password":return Di(u,{idToken:d,returnSecureToken:!0,email:m._email,password:m._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",EE);case"emailLink":return function mM(f,u){return Jg.apply(this,arguments)}(u,{idToken:d,email:m._email,oobCode:m._password});default:gt(u,"internal-error")}})()}_getReauthenticationResolver(u){return this._getIdTokenResponse(u)}}function ls(f,u){return qs.apply(this,arguments)}function qs(){return(qs=(0,C.Z)(function*(f,u){return de(f,"POST","/v1/accounts:signInWithIdp",j(f,u))})).apply(this,arguments)}class xr extends Ma{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(u){const d=new xr(u.providerId,u.signInMethod);return u.idToken||u.accessToken?(u.idToken&&(d.idToken=u.idToken),u.accessToken&&(d.accessToken=u.accessToken),u.nonce&&!u.pendingToken&&(d.nonce=u.nonce),u.pendingToken&&(d.pendingToken=u.pendingToken)):u.oauthToken&&u.oauthTokenSecret?(d.accessToken=u.oauthToken,d.secret=u.oauthTokenSecret):gt("argument-error"),d}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(u){const d="string"==typeof u?JSON.parse(u):u,{providerId:m,signInMethod:_}=d,E=(0,We._T)(d,["providerId","signInMethod"]);if(!m||!_)return null;const P=new xr(m,_);return P.idToken=E.idToken||void 0,P.accessToken=E.accessToken||void 0,P.secret=E.secret,P.nonce=E.nonce,P.pendingToken=E.pendingToken||null,P}_getIdTokenResponse(u){return ls(u,this.buildRequest())}_linkToIdToken(u,d){const m=this.buildRequest();return m.idToken=d,ls(u,m)}_getReauthenticationResolver(u){const d=this.buildRequest();return d.autoCreate=!1,ls(u,d)}buildRequest(){const u={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)u.pendingToken=this.pendingToken;else{const d={};this.idToken&&(d.id_token=this.idToken),this.accessToken&&(d.access_token=this.accessToken),this.secret&&(d.oauth_token_secret=this.secret),d.providerId=this.providerId,this.nonce&&!this.pendingToken&&(d.nonce=this.nonce),u.postBody=(0,K.xO)(d)}return u}}function df(){return(df=(0,C.Z)(function*(f,u){return ee(f,"POST","/v1/accounts:sendVerificationCode",j(f,u))})).apply(this,arguments)}function vu(){return(vu=(0,C.Z)(function*(f,u){return de(f,"POST","/v1/accounts:signInWithPhoneNumber",j(f,u))})).apply(this,arguments)}function hf(){return(hf=(0,C.Z)(function*(f,u){const d=yield de(f,"POST","/v1/accounts:signInWithPhoneNumber",j(f,u));if(d.temporaryProof)throw wn(f,"account-exists-with-different-credential",d);return d})).apply(this,arguments)}const cs={USER_NOT_FOUND:"user-not-found"};function O(){return(O=(0,C.Z)(function*(f,u){return de(f,"POST","/v1/accounts:signInWithPhoneNumber",j(f,Object.assign(Object.assign({},u),{operation:"REAUTH"})),cs)})).apply(this,arguments)}class us extends Ma{constructor(u){super("phone","phone"),this.params=u}static _fromVerification(u,d){return new us({verificationId:u,verificationCode:d})}static _fromTokenResponse(u,d){return new us({phoneNumber:u,temporaryProof:d})}_getIdTokenResponse(u){return function IE(f,u){return vu.apply(this,arguments)}(u,this._makeVerificationRequest())}_linkToIdToken(u,d){return function Pa(f,u){return hf.apply(this,arguments)}(u,Object.assign({idToken:d},this._makeVerificationRequest()))}_getReauthenticationResolver(u){return function xE(f,u){return O.apply(this,arguments)}(u,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:u,phoneNumber:d,verificationId:m,verificationCode:_}=this.params;return u&&d?{temporaryProof:u,phoneNumber:d}:{sessionInfo:m,code:_}}toJSON(){const u={providerId:this.providerId};return this.params.phoneNumber&&(u.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(u.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(u.verificationCode=this.params.verificationCode),this.params.verificationId&&(u.verificationId=this.params.verificationId),u}static fromJSON(u){"string"==typeof u&&(u=JSON.parse(u));const{verificationId:d,verificationCode:m,phoneNumber:_,temporaryProof:E}=u;return m||d||_||E?new us({verificationId:d,verificationCode:m,phoneNumber:_,temporaryProof:E}):null}}class Gs{constructor(u){var d,m,_,E,P,H;const ie=(0,K.zd)((0,K.pd)(u)),we=null!==(d=ie.apiKey)&&void 0!==d?d:null,Fe=null!==(m=ie.oobCode)&&void 0!==m?m:null,Et=function he(f){switch(f){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(_=ie.mode)&&void 0!==_?_:null);oe(we&&Fe&&Et,"argument-error"),this.apiKey=we,this.operation=Et,this.code=Fe,this.continueUrl=null!==(E=ie.continueUrl)&&void 0!==E?E:null,this.languageCode=null!==(P=ie.languageCode)&&void 0!==P?P:null,this.tenantId=null!==(H=ie.tenantId)&&void 0!==H?H:null}static parseLink(u){const d=function bu(f){const u=(0,K.zd)((0,K.pd)(f)).link,d=u?(0,K.zd)((0,K.pd)(u)).deep_link_id:null,m=(0,K.zd)((0,K.pd)(f)).deep_link_id;return(m?(0,K.zd)((0,K.pd)(m)).link:null)||m||d||u||f}(u);try{return new Gs(d)}catch{return null}}}let ff=(()=>{class f{constructor(){this.providerId=f.PROVIDER_ID}static credential(d,m){return yu._fromEmailAndPassword(d,m)}static credentialWithLink(d,m){const _=Gs.parseLink(m);return oe(_,"argument-error"),yu._fromEmailAndCode(d,_.code,_.tenantId)}}return f.PROVIDER_ID="password",f.EMAIL_PASSWORD_SIGN_IN_METHOD="password",f.EMAIL_LINK_SIGN_IN_METHOD="emailLink",f})();class Ho{constructor(u){this.providerId=u,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(u){this.defaultLanguageCode=u}setCustomParameters(u){return this.customParameters=u,this}getCustomParameters(){return this.customParameters}}class ka extends Ho{constructor(){super(...arguments),this.scopes=[]}addScope(u){return this.scopes.includes(u)||this.scopes.push(u),this}getScopes(){return[...this.scopes]}}class Cr extends ka{static credentialFromJSON(u){const d="string"==typeof u?JSON.parse(u):u;return oe("providerId"in d&&"signInMethod"in d,"argument-error"),xr._fromParams(d)}credential(u){return this._credential(Object.assign(Object.assign({},u),{nonce:u.rawNonce}))}_credential(u){return oe(u.idToken||u.accessToken,"argument-error"),xr._fromParams(Object.assign(Object.assign({},u),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(u){return Cr.oauthCredentialFromTaggedObject(u)}static credentialFromError(u){return Cr.oauthCredentialFromTaggedObject(u.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:u}){if(!u)return null;const{oauthIdToken:d,oauthAccessToken:m,oauthTokenSecret:_,pendingToken:E,nonce:P,providerId:H}=u;if(!m&&!_&&!d&&!E||!H)return null;try{return new Cr(H)._credential({idToken:d,accessToken:m,nonce:P,pendingToken:E})}catch{return null}}}let wu=(()=>{class f extends ka{constructor(){super("facebook.com")}static credential(d){return xr._fromParams({providerId:f.PROVIDER_ID,signInMethod:f.FACEBOOK_SIGN_IN_METHOD,accessToken:d})}static credentialFromResult(d){return f.credentialFromTaggedObject(d)}static credentialFromError(d){return f.credentialFromTaggedObject(d.customData||{})}static credentialFromTaggedObject({_tokenResponse:d}){if(!d||!("oauthAccessToken"in d)||!d.oauthAccessToken)return null;try{return f.credential(d.oauthAccessToken)}catch{return null}}}return f.FACEBOOK_SIGN_IN_METHOD="facebook.com",f.PROVIDER_ID="facebook.com",f})(),jr=(()=>{class f extends ka{constructor(){super("google.com"),this.addScope("profile")}static credential(d,m){return xr._fromParams({providerId:f.PROVIDER_ID,signInMethod:f.GOOGLE_SIGN_IN_METHOD,idToken:d,accessToken:m})}static credentialFromResult(d){return f.credentialFromTaggedObject(d)}static credentialFromError(d){return f.credentialFromTaggedObject(d.customData||{})}static credentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{oauthIdToken:m,oauthAccessToken:_}=d;if(!m&&!_)return null;try{return f.credential(m,_)}catch{return null}}}return f.GOOGLE_SIGN_IN_METHOD="google.com",f.PROVIDER_ID="google.com",f})(),Co=(()=>{class f extends ka{constructor(){super("github.com")}static credential(d){return xr._fromParams({providerId:f.PROVIDER_ID,signInMethod:f.GITHUB_SIGN_IN_METHOD,accessToken:d})}static credentialFromResult(d){return f.credentialFromTaggedObject(d)}static credentialFromError(d){return f.credentialFromTaggedObject(d.customData||{})}static credentialFromTaggedObject({_tokenResponse:d}){if(!d||!("oauthAccessToken"in d)||!d.oauthAccessToken)return null;try{return f.credential(d.oauthAccessToken)}catch{return null}}}return f.GITHUB_SIGN_IN_METHOD="github.com",f.PROVIDER_ID="github.com",f})();class $o extends Ma{constructor(u,d){super(u,u),this.pendingToken=d}_getIdTokenResponse(u){return ls(u,this.buildRequest())}_linkToIdToken(u,d){const m=this.buildRequest();return m.idToken=d,ls(u,m)}_getReauthenticationResolver(u){const d=this.buildRequest();return d.autoCreate=!1,ls(u,d)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(u){const d="string"==typeof u?JSON.parse(u):u,{providerId:m,signInMethod:_,pendingToken:E}=d;return m&&_&&E&&m===_?new $o(m,E):null}static _create(u,d){return new $o(u,d)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Oa extends Ho{constructor(u){oe(u.startsWith("saml."),"argument-error"),super(u)}static credentialFromResult(u){return Oa.samlCredentialFromTaggedObject(u)}static credentialFromError(u){return Oa.samlCredentialFromTaggedObject(u.customData||{})}static credentialFromJSON(u){const d=$o.fromJSON(u);return oe(d,"argument-error"),d}static samlCredentialFromTaggedObject({_tokenResponse:u}){if(!u)return null;const{pendingToken:d,providerId:m}=u;if(!d||!m)return null;try{return $o._create(m,d)}catch{return null}}}let e_=(()=>{class f extends ka{constructor(){super("twitter.com")}static credential(d,m){return xr._fromParams({providerId:f.PROVIDER_ID,signInMethod:f.TWITTER_SIGN_IN_METHOD,oauthToken:d,oauthTokenSecret:m})}static credentialFromResult(d){return f.credentialFromTaggedObject(d)}static credentialFromError(d){return f.credentialFromTaggedObject(d.customData||{})}static credentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{oauthAccessToken:m,oauthTokenSecret:_}=d;if(!m||!_)return null;try{return f.credential(m,_)}catch{return null}}}return f.TWITTER_SIGN_IN_METHOD="twitter.com",f.PROVIDER_ID="twitter.com",f})();function To(f,u){return Zs.apply(this,arguments)}function Zs(){return(Zs=(0,C.Z)(function*(f,u){return de(f,"POST","/v1/accounts:signUp",j(f,u))})).apply(this,arguments)}class Tr{constructor(u){this.user=u.user,this.providerId=u.providerId,this._tokenResponse=u._tokenResponse,this.operationType=u.operationType}static _fromIdTokenResponse(u,d,m,_=!1){return(0,C.Z)(function*(){const E=yield v._fromIdTokenResponse(u,m,_),P=mf(m);return new Tr({user:E,providerId:P,_tokenResponse:m,operationType:d})})()}static _forOperation(u,d,m){return(0,C.Z)(function*(){yield u._updateTokensIfNecessary(m,!0);const _=mf(m);return new Tr({user:u,providerId:_,_tokenResponse:m,operationType:d})})()}}function mf(f){return f.providerId?f.providerId:"phoneNumber"in f?"phone":null}function gf(f){return Iu.apply(this,arguments)}function Iu(){return(Iu=(0,C.Z)(function*(f){var u;const d=Cn(f);if(yield d._initializationPromise,null!==(u=d.currentUser)&&void 0!==u&&u.isAnonymous)return new Tr({user:d.currentUser,providerId:null,operationType:"signIn"});const m=yield To(d,{returnSecureToken:!0}),_=yield Tr._fromIdTokenResponse(d,"signIn",m,!0);return yield d._updateCurrentUser(_.user),_})).apply(this,arguments)}class Gl extends K.ZR{constructor(u,d,m,_){var E;super(d.code,d.message),this.operationType=m,this.user=_,Object.setPrototypeOf(this,Gl.prototype),this.customData={appName:u.name,tenantId:null!==(E=u.tenantId)&&void 0!==E?E:void 0,_serverResponse:d.customData._serverResponse,operationType:m}}static _fromErrorAndOperation(u,d,m,_){return new Gl(u,d,m,_)}}function Na(f,u,d,m){return("reauthenticate"===u?d._getReauthenticationResolver(f):d._getIdTokenResponse(f)).catch(E=>{throw"auth/multi-factor-auth-required"===E.code?Gl._fromErrorAndOperation(f,E,u,m):E})}function _f(f){return new Set(f.map(({providerId:u})=>u).filter(u=>!!u))}function t_(f,u){return yf.apply(this,arguments)}function yf(){return yf=(0,C.Z)(function*(f,u){const d=(0,K.m9)(f);yield Cu(!0,d,u);const{providerUserInfo:m}=yield function eo(f,u){return to.apply(this,arguments)}(d.auth,{idToken:yield d.getIdToken(),deleteProvider:[u]}),_=_f(m||[]);return d.providerData=d.providerData.filter(E=>_.has(E.providerId)),_.has("phone")||(d.phoneNumber=null),yield d.auth._persistUserIfCurrent(d),d}),yf.apply(this,arguments)}function xu(f,u){return vf.apply(this,arguments)}function vf(){return(vf=(0,C.Z)(function*(f,u,d=!1){const m=yield xn(f,u._linkToIdToken(f.auth,yield f.getIdToken()),d);return Tr._forOperation(f,"link",m)})).apply(this,arguments)}function Cu(f,u,d){return Dr.apply(this,arguments)}function Dr(){return(Dr=(0,C.Z)(function*(f,u,d){yield ti(u);const _=!1===f?"provider-already-linked":"no-such-provider";oe(_f(u.providerData).has(d)===f,u.auth,_)})).apply(this,arguments)}function n_(f,u){return Tu.apply(this,arguments)}function Tu(){return(Tu=(0,C.Z)(function*(f,u,d=!1){const{auth:m}=f,_="reauthenticate";try{const E=yield xn(f,Na(m,_,u,f),d);oe(E.idToken,m,"internal-error");const P=In(E.idToken);oe(P,m,"internal-error");const{sub:H}=P;return oe(f.uid===H,m,"user-mismatch"),Tr._forOperation(f,_,E)}catch(E){throw"auth/user-not-found"===E?.code&&gt(m,"user-mismatch"),E}})).apply(this,arguments)}function i_(f,u){return bf.apply(this,arguments)}function bf(){return(bf=(0,C.Z)(function*(f,u,d=!1){const m="signIn",_=yield Na(f,m,u),E=yield Tr._fromIdTokenResponse(f,m,_);return d||(yield f._updateCurrentUser(E.user)),E})).apply(this,arguments)}function Du(f,u){return Ef.apply(this,arguments)}function Ef(){return(Ef=(0,C.Z)(function*(f,u){return i_(Cn(f),u)})).apply(this,arguments)}function wf(f,u){return If.apply(this,arguments)}function If(){return(If=(0,C.Z)(function*(f,u){const d=(0,K.m9)(f);return yield Cu(!1,d,u.providerId),xu(d,u)})).apply(this,arguments)}function r_(f,u){return xf.apply(this,arguments)}function xf(){return(xf=(0,C.Z)(function*(f,u){return n_((0,K.m9)(f),u)})).apply(this,arguments)}function Cf(){return(Cf=(0,C.Z)(function*(f,u){return de(f,"POST","/v1/accounts:signInWithCustomToken",j(f,u))})).apply(this,arguments)}function CE(f,u){return Tf.apply(this,arguments)}function Tf(){return Tf=(0,C.Z)(function*(f,u){const d=Cn(f),m=yield function Ft(f,u){return Cf.apply(this,arguments)}(d,{token:u,returnSecureToken:!0}),_=yield Tr._fromIdTokenResponse(d,"signIn",m);return yield d._updateCurrentUser(_.user),_}),Tf.apply(this,arguments)}class at{constructor(u,d){this.factorId=u,this.uid=d.mfaEnrollmentId,this.enrollmentTime=new Date(d.enrolledAt).toUTCString(),this.displayName=d.displayName}static _fromServerResponse(u,d){return"phoneInfo"in d?Df._fromServerResponse(u,d):"totpInfo"in d?Au._fromServerResponse(u,d):gt(u,"internal-error")}}class Df extends at{constructor(u){super("phone",u),this.phoneNumber=u.phoneInfo}static _fromServerResponse(u,d){return new Df(d)}}class Au extends at{constructor(u){super("totp",u)}static _fromServerResponse(u,d){return new Au(d)}}function le(f,u,d){var m;oe((null===(m=d.url)||void 0===m?void 0:m.length)>0,f,"invalid-continue-uri"),oe(typeof d.dynamicLinkDomain>"u"||d.dynamicLinkDomain.length>0,f,"invalid-dynamic-link-domain"),u.continueUrl=d.url,u.dynamicLinkDomain=d.dynamicLinkDomain,u.canHandleCodeInApp=d.handleCodeInApp,d.iOS&&(oe(d.iOS.bundleId.length>0,f,"missing-ios-bundle-id"),u.iOSBundleId=d.iOS.bundleId),d.android&&(oe(d.android.packageName.length>0,f,"missing-android-pkg-name"),u.androidInstallApp=d.android.installApp,u.androidMinimumVersionCode=d.android.minimumVersion,u.androidPackageName=d.android.packageName)}function Ai(f){return bt.apply(this,arguments)}function bt(){return(bt=(0,C.Z)(function*(f){const u=Cn(f);u._getPasswordPolicyInternal()&&(yield u._updatePasswordPolicy())})).apply(this,arguments)}function yi(f,u,d){return vi.apply(this,arguments)}function vi(){return(vi=(0,C.Z)(function*(f,u,d){const m=Cn(f),_={requestType:"PASSWORD_RESET",email:u,clientType:"CLIENT_TYPE_WEB"};d&&le(m,_,d),yield Di(m,_,"getOobCode",G)})).apply(this,arguments)}function Fa(f,u,d){return Ui.apply(this,arguments)}function Ui(){return Ui=(0,C.Z)(function*(f,u,d){yield Wl((0,K.m9)(f),{oobCode:u,newPassword:d}).catch(function(){var m=(0,C.Z)(function*(_){throw"auth/password-does-not-meet-requirements"===_.code&&Ai(f),_});return function(_){return m.apply(this,arguments)}}())}),Ui.apply(this,arguments)}function o_(f,u){return Su.apply(this,arguments)}function Su(){return Su=(0,C.Z)(function*(f,u){yield function nf(f,u){return mu.apply(this,arguments)}((0,K.m9)(f),{oobCode:u})}),Su.apply(this,arguments)}function Zl(f,u){return Af.apply(this,arguments)}function Af(){return(Af=(0,C.Z)(function*(f,u){const d=(0,K.m9)(f),m=yield Wl(d,{oobCode:u}),_=m.requestType;switch(oe(_,d,"internal-error"),_){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":oe(m.newEmail,d,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":oe(m.mfaInfo,d,"internal-error");default:oe(m.email,d,"internal-error")}let E=null;return m.mfaInfo&&(E=at._fromServerResponse(Cn(d),m.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===m.requestType?m.newEmail:m.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===m.requestType?m.email:m.newEmail)||null,multiFactorInfo:E},operation:_}})).apply(this,arguments)}function TE(f,u){return hn.apply(this,arguments)}function hn(){return(hn=(0,C.Z)(function*(f,u){const{data:d}=yield Zl((0,K.m9)(f),u);return d.email})).apply(this,arguments)}function ve(f,u,d){return Qe.apply(this,arguments)}function Qe(){return(Qe=(0,C.Z)(function*(f,u,d){const m=Cn(f),P=yield Di(m,{returnSecureToken:!0,email:u,password:d,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",To).catch(ie=>{throw"auth/password-does-not-meet-requirements"===ie.code&&Ai(f),ie}),H=yield Tr._fromIdTokenResponse(m,"signIn",P);return yield m._updateCurrentUser(H.user),H})).apply(this,arguments)}function fn(f,u,d){return Du((0,K.m9)(f),ff.credential(u,d)).catch(function(){var m=(0,C.Z)(function*(_){throw"auth/password-does-not-meet-requirements"===_.code&&Ai(f),_});return function(_){return m.apply(this,arguments)}}())}function io(f,u,d){return Ks.apply(this,arguments)}function Ks(){return(Ks=(0,C.Z)(function*(f,u,d){const m=Cn(f),_={requestType:"EMAIL_SIGNIN",email:u,clientType:"CLIENT_TYPE_WEB"};(function E(P,H){oe(H.handleCodeInApp,m,"argument-error"),H&&le(m,P,H)})(_,d),yield Di(m,_,"getOobCode",sf)})).apply(this,arguments)}function Si(f,u){const d=Gs.parseLink(u);return"EMAIL_SIGNIN"===d?.operation}function La(f,u,d){return Tn.apply(this,arguments)}function Tn(){return(Tn=(0,C.Z)(function*(f,u,d){const m=(0,K.m9)(f),_=ff.credentialWithLink(u,d||kn());return oe(_._tenantId===(m.tenantId||null),m,"tenant-id-mismatch"),Du(m,_)})).apply(this,arguments)}function hs(){return(hs=(0,C.Z)(function*(f,u){return ee(f,"POST","/v1/accounts:createAuthUri",j(f,u))})).apply(this,arguments)}function Xe(f,u){return Ys.apply(this,arguments)}function Ys(){return Ys=(0,C.Z)(function*(f,u){const m={identifier:u,continueUri:Vn()?kn():"http://localhost"},{signinMethods:_}=yield function ds(f,u){return hs.apply(this,arguments)}((0,K.m9)(f),m);return _||[]}),Ys.apply(this,arguments)}function s_(f,u){return fs.apply(this,arguments)}function fs(){return fs=(0,C.Z)(function*(f,u){const d=(0,K.m9)(f),_={requestType:"VERIFY_EMAIL",idToken:yield f.getIdToken()};u&&le(d.auth,_,u);const{email:E}=yield function pM(f,u){return Qg.apply(this,arguments)}(d.auth,_);E!==f.email&&(yield f.reload())}),fs.apply(this,arguments)}function Un(f,u,d){return Qs.apply(this,arguments)}function Qs(){return Qs=(0,C.Z)(function*(f,u,d){const m=(0,K.m9)(f),E={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield f.getIdToken(),newEmail:u};d&&le(m.auth,E,d);const{email:P}=yield function af(f,u){return lf.apply(this,arguments)}(m.auth,E);P!==f.email&&(yield f.reload())}),Qs.apply(this,arguments)}function zr(){return(zr=(0,C.Z)(function*(f,u){return ee(f,"POST","/v1/accounts:update",u)})).apply(this,arguments)}function Kl(f,u){return Mu.apply(this,arguments)}function Mu(){return Mu=(0,C.Z)(function*(f,{displayName:u,photoURL:d}){if(void 0===u&&void 0===d)return;const m=(0,K.m9)(f),E={idToken:yield m.getIdToken(),displayName:u,photoUrl:d,returnSecureToken:!0},P=yield xn(m,function Va(f,u){return zr.apply(this,arguments)}(m.auth,E));m.displayName=P.displayName||null,m.photoURL=P.photoUrl||null;const H=m.providerData.find(({providerId:ie})=>"password"===ie);H&&(H.displayName=m.displayName,H.photoURL=m.photoURL),yield m._updateTokensIfNecessary(P)}),Mu.apply(this,arguments)}function ps(f,u){return Ba((0,K.m9)(f),u,null)}function Wo(f,u){return Ba((0,K.m9)(f),null,u)}function Ba(f,u,d){return Xs.apply(this,arguments)}function Xs(){return Xs=(0,C.Z)(function*(f,u,d){const{auth:m}=f,E={idToken:yield f.getIdToken(),returnSecureToken:!0};u&&(E.email=u),d&&(E.password=d);const P=yield xn(f,function tf(f,u){return pu.apply(this,arguments)}(m,E));yield f._updateTokensIfNecessary(P,!0)}),Xs.apply(this,arguments)}class Yl{constructor(u,d,m={}){this.isNewUser=u,this.providerId=d,this.profile=m}}class Ru extends Yl{constructor(u,d,m,_){super(u,d,m),this.username=_}}class a_ extends Yl{constructor(u,d){super(u,"facebook.com",d)}}class Do extends Ru{constructor(u,d){super(u,"github.com",d,"string"==typeof d?.login?d?.login:null)}}class Pu extends Yl{constructor(u,d){super(u,"google.com",d)}}class Ua extends Ru{constructor(u,d,m){super(u,"twitter.com",d,m)}}function Ql(f){const{user:u,_tokenResponse:d}=f;return u.isAnonymous&&!d?{providerId:null,isNewUser:!1,profile:null}:function yt(f){var u,d;if(!f)return null;const{providerId:m}=f,_=f.rawUserInfo?JSON.parse(f.rawUserInfo):{},E=f.isNewUser||"identitytoolkit#SignupNewUserResponse"===f.kind;if(!m&&f?.idToken){const P=null===(d=null===(u=In(f.idToken))||void 0===u?void 0:u.firebase)||void 0===d?void 0:d.sign_in_provider;if(P)return new Yl(E,"anonymous"!==P&&"custom"!==P?P:null)}if(!m)return null;switch(m){case"facebook.com":return new a_(E,_);case"github.com":return new Do(E,_);case"google.com":return new Pu(E,_);case"twitter.com":return new Ua(E,_,f.screenName||null);case"custom":case"anonymous":return new Yl(E,null);default:return new Yl(E,m,_)}}(d)}class ea{constructor(u,d,m){this.type=u,this.credential=d,this.user=m}static _fromIdtoken(u,d){return new ea("enroll",u,d)}static _fromMfaPendingCredential(u){return new ea("signin",u)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(u){var d,m;if(u?.multiFactorSession){if(null!==(d=u.multiFactorSession)&&void 0!==d&&d.pendingCredential)return ea._fromMfaPendingCredential(u.multiFactorSession.pendingCredential);if(null!==(m=u.multiFactorSession)&&void 0!==m&&m.idToken)return ea._fromIdtoken(u.multiFactorSession.idToken)}return null}}class c_{constructor(u,d,m){this.session=u,this.hints=d,this.signInResolver=m}static _fromError(u,d){const m=Cn(u),_=d.customData._serverResponse,E=(_.mfaInfo||[]).map(H=>at._fromServerResponse(m,H));oe(_.mfaPendingCredential,m,"internal-error");const P=ea._fromMfaPendingCredential(_.mfaPendingCredential);return new c_(P,E,function(){var H=(0,C.Z)(function*(ie){const we=yield ie._process(m,P);delete _.mfaInfo,delete _.mfaPendingCredential;const Fe=Object.assign(Object.assign({},_),{idToken:we.idToken,refreshToken:we.refreshToken});switch(d.operationType){case"signIn":const Et=yield Tr._fromIdTokenResponse(m,d.operationType,Fe);return yield m._updateCurrentUser(Et.user),Et;case"reauthenticate":return oe(d.user,m,"internal-error"),Tr._forOperation(d.user,d.operationType,Fe);default:gt(m,"internal-error")}});return function(ie){return H.apply(this,arguments)}}())}resolveSignIn(u){var d=this;return(0,C.Z)(function*(){return d.signInResolver(u)})()}}function yM(f,u){var d;const m=(0,K.m9)(f),_=u;return oe(u.customData.operationType,m,"argument-error"),oe(null===(d=_.customData._serverResponse)||void 0===d?void 0:d.mfaPendingCredential,m,"argument-error"),c_._fromError(m,_)}class u_{constructor(u){this.user=u,this.enrolledFactors=[],u._onReload(d=>{d.mfaInfo&&(this.enrolledFactors=d.mfaInfo.map(m=>at._fromServerResponse(u.auth,m)))})}static _fromUser(u){return new u_(u)}getSession(){var u=this;return(0,C.Z)(function*(){return ea._fromIdtoken(yield u.user.getIdToken(),u.user)})()}enroll(u,d){var m=this;return(0,C.Z)(function*(){const _=u,E=yield m.getSession(),P=yield xn(m.user,_._process(m.user.auth,E,d));return yield m.user._updateTokensIfNecessary(P),m.user.reload()})()}unenroll(u){var d=this;return(0,C.Z)(function*(){const m="string"==typeof u?u:u.uid,_=yield d.user.getIdToken();try{const E=yield xn(d.user,function wM(f,u){return ee(f,"POST","/v2/accounts/mfaEnrollment:withdraw",j(f,u))}(d.user.auth,{idToken:_,mfaEnrollmentId:m}));d.enrolledFactors=d.enrolledFactors.filter(({uid:P})=>P!==m),yield d.user._updateTokensIfNecessary(E),yield d.user.reload()}catch(E){throw E}})()}}const d_=new WeakMap;function IM(f){const u=(0,K.m9)(f);return d_.has(u)||d_.set(u,u_._fromUser(u)),d_.get(u)}const Pf="__sak";class DE{constructor(u,d){this.storageRetriever=u,this.type=d}_isAvailable(){try{return this.storage?(this.storage.setItem(Pf,"1"),this.storage.removeItem(Pf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(u,d){return this.storage.setItem(u,JSON.stringify(d)),Promise.resolve()}_get(u){const d=this.storage.getItem(u);return Promise.resolve(d?JSON.parse(d):null)}_remove(u){return this.storage.removeItem(u),Promise.resolve()}get storage(){return this.storageRetriever()}}const AE=(()=>{class f extends DE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(d,m)=>this.onStorageEvent(d,m),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function h_(){const f=(0,K.z$)();return Re(f)||Ae(f)}()&&function Te(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Bn(),this._shouldAllowMigration=!0}forAllChangedKeys(d){for(const m of Object.keys(this.listeners)){const _=this.storage.getItem(m),E=this.localCache[m];_!==E&&d(m,E,_)}}onStorageEvent(d,m=!1){if(!d.key)return void this.forAllChangedKeys((H,ie,we)=>{this.notifyListeners(H,we)});const _=d.key;if(m?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const H=this.storage.getItem(_);if(d.newValue!==H)null!==d.newValue?this.storage.setItem(_,d.newValue):this.storage.removeItem(_);else if(this.localCache[_]===d.newValue&&!m)return}const E=()=>{const H=this.storage.getItem(_);!m&&this.localCache[_]===H||this.notifyListeners(_,H)},P=this.storage.getItem(_);!function V(){return(0,K.w1)()&&10===document.documentMode}()||P===d.newValue||d.newValue===d.oldValue?E():setTimeout(E,10)}notifyListeners(d,m){this.localCache[d]=m;const _=this.listeners[d];if(_)for(const E of Array.from(_))E(m&&JSON.parse(m))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((d,m,_)=>{this.onStorageEvent(new StorageEvent("storage",{key:d,oldValue:m,newValue:_}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(d,m){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[d]||(this.listeners[d]=new Set,this.localCache[d]=this.storage.getItem(d)),this.listeners[d].add(m)}_removeListener(d,m){this.listeners[d]&&(this.listeners[d].delete(m),0===this.listeners[d].size&&delete this.listeners[d]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(d,m){var _=()=>super._set,E=this;return(0,C.Z)(function*(){yield _().call(E,d,m),E.localCache[d]=JSON.stringify(m)})()}_get(d){var m=()=>super._get,_=this;return(0,C.Z)(function*(){const E=yield m().call(_,d);return _.localCache[d]=JSON.stringify(E),E})()}_remove(d){var m=()=>super._remove,_=this;return(0,C.Z)(function*(){yield m().call(_,d),delete _.localCache[d]})()}}return f.type="LOCAL",f})(),So=(()=>{class f extends DE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(d,m){}_removeListener(d,m){}}return f.type="SESSION",f})();let TM=(()=>{class f{constructor(d){this.eventTarget=d,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(d){const m=this.receivers.find(E=>E.isListeningto(d));if(m)return m;const _=new f(d);return this.receivers.push(_),_}isListeningto(d){return this.eventTarget===d}handleEvent(d){var m=this;return(0,C.Z)(function*(){const _=d,{eventId:E,eventType:P,data:H}=_.data,ie=m.handlersMap[P];if(!ie?.size)return;_.ports[0].postMessage({status:"ack",eventId:E,eventType:P});const we=Array.from(ie).map(function(){var Et=(0,C.Z)(function*($i){return $i(_.origin,H)});return function($i){return Et.apply(this,arguments)}}()),Fe=yield function CM(f){return Promise.all(f.map(function(){var u=(0,C.Z)(function*(d){try{return{fulfilled:!0,value:yield d}}catch(m){return{fulfilled:!1,reason:m}}});return function(d){return u.apply(this,arguments)}}()))}(we);_.ports[0].postMessage({status:"done",eventId:E,eventType:P,response:Fe})})()}_subscribe(d,m){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[d]||(this.handlersMap[d]=new Set),this.handlersMap[d].add(m)}_unsubscribe(d,m){this.handlersMap[d]&&m&&this.handlersMap[d].delete(m),(!m||0===this.handlersMap[d].size)&&delete this.handlersMap[d],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return f.receivers=[],f})();function jn(f="",u=10){let d="";for(let m=0;m<u;m++)d+=Math.floor(10*Math.random());return f+d}class ku{constructor(u){this.target=u,this.handlers=new Set}removeMessageHandler(u){u.messageChannel&&(u.messageChannel.port1.removeEventListener("message",u.onMessage),u.messageChannel.port1.close()),this.handlers.delete(u)}_send(u,d,m=50){var _=this;return(0,C.Z)(function*(){const E=typeof MessageChannel<"u"?new MessageChannel:null;if(!E)throw new Error("connection_unavailable");let P,H;return new Promise((ie,we)=>{const Fe=jn("",20);E.port1.start();const Et=setTimeout(()=>{we(new Error("unsupported_event"))},m);H={messageChannel:E,onMessage($i){const Zo=$i;if(Zo.data.eventId===Fe)switch(Zo.data.status){case"ack":clearTimeout(Et),P=setTimeout(()=>{we(new Error("timeout"))},3e3);break;case"done":clearTimeout(P),ie(Zo.data.response);break;default:clearTimeout(Et),clearTimeout(P),we(new Error("invalid_response"))}}},_.handlers.add(H),E.port1.addEventListener("message",H.onMessage),_.target.postMessage({eventType:u,eventId:Fe,data:d},[E.port2])}).finally(()=>{H&&_.removeMessageHandler(H)})})()}}function jt(){return window}function Ou(){return typeof jt().WorkerGlobalScope<"u"&&"function"==typeof jt().importScripts}function Nu(){return(Nu=(0,C.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Fu="firebaseLocalStorageDb",Xl="firebaseLocalStorage",Nf="fbase_key";class za{constructor(u){this.request=u}toPromise(){return new Promise((u,d)=>{this.request.addEventListener("success",()=>{u(this.request.result)}),this.request.addEventListener("error",()=>{d(this.request.error)})})}}function ta(f,u){return f.transaction([Xl],u?"readwrite":"readonly").objectStore(Xl)}function ms(){const f=indexedDB.open(Fu,1);return new Promise((u,d)=>{f.addEventListener("error",()=>{d(f.error)}),f.addEventListener("upgradeneeded",()=>{const m=f.result;try{m.createObjectStore(Xl,{keyPath:Nf})}catch(_){d(_)}}),f.addEventListener("success",(0,C.Z)(function*(){const m=f.result;m.objectStoreNames.contains(Xl)?u(m):(m.close(),yield function Jl(){const f=indexedDB.deleteDatabase(Fu);return new za(f).toPromise()}(),u(yield ms()))}))})}function Ff(f,u,d){return __.apply(this,arguments)}function __(){return(__=(0,C.Z)(function*(f,u,d){const m=ta(f,!0).put({[Nf]:u,value:d});return new za(m).toPromise()})).apply(this,arguments)}function y_(){return(y_=(0,C.Z)(function*(f,u){const d=ta(f,!1).get(u),m=yield new za(d).toPromise();return void 0===m?null:m.value})).apply(this,arguments)}function v_(f,u){const d=ta(f,!0).delete(u);return new za(d).toPromise()}const Lu=(()=>{class f{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var d=this;return(0,C.Z)(function*(){return d.db||(d.db=yield ms()),d.db})()}_withRetries(d){var m=this;return(0,C.Z)(function*(){let _=0;for(;;)try{const E=yield m._openDb();return yield d(E)}catch(E){if(_++>3)throw E;m.db&&(m.db.close(),m.db=void 0)}})()}initializeServiceWorkerMessaging(){var d=this;return(0,C.Z)(function*(){return Ou()?d.initializeReceiver():d.initializeSender()})()}initializeReceiver(){var d=this;return(0,C.Z)(function*(){d.receiver=TM._getInstance(function g_(){return Ou()?self:null}()),d.receiver._subscribe("keyChanged",function(){var m=(0,C.Z)(function*(_,E){return{keyProcessed:(yield d._poll()).includes(E.key)}});return function(_,E){return m.apply(this,arguments)}}()),d.receiver._subscribe("ping",function(){var m=(0,C.Z)(function*(_,E){return["keyChanged"]});return function(_,E){return m.apply(this,arguments)}}())})()}initializeSender(){var d=this;return(0,C.Z)(function*(){var m,_;if(d.activeServiceWorker=yield function m_(){return Nu.apply(this,arguments)}(),!d.activeServiceWorker)return;d.sender=new ku(d.activeServiceWorker);const E=yield d.sender._send("ping",{},800);E&&null!==(m=E[0])&&void 0!==m&&m.fulfilled&&null!==(_=E[0])&&void 0!==_&&_.value.includes("keyChanged")&&(d.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(d){var m=this;return(0,C.Z)(function*(){if(m.sender&&m.activeServiceWorker&&function kf(){var f;return(null===(f=navigator?.serviceWorker)||void 0===f?void 0:f.controller)||null}()===m.activeServiceWorker)try{yield m.sender._send("keyChanged",{key:d},m.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,C.Z)(function*(){try{if(!indexedDB)return!1;const d=yield ms();return yield Ff(d,Pf,"1"),yield v_(d,Pf),!0}catch{}return!1})()}_withPendingWrite(d){var m=this;return(0,C.Z)(function*(){m.pendingWrites++;try{yield d()}finally{m.pendingWrites--}})()}_set(d,m){var _=this;return(0,C.Z)(function*(){return _._withPendingWrite((0,C.Z)(function*(){return yield _._withRetries(E=>Ff(E,d,m)),_.localCache[d]=m,_.notifyServiceWorker(d)}))})()}_get(d){var m=this;return(0,C.Z)(function*(){const _=yield m._withRetries(E=>function DM(f,u){return y_.apply(this,arguments)}(E,d));return m.localCache[d]=_,_})()}_remove(d){var m=this;return(0,C.Z)(function*(){return m._withPendingWrite((0,C.Z)(function*(){return yield m._withRetries(_=>v_(_,d)),delete m.localCache[d],m.notifyServiceWorker(d)}))})()}_poll(){var d=this;return(0,C.Z)(function*(){const m=yield d._withRetries(P=>{const H=ta(P,!1).getAll();return new za(H).toPromise()});if(!m)return[];if(0!==d.pendingWrites)return[];const _=[],E=new Set;for(const{fbase_key:P,value:H}of m)E.add(P),JSON.stringify(d.localCache[P])!==JSON.stringify(H)&&(d.notifyListeners(P,H),_.push(P));for(const P of Object.keys(d.localCache))d.localCache[P]&&!E.has(P)&&(d.notifyListeners(P,null),_.push(P));return _})()}notifyListeners(d,m){this.localCache[d]=m;const _=this.listeners[d];if(_)for(const E of Array.from(_))E(m)}startPolling(){var d=this;this.stopPolling(),this.pollTimer=setInterval((0,C.Z)(function*(){return d._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(d,m){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[d]||(this.listeners[d]=new Set,this._get(d)),this.listeners[d].add(m)}_removeListener(d,m){this.listeners[d]&&(this.listeners[d].delete(m),0===this.listeners[d].size&&delete this.listeners[d]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return f.type="LOCAL",f})(),ec=1e12;class b_{constructor(u){this.auth=u,this.counter=ec,this._widgets=new Map}render(u,d){const m=this.counter;return this._widgets.set(m,new kE(u,this.auth.name,d||{})),this.counter++,m}reset(u){var d;const m=u||ec;null===(d=this._widgets.get(m))||void 0===d||d.delete(),this._widgets.delete(m)}getResponse(u){var d;return(null===(d=this._widgets.get(u||ec))||void 0===d?void 0:d.getResponse())||""}execute(u){var d=this;return(0,C.Z)(function*(){var m;return null===(m=d._widgets.get(u||ec))||void 0===m||m.execute(),""})()}}class kE{constructor(u,d,m){this.params=m,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const _="string"==typeof u?document.getElementById(u):u;oe(_,"argument-error",{appName:d}),this.container=_,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function OE(f){const u=[],d="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let m=0;m<f;m++)u.push(d.charAt(Math.floor(62*Math.random())));return u.join("")}(50);const{callback:u,"expired-callback":d}=this.params;if(u)try{u(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,d)try{d()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Vf=_E("rcb"),E_=new _r(3e4,6e4);class w_{constructor(){var u;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(u=jt().grecaptcha)||void 0===u||!u.render)}load(u,d=""){return oe(function FE(f){return f.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(f)}(d),u,"argument-error"),this.shouldResolveImmediately(d)&&Jn(jt().grecaptcha)?Promise.resolve(jt().grecaptcha):new Promise((m,_)=>{const E=jt().setTimeout(()=>{_(qt(u,"network-request-failed"))},E_.get());jt()[Vf]=()=>{jt().clearTimeout(E),delete jt()[Vf];const H=jt().grecaptcha;if(!H||!Jn(H))return void _(qt(u,"internal-error"));const ie=H.render;H.render=(we,Fe)=>{const Et=ie(we,Fe);return this.counter++,Et},this.hostLanguage=d,m(H)},Wg(`https://www.google.com/recaptcha/api.js??${(0,K.xO)({onload:Vf,render:"explicit",hl:d})}`).catch(()=>{clearTimeout(E),_(qt(u,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(u){var d;return!(null===(d=jt().grecaptcha)||void 0===d||!d.render)&&(u===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class RM{load(u){return(0,C.Z)(function*(){return new b_(u)})()}clearedOneInstance(){}}const I_="recaptcha",ji={theme:"light",type:"image"};class x_{constructor(u,d,m=Object.assign({},ji)){this.parameters=m,this.type=I_,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Cn(u),this.isInvisible="invisible"===this.parameters.size,oe(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const _="string"==typeof d?document.getElementById(d):d;oe(_,this.auth,"argument-error"),this.container=_,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new RM:new w_,this.validateStartingState()}verify(){var u=this;return(0,C.Z)(function*(){u.assertNotDestroyed();const d=yield u.render(),m=u.getAssertedRecaptcha();return m.getResponse(d)||new Promise(E=>{const P=H=>{H&&(u.tokenChangeListeners.delete(P),E(H))};u.tokenChangeListeners.add(P),u.isInvisible&&m.execute(d)})})()}render(){try{this.assertNotDestroyed()}catch(u){return Promise.reject(u)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(u=>{throw this.renderPromise=null,u})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(u=>{this.container.removeChild(u)})}validateStartingState(){oe(!this.parameters.sitekey,this.auth,"argument-error"),oe(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),oe(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(u){return d=>{if(this.tokenChangeListeners.forEach(m=>m(d)),"function"==typeof u)u(d);else if("string"==typeof u){const m=jt()[u];"function"==typeof m&&m(d)}}}assertNotDestroyed(){oe(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var u=this;return(0,C.Z)(function*(){if(yield u.init(),!u.widgetId){let d=u.container;if(!u.isInvisible){const m=document.createElement("div");d.appendChild(m),d=m}u.widgetId=u.getAssertedRecaptcha().render(d,u.parameters)}return u.widgetId})()}init(){var u=this;return(0,C.Z)(function*(){oe(Vn()&&!Ou(),u.auth,"internal-error"),yield function LE(){let f=null;return new Promise(u=>{"complete"!==document.readyState?(f=()=>u(),window.addEventListener("load",f)):u()}).catch(u=>{throw f&&window.removeEventListener("load",f),u})}(),u.recaptcha=yield u._recaptchaLoader.load(u.auth,u.auth.languageCode||void 0);const d=yield function nr(f){return Jr.apply(this,arguments)}(u.auth);oe(d,u.auth,"internal-error"),u.parameters.sitekey=d})()}getAssertedRecaptcha(){return oe(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Bf{constructor(u,d){this.verificationId=u,this.onConfirmation=d}confirm(u){const d=us._fromVerification(this.verificationId,u);return this.onConfirmation(d)}}function C_(f,u,d){return Vu.apply(this,arguments)}function Vu(){return(Vu=(0,C.Z)(function*(f,u,d){const m=Cn(f),_=yield nc(m,u,(0,K.m9)(d));return new Bf(_,E=>Du(m,E))})).apply(this,arguments)}function VE(f,u,d){return tc.apply(this,arguments)}function tc(){return(tc=(0,C.Z)(function*(f,u,d){const m=(0,K.m9)(f);yield Cu(!1,m,"phone");const _=yield nc(m.auth,u,(0,K.m9)(d));return new Bf(_,E=>wf(m,E))})).apply(this,arguments)}function BE(f,u,d){return Hr.apply(this,arguments)}function Hr(){return(Hr=(0,C.Z)(function*(f,u,d){const m=(0,K.m9)(f),_=yield nc(m.auth,u,(0,K.m9)(d));return new Bf(_,E=>r_(m,E))})).apply(this,arguments)}function nc(f,u,d){return Bu.apply(this,arguments)}function Bu(){return Bu=(0,C.Z)(function*(f,u,d){var m;const _=yield d.verify();try{let E;if(oe("string"==typeof _,f,"argument-error"),oe(d.type===I_,f,"argument-error"),E="string"==typeof u?{phoneNumber:u}:u,"session"in E){const P=E.session;if("phoneNumber"in E)return oe("enroll"===P.type,f,"internal-error"),(yield function vM(f,u){return ee(f,"POST","/v2/accounts/mfaEnrollment:start",j(f,u))}(f,{idToken:P.credential,phoneEnrollmentInfo:{phoneNumber:E.phoneNumber,recaptchaToken:_}})).phoneSessionInfo.sessionInfo;{oe("signin"===P.type,f,"internal-error");const H=(null===(m=E.multiFactorHint)||void 0===m?void 0:m.uid)||E.multiFactorUid;return oe(H,f,"missing-multi-factor-info"),(yield function RE(f,u){return ee(f,"POST","/v2/accounts/mfaSignIn:start",j(f,u))}(f,{mfaPendingCredential:P.credential,mfaEnrollmentId:H,phoneSignInInfo:{recaptchaToken:_}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:P}=yield function wE(f,u){return df.apply(this,arguments)}(f,{phoneNumber:E.phoneNumber,recaptchaToken:_});return P}}finally{d._reset()}}),Bu.apply(this,arguments)}function on(f,u){return ic.apply(this,arguments)}function ic(){return(ic=(0,C.Z)(function*(f,u){yield xu((0,K.m9)(f),u)})).apply(this,arguments)}let Uu=(()=>{class f{constructor(d){this.providerId=f.PROVIDER_ID,this.auth=Cn(d)}verifyPhoneNumber(d,m){return nc(this.auth,d,(0,K.m9)(m))}static credential(d,m){return us._fromVerification(d,m)}static credentialFromResult(d){return f.credentialFromTaggedObject(d)}static credentialFromError(d){return f.credentialFromTaggedObject(d.customData||{})}static credentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{phoneNumber:m,temporaryProof:_}=d;return m&&_?us._fromTokenResponse(m,_):null}}return f.PROVIDER_ID="phone",f.PHONE_SIGN_IN_METHOD="phone",f})();function Wn(f,u){return u?Z(u):(oe(f._popupRedirectResolver,f,"argument-error"),f._popupRedirectResolver)}class Uf extends Ma{constructor(u){super("custom","custom"),this.params=u}_getIdTokenResponse(u){return ls(u,this._buildIdpRequest())}_linkToIdToken(u,d){return ls(u,this._buildIdpRequest(d))}_getReauthenticationResolver(u){return ls(u,this._buildIdpRequest())}_buildIdpRequest(u){const d={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return u&&(d.idToken=u),d}}function T_(f){return i_(f.auth,new Uf(f),f.bypassAuthState)}function Ha(f){const{auth:u,user:d}=f;return oe(d,u,"internal-error"),n_(d,new Uf(f),f.bypassAuthState)}function Sr(f){return jf.apply(this,arguments)}function jf(){return(jf=(0,C.Z)(function*(f){const{auth:u,user:d}=f;return oe(d,u,"internal-error"),xu(d,new Uf(f),f.bypassAuthState)})).apply(this,arguments)}class D_{constructor(u,d,m,_,E=!1){this.auth=u,this.resolver=m,this.user=_,this.bypassAuthState=E,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(d)?d:[d]}execute(){var u=this;return new Promise(function(){var d=(0,C.Z)(function*(m,_){u.pendingPromise={resolve:m,reject:_};try{u.eventManager=yield u.resolver._initialize(u.auth),yield u.onExecution(),u.eventManager.registerConsumer(u)}catch(E){u.reject(E)}});return function(m,_){return d.apply(this,arguments)}}())}onAuthEvent(u){var d=this;return(0,C.Z)(function*(){const{urlResponse:m,sessionId:_,postBody:E,tenantId:P,error:H,type:ie}=u;if(H)return void d.reject(H);const we={auth:d.auth,requestUri:m,sessionId:_,tenantId:P||void 0,postBody:E||void 0,user:d.user,bypassAuthState:d.bypassAuthState};try{d.resolve(yield d.getIdpTask(ie)(we))}catch(Fe){d.reject(Fe)}})()}onError(u){this.reject(u)}getIdpTask(u){switch(u){case"signInViaPopup":case"signInViaRedirect":return T_;case"linkViaPopup":case"linkViaRedirect":return Sr;case"reauthViaPopup":case"reauthViaRedirect":return Ha;default:gt(this.auth,"internal-error")}}resolve(u){cn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(u),this.unregisterAndCleanUp()}reject(u){cn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(u),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const UE=new _r(2e3,1e4);function gs(f,u,d){return ju.apply(this,arguments)}function ju(){return(ju=(0,C.Z)(function*(f,u,d){const m=Cn(f);$n(f,u,Ho);const _=Wn(m,d);return new zf(m,"signInViaPopup",u,_).executeNotNull()})).apply(this,arguments)}function jE(f,u,d){return zu.apply(this,arguments)}function zu(){return(zu=(0,C.Z)(function*(f,u,d){const m=(0,K.m9)(f);$n(m.auth,u,Ho);const _=Wn(m.auth,d);return new zf(m.auth,"reauthViaPopup",u,_,m).executeNotNull()})).apply(this,arguments)}function A_(f,u,d){return Hu.apply(this,arguments)}function Hu(){return(Hu=(0,C.Z)(function*(f,u,d){const m=(0,K.m9)(f);$n(m.auth,u,Ho);const _=Wn(m.auth,d);return new zf(m.auth,"linkViaPopup",u,_,m).executeNotNull()})).apply(this,arguments)}let zf=(()=>{class f extends D_{constructor(d,m,_,E,P){super(d,m,E,P),this.provider=_,this.authWindow=null,this.pollId=null,f.currentPopupAction&&f.currentPopupAction.cancel(),f.currentPopupAction=this}executeNotNull(){var d=this;return(0,C.Z)(function*(){const m=yield d.execute();return oe(m,d.auth,"internal-error"),m})()}onExecution(){var d=this;return(0,C.Z)(function*(){cn(1===d.filter.length,"Popup operations only handle one event");const m=jn();d.authWindow=yield d.resolver._openPopup(d.auth,d.provider,d.filter[0],m),d.authWindow.associatedEvent=m,d.resolver._originValidation(d.auth).catch(_=>{d.reject(_)}),d.resolver._isIframeWebStorageSupported(d.auth,_=>{_||d.reject(qt(d.auth,"web-storage-unsupported"))}),d.pollUserCancellation()})()}get eventId(){var d;return(null===(d=this.authWindow)||void 0===d?void 0:d.associatedEvent)||null}cancel(){this.reject(qt(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,f.currentPopupAction=null}pollUserCancellation(){const d=()=>{var m,_;this.pollId=null!==(_=null===(m=this.authWindow)||void 0===m?void 0:m.window)&&void 0!==_&&_.closed?window.setTimeout(()=>{this.pollId=null,this.reject(qt(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(d,UE.get())};d()}}return f.currentPopupAction=null,f})();const $e="pendingRedirect",$a=new Map;class PM extends D_{constructor(u,d,m=!1){super(u,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],d,void 0,m),this.eventId=null}execute(){var u=()=>super.execute,d=this;return(0,C.Z)(function*(){let m=$a.get(d.auth._key());if(!m){try{const E=(yield function zE(f,u){return Hf.apply(this,arguments)}(d.resolver,d.auth))?yield u().call(d):null;m=()=>Promise.resolve(E)}catch(_){m=()=>Promise.reject(_)}$a.set(d.auth._key(),m)}return d.bypassAuthState||$a.set(d.auth._key(),()=>Promise.resolve(null)),m()})()}onAuthEvent(u){var d=()=>super.onAuthEvent,m=this;return(0,C.Z)(function*(){if("signInViaRedirect"===u.type)return d().call(m,u);if("unknown"!==u.type){if(u.eventId){const _=yield m.auth._redirectUserForId(u.eventId);if(_)return m.user=_,d().call(m,u);m.resolve(null)}}else m.resolve(null)})()}onExecution(){return(0,C.Z)(function*(){})()}cleanUp(){}}function Hf(){return(Hf=(0,C.Z)(function*(f,u){const d=R_(u),m=M_(f);if(!(yield m._isAvailable()))return!1;const _="true"===(yield m._get(d));return yield m._remove(d),_})).apply(this,arguments)}function $f(f,u){return $u.apply(this,arguments)}function $u(){return($u=(0,C.Z)(function*(f,u){return M_(f)._set(R_(u),"true")})).apply(this,arguments)}function Wa(){$a.clear()}function S_(f,u){$a.set(f._key(),u)}function M_(f){return Z(f._redirectPersistence)}function R_(f){return Ue($e,f.config.apiKey,f.name)}function HE(f,u,d){return function $E(f,u,d){return te.apply(this,arguments)}(f,u,d)}function te(){return(te=(0,C.Z)(function*(f,u,d){const m=Cn(f);$n(f,u,Ho),yield m._initializationPromise;const _=Wn(m,d);return yield $f(_,m),_._openRedirect(m,u,"signInViaRedirect")})).apply(this,arguments)}function Rt(f,u,d){return function rr(f,u,d){return Ri.apply(this,arguments)}(f,u,d)}function Ri(){return(Ri=(0,C.Z)(function*(f,u,d){const m=(0,K.m9)(f);$n(m.auth,u,Ho),yield m.auth._initializationPromise;const _=Wn(m.auth,d);yield $f(_,m.auth);const E=yield WE(m);return _._openRedirect(m.auth,u,"reauthViaRedirect",E)})).apply(this,arguments)}function Ei(f,u,d){return function P_(f,u,d){return na.apply(this,arguments)}(f,u,d)}function na(){return(na=(0,C.Z)(function*(f,u,d){const m=(0,K.m9)(f);$n(m.auth,u,Ho),yield m.auth._initializationPromise;const _=Wn(m.auth,d);yield Cu(!1,m,u.providerId),yield $f(_,m.auth);const E=yield WE(m);return _._openRedirect(m.auth,u,"linkViaRedirect",E)})).apply(this,arguments)}function Mo(f,u){return rc.apply(this,arguments)}function rc(){return(rc=(0,C.Z)(function*(f,u){return yield Cn(f)._initializationPromise,oc(f,u,!1)})).apply(this,arguments)}function oc(f,u){return Wf.apply(this,arguments)}function Wf(){return(Wf=(0,C.Z)(function*(f,u,d=!1){const m=Cn(f),_=Wn(m,u),P=yield new PM(m,_,d).execute();return P&&!d&&(delete P.user._redirectEventId,yield m._persistUserIfCurrent(P.user),yield m._setRedirectUser(null,u)),P})).apply(this,arguments)}function WE(f){return Wu.apply(this,arguments)}function Wu(){return(Wu=(0,C.Z)(function*(f){const u=jn(`${f.uid}:::`);return f._redirectEventId=u,yield f.auth._setRedirectUser(f),yield f.auth._persistUserIfCurrent(f),u})).apply(this,arguments)}class Ro{constructor(u){this.auth=u,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(u){this.consumers.add(u),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,u)&&(this.sendToConsumer(this.queuedRedirectEvent,u),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(u){this.consumers.delete(u)}onEvent(u){if(this.hasEventBeenHandled(u))return!1;let d=!1;return this.consumers.forEach(m=>{this.isEventForConsumer(u,m)&&(d=!0,this.sendToConsumer(u,m),this.saveEventToCache(u))}),this.hasHandledPotentialRedirect||!function qo(f){switch(f.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ia(f);default:return!1}}(u)||(this.hasHandledPotentialRedirect=!0,d||(this.queuedRedirectEvent=u,d=!0)),d}sendToConsumer(u,d){var m;if(u.error&&!ia(u)){const _=(null===(m=u.error.code)||void 0===m?void 0:m.split("auth/")[1])||"internal-error";d.onError(qt(this.auth,_))}else d.onAuthEvent(u)}isEventForConsumer(u,d){const m=null===d.eventId||!!u.eventId&&u.eventId===d.eventId;return d.filter.includes(u.type)&&m}hasEventBeenHandled(u){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(qf(u))}saveEventToCache(u){this.cachedEventUids.add(qf(u)),this.lastProcessedEventTime=Date.now()}}function qf(f){return[f.type,f.eventId,f.sessionId,f.tenantId].filter(u=>u).join("-")}function ia({type:f,error:u}){return"unknown"===f&&"auth/no-auth-event"===u?.code}function k_(f){return qu.apply(this,arguments)}function qu(){return(qu=(0,C.Z)(function*(f,u={}){return ee(f,"GET","/v1/projects",u)})).apply(this,arguments)}const qE=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,GE=/^https?/;function sc(){return(sc=(0,C.Z)(function*(f){if(f.config.emulator)return;const{authorizedDomains:u}=yield k_(f);for(const d of u)try{if(O_(d))return}catch{}gt(f,"unauthorized-domain")})).apply(this,arguments)}function O_(f){const u=kn(),{protocol:d,hostname:m}=new URL(u);if(f.startsWith("chrome-extension://")){const P=new URL(f);return""===P.hostname&&""===m?"chrome-extension:"===d&&f.replace("chrome-extension://","")===u.replace("chrome-extension://",""):"chrome-extension:"===d&&P.hostname===m}if(!GE.test(d))return!1;if(qE.test(f))return m===f;const _=f.replace(/\./g,"\\.");return new RegExp("^(.+\\."+_+"|"+_+")$","i").test(m)}const Zf=new _r(3e4,6e4);function N_(){const f=jt().___jsl;if(f?.H)for(const u of Object.keys(f.H))if(f.H[u].r=f.H[u].r||[],f.H[u].L=f.H[u].L||[],f.H[u].r=[...f.H[u].L],f.CP)for(let d=0;d<f.CP.length;d++)f.CP[d]=null}let qa=null;const V_=new _r(5e3,15e3),B_="__/auth/iframe",U_="emulator/auth/iframe",Kf={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ZE=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function KE(f){const u=f.config;oe(u.authDomain,f,"auth-domain-config-required");const d=u.emulator?yo(u,U_):`https://${f.config.authDomain}/${B_}`,m={apiKey:u.apiKey,appName:f.name,v:N.SDK_VERSION},_=ZE.get(f.config.apiHost);_&&(m.eid=_);const E=f._getFrameworks();return E.length&&(m.fw=E.join(",")),`${d}?${(0,K.xO)(m).slice(1)}`}function Go(){return Go=(0,C.Z)(function*(f){const u=yield function L_(f){return qa=qa||function F_(f){return new Promise((u,d)=>{var m,_,E;function P(){N_(),gapi.load("gapi.iframes",{callback:()=>{u(gapi.iframes.getContext())},ontimeout:()=>{N_(),d(qt(f,"network-request-failed"))},timeout:Zf.get()})}if(null!==(_=null===(m=jt().gapi)||void 0===m?void 0:m.iframes)&&void 0!==_&&_.Iframe)u(gapi.iframes.getContext());else{if(null===(E=jt().gapi)||void 0===E||!E.load){const H=_E("iframefcb");return jt()[H]=()=>{gapi.load?P():d(qt(f,"network-request-failed"))},Wg(`https://apis.google.com/js/api.js?onload=${H}`).catch(ie=>d(ie))}P()}}).catch(u=>{throw qa=null,u})}(f),qa}(f),d=jt().gapi;return oe(d,f,"internal-error"),u.open({where:document.body,url:KE(f),messageHandlersFilter:d.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Kf,dontclear:!0},m=>new Promise(function(){var _=(0,C.Z)(function*(E,P){yield m.restyle({setHideOnLeave:!1});const H=qt(f,"network-request-failed"),ie=jt().setTimeout(()=>{P(H)},V_.get());function we(){jt().clearTimeout(ie),E(m)}m.ping(we).then(we,()=>{P(H)})});return function(E,P){return _.apply(this,arguments)}}()))}),Go.apply(this,arguments)}const Dn={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Yf{constructor(u){this.window=u,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const _s="__/auth/handler",JE="emulator/auth/handler",Zu=encodeURIComponent("fac");function Ga(f,u,d,m,_,E){return Za.apply(this,arguments)}function Za(){return(Za=(0,C.Z)(function*(f,u,d,m,_,E){oe(f.config.authDomain,f,"auth-domain-config-required"),oe(f.config.apiKey,f,"invalid-api-key");const P={apiKey:f.config.apiKey,appName:f.name,authType:d,redirectUrl:m,v:N.SDK_VERSION,eventId:_};if(u instanceof Ho){u.setDefaultLanguage(f.languageCode),P.providerId=u.providerId||"",(0,K.xb)(u.getCustomParameters())||(P.customParameters=JSON.stringify(u.getCustomParameters()));for(const[Fe,Et]of Object.entries(E||{}))P[Fe]=Et}if(u instanceof ka){const Fe=u.getScopes().filter(Et=>""!==Et);Fe.length>0&&(P.scopes=Fe.join(","))}f.tenantId&&(P.tid=f.tenantId);const H=P;for(const Fe of Object.keys(H))void 0===H[Fe]&&delete H[Fe];const ie=yield f._getAppCheckToken(),we=ie?`#${Zu}=${encodeURIComponent(ie)}`:"";return`${function Qf({config:f}){return f.emulator?yo(f,JE):`https://${f.authDomain}/${_s}`}(f)}?${(0,K.xO)(H).slice(1)}${we}`})).apply(this,arguments)}const Ku="webStorageSupport",$_=class H_{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=So,this._completeRedirectFn=oc,this._overrideRedirectResult=S_}_openPopup(u,d,m,_){var E=this;return(0,C.Z)(function*(){var P;cn(null===(P=E.eventManagers[u._key()])||void 0===P?void 0:P.manager,"_initialize() not called before _openPopup()");const H=yield Ga(u,d,m,kn(),_);return function z_(f,u,d,m=500,_=600){const E=Math.max((window.screen.availHeight-_)/2,0).toString(),P=Math.max((window.screen.availWidth-m)/2,0).toString();let H="";const ie=Object.assign(Object.assign({},Dn),{width:m.toString(),height:_.toString(),top:E,left:P}),we=(0,K.z$)().toLowerCase();d&&(H=di(we)?"_blank":d),Kt(we)&&(u=u||"http://localhost",ie.scrollbars="yes");const Fe=Object.entries(ie).reduce(($i,[Zo,uc])=>`${$i}${Zo}=${uc},`,"");if(function dt(f=(0,K.z$)()){var u;return Ae(f)&&!(null===(u=window.navigator)||void 0===u||!u.standalone)}(we)&&"_self"!==H)return function Gu(f,u){const d=document.createElement("a");d.href=f,d.target=u;const m=document.createEvent("MouseEvent");m.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),d.dispatchEvent(m)}(u||"",H),new Yf(null);const Et=window.open(u||"",H,Fe);oe(Et,f,"popup-blocked");try{Et.focus()}catch{}return new Yf(Et)}(u,H,jn())})()}_openRedirect(u,d,m,_){var E=this;return(0,C.Z)(function*(){return yield E._originValidation(u),function p_(f){jt().location.href=f}(yield Ga(u,d,m,kn(),_)),new Promise(()=>{})})()}_initialize(u){const d=u._key();if(this.eventManagers[d]){const{manager:_,promise:E}=this.eventManagers[d];return _?Promise.resolve(_):(cn(E,"If manager is not set, promise should be"),E)}const m=this.initAndGetManager(u);return this.eventManagers[d]={promise:m},m.catch(()=>{delete this.eventManagers[d]}),m}initAndGetManager(u){var d=this;return(0,C.Z)(function*(){const m=yield function Hi(f){return Go.apply(this,arguments)}(u),_=new Ro(u);return m.register("authEvent",E=>(oe(E?.authEvent,u,"invalid-auth-event"),{status:_.onEvent(E.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),d.eventManagers[u._key()]={manager:_},d.iframes[u._key()]=m,_})()}_isIframeWebStorageSupported(u,d){this.iframes[u._key()].send(Ku,{type:Ku},_=>{var E;const P=null===(E=_?.[0])||void 0===E?void 0:E[Ku];void 0!==P&&d(!!P),gt(u,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(u){const d=u._key();return this.originValidationPromises[d]||(this.originValidationPromises[d]=function Gf(f){return sc.apply(this,arguments)}(u)),this.originValidationPromises[d]}get _shouldInitProactively(){return Bn()||Re()||Ae()}};class Ka{constructor(u){this.factorId=u}_process(u,d,m){switch(d.type){case"enroll":return this._finalizeEnroll(u,d.credential,m);case"signin":return this._finalizeSignIn(u,d.credential);default:return wt("unexpected MultiFactorSessionType")}}}class ra extends Ka{constructor(u){super("phone"),this.credential=u}static _fromCredential(u){return new ra(u)}_finalizeEnroll(u,d,m){return function bM(f,u){return ee(f,"POST","/v2/accounts/mfaEnrollment:finalize",j(f,u))}(u,{idToken:d,displayName:m,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(u,d){return function Lf(f,u){return ee(f,"POST","/v2/accounts/mfaSignIn:finalize",j(f,u))}(u,{mfaPendingCredential:d,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let ew=(()=>{class f{constructor(){}static assertion(d){return ra._fromCredential(d)}}return f.FACTOR_ID="phone",f})();var W_="@firebase/auth";class kM{constructor(u){this.auth=u,this.internalListeners=new Map}getUid(){var u;return this.assertAuthConfigured(),(null===(u=this.auth.currentUser)||void 0===u?void 0:u.uid)||null}getToken(u){var d=this;return(0,C.Z)(function*(){return d.assertAuthConfigured(),yield d.auth._initializationPromise,d.auth.currentUser?{accessToken:yield d.auth.currentUser.getIdToken(u)}:null})()}addAuthTokenListener(u){if(this.assertAuthConfigured(),this.internalListeners.has(u))return;const d=this.auth.onIdTokenChanged(m=>{u(m?.stsTokenManager.accessToken||null)});this.internalListeners.set(u,d),this.updateProactiveRefresh()}removeAuthTokenListener(u){this.assertAuthConfigured();const d=this.internalListeners.get(u);d&&(this.internalListeners.delete(u),d(),this.updateProactiveRefresh())}assertAuthConfigured(){oe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(0,K.Pz)("authIdTokenMaxAge"),function lc(f){(0,N._registerComponent)(new bn.wA("auth",(u,{options:d})=>{const m=u.getProvider("app").getImmediate(),_=u.getProvider("heartbeat"),E=u.getProvider("app-check-internal"),{apiKey:P,authDomain:H}=m.options;oe(P&&!P.includes(":"),"invalid-api-key",{appName:m.name});const ie={apiKey:P,authDomain:H,clientPlatform:f,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:pt(f)},we=new cM(m,_,E,ie);return function ce(f,u){const d=u?.persistence||[],m=(Array.isArray(d)?d:[d]).map(Z);u?.errorMap&&f._updateErrorMap(u.errorMap),f._initializeWithPersistence(m,u?.popupRedirectResolver)}(we,d),we},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((u,d,m)=>{u.getProvider("auth-internal").initialize()})),(0,N._registerComponent)(new bn.wA("auth-internal",u=>{const d=Cn(u.getProvider("auth").getImmediate());return new kM(d)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,N.registerVersion)(W_,"1.4.0",function Xf(f){switch(f){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(f)),(0,N.registerVersion)(W_,"1.4.0","esm2017")}("Browser")},58:(_o,Qn,Be)=>{Be.d(Qn,{BH:()=>gr,G6:()=>yo,L:()=>St,LL:()=>X,P0:()=>En,Pz:()=>qt,Sg:()=>$n,UG:()=>wt,ZB:()=>De,ZR:()=>ee,aH:()=>gt,b$:()=>Vn,eu:()=>q,hl:()=>$,jU:()=>cn,m9:()=>xo,ne:()=>yr,pd:()=>to,r3:()=>ei,ru:()=>kn,tV:()=>J,uI:()=>oe,vZ:()=>vo,w1:()=>Xr,xO:()=>Eo,xb:()=>nr,z$:()=>ot,zd:()=>eo});const Se=function(M){const D=[];let b=0;for(let I=0;I<M.length;I++){let v=M.charCodeAt(I);v<128?D[b++]=v:v<2048?(D[b++]=v>>6|192,D[b++]=63&v|128):55296==(64512&v)&&I+1<M.length&&56320==(64512&M.charCodeAt(I+1))?(v=65536+((1023&v)<<10)+(1023&M.charCodeAt(++I)),D[b++]=v>>18|240,D[b++]=v>>12&63|128,D[b++]=v>>6&63|128,D[b++]=63&v|128):(D[b++]=v>>12|224,D[b++]=v>>6&63|128,D[b++]=63&v|128)}return D},bn={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(M,D){if(!Array.isArray(M))throw Error("encodeByteArray takes an array as a parameter");this.init_();const b=D?this.byteToCharMapWebSafe_:this.byteToCharMap_,I=[];for(let v=0;v<M.length;v+=3){const A=M[v],Z=v+1<M.length,Ie=Z?M[v+1]:0,Ee=v+2<M.length,Ue=Ee?M[v+2]:0;let Kt=(15&Ie)<<2|Ue>>6,Re=63&Ue;Ee||(Re=64,Z||(Kt=64)),I.push(b[A>>2],b[(3&A)<<4|Ie>>4],b[Kt],b[Re])}return I.join("")},encodeString(M,D){return this.HAS_NATIVE_SUPPORT&&!D?btoa(M):this.encodeByteArray(Se(M),D)},decodeString(M,D){return this.HAS_NATIVE_SUPPORT&&!D?atob(M):function(M){const D=[];let b=0,I=0;for(;b<M.length;){const v=M[b++];if(v<128)D[I++]=String.fromCharCode(v);else if(v>191&&v<224){const A=M[b++];D[I++]=String.fromCharCode((31&v)<<6|63&A)}else if(v>239&&v<365){const Ee=((7&v)<<18|(63&M[b++])<<12|(63&M[b++])<<6|63&M[b++])-65536;D[I++]=String.fromCharCode(55296+(Ee>>10)),D[I++]=String.fromCharCode(56320+(1023&Ee))}else{const A=M[b++],Z=M[b++];D[I++]=String.fromCharCode((15&v)<<12|(63&A)<<6|63&Z)}}return D.join("")}(this.decodeStringToByteArray(M,D))},decodeStringToByteArray(M,D){this.init_();const b=D?this.charToByteMapWebSafe_:this.charToByteMap_,I=[];for(let v=0;v<M.length;){const A=b[M.charAt(v++)],Ie=v<M.length?b[M.charAt(v)]:0;++v;const Ue=v<M.length?b[M.charAt(v)]:64;++v;const _e=v<M.length?b[M.charAt(v)]:64;if(++v,null==A||null==Ie||null==Ue||null==_e)throw new Ln;I.push(A<<2|Ie>>4),64!==Ue&&(I.push(Ie<<4&240|Ue>>2),64!==_e&&I.push(Ue<<6&192|_e))}return I},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let M=0;M<this.ENCODED_VALS.length;M++)this.byteToCharMap_[M]=this.ENCODED_VALS.charAt(M),this.charToByteMap_[this.byteToCharMap_[M]]=M,this.byteToCharMapWebSafe_[M]=this.ENCODED_VALS_WEBSAFE.charAt(M),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[M]]=M,M>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(M)]=M,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(M)]=M)}}};class Ln extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const St=function(M){return function(M){const D=Se(M);return bn.encodeByteArray(D,!0)}(M).replace(/\./g,"")},J=function(M){try{return bn.decodeString(M,!0)}catch(D){console.error("base64Decode failed: ",D)}return null};function De(M,D){if(!(D instanceof Object))return D;switch(D.constructor){case Date:return new Date(D.getTime());case Object:void 0===M&&(M={});break;case Array:M=[];break;default:return D}for(const b in D)!D.hasOwnProperty(b)||!tt(b)||(M[b]=De(M[b],D[b]));return M}function tt(M){return"__proto__"!==M}const Ze=()=>{try{return function kt(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const M=process.env.__FIREBASE_DEFAULTS__;return M?JSON.parse(M):void 0})()||(()=>{if(typeof document>"u")return;let M;try{M=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const D=M&&J(M[1]);return D&&JSON.parse(D)})()}catch(M){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${M}`)}},En=M=>{const D=(M=>{var D,b;return null===(b=null===(D=Ze())||void 0===D?void 0:D.emulatorHosts)||void 0===b?void 0:b[M]})(M);if(!D)return;const b=D.lastIndexOf(":");if(b<=0||b+1===D.length)throw new Error(`Invalid host ${D} with no separate hostname and port!`);const I=parseInt(D.substring(b+1),10);return"["===D[0]?[D.substring(1,b-1),I]:[D.substring(0,b),I]},gt=()=>{var M;return null===(M=Ze())||void 0===M?void 0:M.config},qt=M=>{var D;return null===(D=Ze())||void 0===D?void 0:D[`_${M}`]};class gr{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((D,b)=>{this.resolve=D,this.reject=b})}wrapCallback(D){return(b,I)=>{b?this.reject(b):this.resolve(I),"function"==typeof D&&(this.promise.catch(()=>{}),1===D.length?D(b):D(b,I))}}}function $n(M,D){if(M.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const I=D||"demo-project",v=M.iat||0,A=M.sub||M.user_id;if(!A)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Z=Object.assign({iss:`https://securetoken.google.com/${I}`,aud:I,iat:v,exp:v+3600,auth_time:v,sub:A,user_id:A,firebase:{sign_in_provider:"custom",identities:{}}},M);return[St(JSON.stringify({alg:"none",type:"JWT"})),St(JSON.stringify(Z)),""].join(".")}function ot(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function oe(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ot())}function wt(){var M;const D=null===(M=Ze())||void 0===M?void 0:M.forceEnvironment;if("node"===D)return!0;if("browser"===D)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function cn(){return"object"==typeof self&&self.self===self}function kn(){const M="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof M&&void 0!==M.id}function Vn(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Xr(){const M=ot();return M.indexOf("MSIE ")>=0||M.indexOf("Trident/")>=0}function yo(){return!wt()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function $(){try{return"object"==typeof indexedDB}catch{return!1}}function q(){return new Promise((M,D)=>{try{let b=!0;const I="validate-browser-context-for-indexeddb-analytics-module",v=self.indexedDB.open(I);v.onsuccess=()=>{v.result.close(),b||self.indexedDB.deleteDatabase(I),M(!0)},v.onupgradeneeded=()=>{b=!1},v.onerror=()=>{var A;D((null===(A=v.error)||void 0===A?void 0:A.message)||"")}}catch(b){D(b)}})}class ee extends Error{constructor(D,b,I){super(b),this.code=D,this.customData=I,this.name="FirebaseError",Object.setPrototypeOf(this,ee.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,X.prototype.create)}}class X{constructor(D,b,I){this.service=D,this.serviceName=b,this.errors=I}create(D,...b){const I=b[0]||{},v=`${this.service}/${D}`,A=this.errors[D],Z=A?function fe(M,D){return M.replace(ft,(b,I)=>{const v=D[I];return null!=v?String(v):`<${I}?>`})}(A,I):"Error";return new ee(v,`${this.serviceName}: ${Z} (${v}).`,I)}}const ft=/\{\$([^}]+)}/g;function ei(M,D){return Object.prototype.hasOwnProperty.call(M,D)}function nr(M){for(const D in M)if(Object.prototype.hasOwnProperty.call(M,D))return!1;return!0}function vo(M,D){if(M===D)return!0;const b=Object.keys(M),I=Object.keys(D);for(const v of b){if(!I.includes(v))return!1;const A=M[v],Z=D[v];if(_t(A)&&_t(Z)){if(!vo(A,Z))return!1}else if(A!==Z)return!1}for(const v of I)if(!b.includes(v))return!1;return!0}function _t(M){return null!==M&&"object"==typeof M}function Eo(M){const D=[];for(const[b,I]of Object.entries(M))Array.isArray(I)?I.forEach(v=>{D.push(encodeURIComponent(b)+"="+encodeURIComponent(v))}):D.push(encodeURIComponent(b)+"="+encodeURIComponent(I));return D.length?"&"+D.join("&"):""}function eo(M){const D={};return M.replace(/^\?/,"").split("&").forEach(I=>{if(I){const[v,A]=I.split("=");D[decodeURIComponent(v)]=decodeURIComponent(A)}}),D}function to(M){const D=M.indexOf("?");if(!D)return"";const b=M.indexOf("#",D);return M.substring(D,b>0?b:void 0)}function yr(M,D){const b=new vr(M,D);return b.subscribe.bind(b)}class vr{constructor(D,b){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=b,this.task.then(()=>{D(this)}).catch(I=>{this.error(I)})}next(D){this.forEachObserver(b=>{b.next(D)})}error(D){this.forEachObserver(b=>{b.error(D)}),this.close(D)}complete(){this.forEachObserver(D=>{D.complete()}),this.close()}subscribe(D,b,I){let v;if(void 0===D&&void 0===b&&void 0===I)throw new Error("Missing Observer.");v=function _i(M,D){if("object"!=typeof M||null===M)return!1;for(const b of D)if(b in M&&"function"==typeof M[b])return!0;return!1}(D,["next","error","complete"])?D:{next:D,error:b,complete:I},void 0===v.next&&(v.next=Ut),void 0===v.error&&(v.error=Ut),void 0===v.complete&&(v.complete=Ut);const A=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?v.error(this.finalError):v.complete()}catch{}}),this.observers.push(v),A}unsubscribeOne(D){void 0===this.observers||void 0===this.observers[D]||(delete this.observers[D],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(D){if(!this.finalized)for(let b=0;b<this.observers.length;b++)this.sendOne(b,D)}sendOne(D,b){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[D])try{b(this.observers[D])}catch(I){typeof console<"u"&&console.error&&console.error(I)}})}close(D){this.finalized||(this.finalized=!0,void 0!==D&&(this.finalError=D),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Ut(){}function xo(M){return M&&M._delegate?M._delegate:M}},488:(_o,Qn,Be)=>{function C(n){return"function"==typeof n}function K(n){const t=n(i=>{Error.call(i),i.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}const N=K(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((i,r)=>`${r+1}) ${i.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function Se(n,e){if(n){const t=n.indexOf(e);0<=t&&n.splice(t,1)}}class We{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const o of t)o.remove(this);else t.remove(this);const{initialTeardown:i}=this;if(C(i))try{i()}catch(o){e=o instanceof N?o.errors:[o]}const{_finalizers:r}=this;if(r){this._finalizers=null;for(const o of r)try{rn(o)}catch(s){e=e??[],s instanceof N?e=[...e,...s.errors]:e.push(s)}}if(e)throw new N(e)}}add(e){var t;if(e&&e!==this)if(this.closed)rn(e);else{if(e instanceof We){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(e)}}_hasParent(e){const{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){const{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&Se(t,e)}remove(e){const{_finalizers:t}=this;t&&Se(t,e),e instanceof We&&e._removeParent(this)}}We.EMPTY=(()=>{const n=new We;return n.closed=!0,n})();const bn=We.EMPTY;function Ln(n){return n instanceof We||n&&"closed"in n&&C(n.remove)&&C(n.add)&&C(n.unsubscribe)}function rn(n){C(n)?n():n.unsubscribe()}const St={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},J={setTimeout(n,e,...t){const{delegate:i}=J;return i?.setTimeout?i.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){const{delegate:e}=J;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function ae(n){J.setTimeout(()=>{const{onUnhandledError:e}=St;if(!e)throw n;e(n)})}function De(){}const tt=vt("C",void 0,void 0);function vt(n,e,t){return{kind:n,value:e,error:t}}let Ge=null;function Ze(n){if(St.useDeprecatedSynchronousErrorHandling){const e=!Ge;if(e&&(Ge={errorThrown:!1,error:null}),n(),e){const{errorThrown:t,error:i}=Ge;if(Ge=null,t)throw i}}else n()}class En extends We{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Ln(e)&&e.add(this)):this.destination=cn}static create(e,t,i){return new $n(e,t,i)}next(e){this.isStopped?wt(function Xn(n){return vt("N",n,void 0)}(e),this):this._next(e)}error(e){this.isStopped?wt(function kt(n){return vt("E",void 0,n)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?wt(tt,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const gt=Function.prototype.bind;function qt(n,e){return gt.call(n,e)}class gr{constructor(e){this.partialObserver=e}next(e){const{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(i){ot(i)}}error(e){const{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(i){ot(i)}else ot(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){ot(t)}}}class $n extends En{constructor(e,t,i){let r;if(super(),C(e)||!e)r={next:e??void 0,error:t??void 0,complete:i??void 0};else{let o;this&&St.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),r={next:e.next&&qt(e.next,o),error:e.error&&qt(e.error,o),complete:e.complete&&qt(e.complete,o)}):r=e}this.destination=new gr(r)}}function ot(n){St.useDeprecatedSynchronousErrorHandling?function ui(n){St.useDeprecatedSynchronousErrorHandling&&Ge&&(Ge.errorThrown=!0,Ge.error=n)}(n):ae(n)}function wt(n,e){const{onStoppedNotification:t}=St;t&&J.setTimeout(()=>t(n,e))}const cn={closed:!0,next:De,error:function oe(n){throw n},complete:De},kn="function"==typeof Symbol&&Symbol.observable||"@@observable";function Vn(n){return n}function Xr(n){return 0===n.length?Vn:1===n.length?n[0]:function(t){return n.reduce((i,r)=>r(i),t)}}let Ke=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){const i=new n;return i.source=this,i.operator=t,i}subscribe(t,i,r){const o=function $(n){return n&&n instanceof En||function yo(n){return n&&C(n.next)&&C(n.error)&&C(n.complete)}(n)&&Ln(n)}(t)?t:new $n(t,i,r);return Ze(()=>{const{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(i){t.error(i)}}forEach(t,i){return new(i=_r(i))((r,o)=>{const s=new $n({next:a=>{try{t(a)}catch(l){o(l),s.unsubscribe()}},error:o,complete:r});this.subscribe(s)})}_subscribe(t){var i;return null===(i=this.source)||void 0===i?void 0:i.subscribe(t)}[kn](){return this}pipe(...t){return Xr(t)(this)}toPromise(t){return new(t=_r(t))((i,r)=>{let o;this.subscribe(s=>o=s,s=>r(s),()=>i(o))})}}return n.create=e=>new n(e),n})();function _r(n){var e;return null!==(e=n??St.Promise)&&void 0!==e?e:Promise}const q=K(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let F=(()=>{class n extends Ke{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const i=new j(this,this);return i.operator=t,i}_throwIfClosed(){if(this.closed)throw new q}next(t){Ze(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const i of this.currentObservers)i.next(t)}})}error(t){Ze(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:i}=this;for(;i.length;)i.shift().error(t)}})}complete(){Ze(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:i,isStopped:r,observers:o}=this;return i||r?bn:(this.currentObservers=null,o.push(t),new We(()=>{this.currentObservers=null,Se(o,t)}))}_checkFinalizedStatuses(t){const{hasError:i,thrownError:r,isStopped:o}=this;i?t.error(r):o&&t.complete()}asObservable(){const t=new Ke;return t.source=this,t}}return n.create=(e,t)=>new j(e,t),n})();class j extends F{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,i;null===(i=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===i||i.call(t,e)}error(e){var t,i;null===(i=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===i||i.call(t,e)}complete(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)}_subscribe(e){var t,i;return null!==(i=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==i?i:bn}}function ee(n){return C(n?.lift)}function X(n){return e=>{if(ee(e))return e.lift(function(t){try{return n(t,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function fe(n,e,t,i,r){return new ft(n,e,t,i,r)}class ft extends En{constructor(e,t,i,r,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(l){e.error(l)}}:super._next,this._error=r?function(a){try{r(a)}catch(l){e.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:t}=this;super.unsubscribe(),!t&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function de(n,e){return X((t,i)=>{let r=0;t.subscribe(fe(i,o=>{i.next(n.call(e,o,r++))}))})}var Ne=Be(582);const It=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function dn(n){return C(n?.then)}function Qt(n){return C(n[kn])}function wn(n){return Symbol.asyncIterator&&C(n?.[Symbol.asyncIterator])}function Jn(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const gi=function ei(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function nr(n){return C(n?.[gi])}function Jr(n){return(0,Ne.FC)(this,arguments,function*(){const t=n.getReader();try{for(;;){const{value:i,done:r}=yield(0,Ne.qq)(t.read());if(r)return yield(0,Ne.qq)(void 0);yield yield(0,Ne.qq)(i)}}finally{t.releaseLock()}})}function vo(n){return C(n?.getReader)}function _t(n){if(n instanceof Ke)return n;if(null!=n){if(Qt(n))return function bo(n){return new Ke(e=>{const t=n[kn]();if(C(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(It(n))return function Eo(n){return new Ke(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}(n);if(dn(n))return function eo(n){return new Ke(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,ae)})}(n);if(wn(n))return Ti(n);if(nr(n))return function to(n){return new Ke(e=>{for(const t of n)if(e.next(t),e.closed)return;e.complete()})}(n);if(vo(n))return function yr(n){return Ti(Jr(n))}(n)}throw Jn(n)}function Ti(n){return new Ke(e=>{(function vr(n,e){var t,i,r,o;return(0,Ne.mG)(this,void 0,void 0,function*(){try{for(t=(0,Ne.KL)(n);!(i=yield t.next()).done;)if(e.next(i.value),e.closed)return}catch(s){r={error:s}}finally{try{i&&!i.done&&(o=t.return)&&(yield o.call(t))}finally{if(r)throw r.error}}e.complete()})})(n,e).catch(t=>e.error(t))})}function br(n,e,t,i=0,r=!1){const o=e.schedule(function(){t(),r?n.add(this.schedule(null,i)):this.unsubscribe()},i);if(n.add(o),!r)return o}function Ut(n,e,t=1/0){return C(e)?Ut((i,r)=>de((o,s)=>e(i,o,r,s))(_t(n(i,r))),t):("number"==typeof e&&(t=e),X((i,r)=>function _i(n,e,t,i,r,o,s,a){const l=[];let c=0,h=0,p=!1;const g=()=>{p&&!l.length&&!c&&e.complete()},y=x=>c<i?w(x):l.push(x),w=x=>{o&&e.next(x),c++;let S=!1;_t(t(x,h++)).subscribe(fe(e,L=>{r?.(L),o?y(L):e.next(L)},()=>{S=!0},void 0,()=>{if(S)try{for(c--;l.length&&c<i;){const L=l.shift();s?br(e,s,()=>w(L)):w(L)}g()}catch(L){e.error(L)}}))};return n.subscribe(fe(e,y,()=>{p=!0,g()})),()=>{a?.()}}(i,r,n,t)))}function Er(n=1/0){return Ut(Vn,n)}const In=new Ke(n=>n.complete());function On(n){return n&&C(n.schedule)}function wo(n){return n[n.length-1]}function Io(n){return C(wo(n))?n.pop():void 0}function no(n){return On(wo(n))?n.pop():void 0}function ni(n,e=0){return X((t,i)=>{t.subscribe(fe(i,r=>br(i,n,()=>i.next(r),e),()=>br(i,n,()=>i.complete(),e),r=>br(i,n,()=>i.error(r),e)))})}function Bi(n,e=0){return X((t,i)=>{i.add(n.schedule(()=>t.subscribe(i),e))})}function xo(n,e){if(!n)throw new Error("Iterable cannot be null");return new Ke(t=>{br(t,e,()=>{const i=n[Symbol.asyncIterator]();br(t,e,()=>{i.next().then(r=>{r.done?t.complete():t.next(r.value)})},0,!0)})})}function b(n,e){return e?function D(n,e){if(null!=n){if(Qt(n))return function wr(n,e){return _t(n).pipe(Bi(e),ni(e))}(n,e);if(It(n))return function as(n,e){return new Ke(t=>{let i=0;return e.schedule(function(){i===n.length?t.complete():(t.next(n[i++]),t.closed||this.schedule())})})}(n,e);if(dn(n))return function Sa(n,e){return _t(n).pipe(Bi(e),ni(e))}(n,e);if(wn(n))return xo(n,e);if(nr(n))return function Hs(n,e){return new Ke(t=>{let i;return br(t,e,()=>{i=n[gi](),br(t,e,()=>{let r,o;try{({value:r,done:o}=i.next())}catch(s){return void t.error(s)}o?t.complete():t.next(r)},0,!0)}),()=>C(i?.return)&&i.return()})}(n,e);if(vo(n))return function M(n,e){return xo(Jr(n),e)}(n,e)}throw Jn(n)}(n,e):_t(n)}function I(...n){const e=no(n),t=function ti(n,e){return"number"==typeof wo(n)?n.pop():e}(n,1/0),i=n;return i.length?1===i.length?_t(i[0]):Er(t)(b(i,e)):In}class v extends F{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:i}=this;if(e)throw t;return this._throwIfClosed(),i}next(e){super.next(this._value=e)}}function A(...n){return b(n,no(n))}function Z(n={}){const{connector:e=(()=>new F),resetOnError:t=!0,resetOnComplete:i=!0,resetOnRefCountZero:r=!0}=n;return o=>{let s,a,l,c=0,h=!1,p=!1;const g=()=>{a?.unsubscribe(),a=void 0},y=()=>{g(),s=l=void 0,h=p=!1},w=()=>{const x=s;y(),x?.unsubscribe()};return X((x,S)=>{c++,!p&&!h&&g();const L=l=l??e();S.add(()=>{c--,0===c&&!p&&!h&&(a=Ie(w,r))}),L.subscribe(S),!s&&c>0&&(s=new $n({next:R=>L.next(R),error:R=>{p=!0,g(),a=Ie(y,t,R),L.error(R)},complete:()=>{h=!0,g(),a=Ie(y,i),L.complete()}}),_t(x).subscribe(s))})(o)}}function Ie(n,e,...t){if(!0===e)return void n();if(!1===e)return;const i=new $n({next:()=>{i.unsubscribe(),n()}});return _t(e(...t)).subscribe(i)}function Ee(n,e){return X((t,i)=>{let r=null,o=0,s=!1;const a=()=>s&&!r&&i.complete();t.subscribe(fe(i,l=>{r?.unsubscribe();let c=0;const h=o++;_t(n(l,h)).subscribe(r=fe(i,p=>i.next(e?e(l,p,h,c++):p),()=>{r=null,a()}))},()=>{s=!0,a()}))})}function Ue(n,e=Vn){return n=n??Mt,X((t,i)=>{let r,o=!0;t.subscribe(fe(i,s=>{const a=e(s);(o||!n(r,a))&&(o=!1,r=a,i.next(s))}))})}function Mt(n,e){return n===e}function _e(n){for(let e in n)if(n[e]===_e)return e;throw Error("Could not find renamed property on target object.")}function Kt(n,e){for(const t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function Re(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(Re).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const e=n.toString();if(null==e)return""+e;const t=e.indexOf("\n");return-1===t?e:e.substring(0,t)}function di(n,e){return null==n||""===n?null===e?"":e:null==e||""===e?n:n+" "+e}const $s=_e({__forward_ref__:_e});function U(n){return n.__forward_ref__=U,n.toString=function(){return Re(this())},n}function k(n){return re(n)?n():n}function re(n){return"function"==typeof n&&n.hasOwnProperty($s)&&n.__forward_ref__===U}function Ae(n){return n&&!!n.\u0275providers}const dt="https://g.co/ng/security#xss";class V extends Error{constructor(e,t){super(function Bn(n,e){return`NG0${Math.abs(n)}${e?": "+e:""}`}(e,t)),this.code=e}}function Te(n){return"string"==typeof n?n:null==n?"":String(n)}function ef(n,e){throw new V(-201,!1)}function Di(n,e){null==n&&function ze(n,e,t,i){throw new Error(`ASSERTION ERROR: ${n}`+(null==i?"":` [Expected=> ${t} ${i} ${e} <=Actual]`))}(e,n,null,"!=")}function ce(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function mt(n){return{providers:n.providers||[],imports:n.imports||[]}}function fu(n){return Yg(n,Ra)||Yg(n,pu)}function Yg(n,e){return n.hasOwnProperty(e)?n[e]:null}function Wl(n){return n&&(n.hasOwnProperty(tf)||n.hasOwnProperty(EE))?n[tf]:null}const Ra=_e({\u0275prov:_e}),tf=_e({\u0275inj:_e}),pu=_e({ngInjectableDef:_e}),EE=_e({ngInjectorDef:_e});var ht=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(ht||{});let nf;function ir(n){const e=nf;return nf=n,e}function gu(n,e,t){const i=fu(n);return i&&"root"==i.providedIn?void 0===i.value?i.value=i.factory():i.value:t&ht.Optional?null:void 0!==e?e:void ef(Re(n))}const Yt=globalThis;class G{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=ce({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const qs={},uf="__NG_DI_FLAG__",xr="ngTempTokenPath",df=/\n/gm,vu="__source";let Pa;function cs(n){const e=Pa;return Pa=n,e}function xE(n,e=ht.Default){if(void 0===Pa)throw new V(-203,!1);return null===Pa?gu(n,void 0,e):Pa.get(n,e&ht.Optional?null:void 0,e)}function O(n,e=ht.Default){return(function mu(){return nf}()||xE)(k(n),e)}function he(n,e=ht.Default){return O(n,bu(e))}function bu(n){return typeof n>"u"||"number"==typeof n?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function Gs(n){const e=[];for(let t=0;t<n.length;t++){const i=k(n[t]);if(Array.isArray(i)){if(0===i.length)throw new V(900,!1);let r,o=ht.Default;for(let s=0;s<i.length;s++){const a=i[s],l=ff(a);"number"==typeof l?-1===l?r=a.token:o|=l:r=a}e.push(O(r,o))}else e.push(O(i))}return e}function Eu(n,e){return n[uf]=e,n.prototype[uf]=e,n}function ff(n){return n[uf]}function Cr(n){return{toString:n}.toString()}var wu=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(wu||{}),jr=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(jr||{});const Co={},Nt=[],$o=_e({\u0275cmp:_e}),pf=_e({\u0275dir:_e}),Oa=_e({\u0275pipe:_e}),e_=_e({\u0275mod:_e}),To=_e({\u0275fac:_e}),Zs=_e({__NG_ELEMENT_ID__:_e}),Tr=_e({__NG_ENV_ID__:_e});function mf(n,e,t){let i=n.length;for(;;){const r=n.indexOf(e,t);if(-1===r)return r;if(0===r||n.charCodeAt(r-1)<=32){const o=e.length;if(r+o===i||n.charCodeAt(r+o)<=32)return r}t=r+1}}function gf(n,e,t){let i=0;for(;i<t.length;){const r=t[i];if("number"==typeof r){if(0!==r)break;i++;const o=t[i++],s=t[i++],a=t[i++];n.setAttribute(e,s,a,o)}else{const o=r,s=t[++i];Gl(o)?n.setProperty(e,o,s):n.setAttribute(e,o,s),i++}}return i}function Iu(n){return 3===n||4===n||6===n}function Gl(n){return 64===n.charCodeAt(0)}function Na(n,e){if(null!==e&&0!==e.length)if(null===n||0===n.length)n=e.slice();else{let t=-1;for(let i=0;i<e.length;i++){const r=e[i];"number"==typeof r?t=r:0===t||_f(n,t,r,null,-1===t||2===t?e[++i]:null)}}return n}function _f(n,e,t,i,r){let o=0,s=n.length;if(-1===e)s=-1;else for(;o<n.length;){const a=n[o++];if("number"==typeof a){if(a===e){s=-1;break}if(a>e){s=o-1;break}}}for(;o<n.length;){const a=n[o];if("number"==typeof a)break;if(a===t){if(null===i)return void(null!==r&&(n[o+1]=r));if(i===n[o+1])return void(n[o+2]=r)}o++,null!==i&&o++,null!==r&&o++}-1!==s&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),null!==i&&n.splice(o++,0,i),null!==r&&n.splice(o++,0,r)}const t_="ng-template";function yf(n,e,t){let i=0,r=!0;for(;i<n.length;){let o=n[i++];if("string"==typeof o&&r){const s=n[i++];if(t&&"class"===o&&-1!==mf(s.toLowerCase(),e,0))return!0}else{if(1===o){for(;i<n.length&&"string"==typeof(o=n[i++]);)if(o.toLowerCase()===e)return!0;return!1}"number"==typeof o&&(r=!1)}}return!1}function xu(n){return 4===n.type&&n.value!==t_}function vf(n,e,t){return e===(4!==n.type||t?n.value:t_)}function Cu(n,e,t){let i=4;const r=n.attrs||[],o=function bf(n){for(let e=0;e<n.length;e++)if(Iu(n[e]))return e;return n.length}(r);let s=!1;for(let a=0;a<e.length;a++){const l=e[a];if("number"!=typeof l){if(!s)if(4&i){if(i=2|1&i,""!==l&&!vf(n,l,t)||""===l&&1===e.length){if(Dr(i))return!1;s=!0}}else{const c=8&i?l:e[++a];if(8&i&&null!==n.attrs){if(!yf(n.attrs,c,t)){if(Dr(i))return!1;s=!0}continue}const p=n_(8&i?"class":l,r,xu(n),t);if(-1===p){if(Dr(i))return!1;s=!0;continue}if(""!==c){let g;g=p>o?"":r[p+1].toLowerCase();const y=8&i?g:null;if(y&&-1!==mf(y,c,0)||2&i&&c!==g){if(Dr(i))return!1;s=!0}}}}else{if(!s&&!Dr(i)&&!Dr(l))return!1;if(s&&Dr(l))continue;s=!1,i=l|1&i}}return Dr(i)||s}function Dr(n){return 0==(1&n)}function n_(n,e,t,i){if(null===e)return-1;let r=0;if(i||!t){let o=!1;for(;r<e.length;){const s=e[r];if(s===n)return r;if(3===s||6===s)o=!0;else{if(1===s||2===s){let a=e[++r];for(;"string"==typeof a;)a=e[++r];continue}if(4===s)break;if(0===s){r+=4;continue}}r+=o?1:2}return-1}return function Du(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){const i=n[t];if("number"==typeof i)return-1;if(i===e)return t;t++}return-1}(e,n)}function Tu(n,e,t=!1){for(let i=0;i<e.length;i++)if(Cu(n,e[i],t))return!0;return!1}function Ef(n,e){e:for(let t=0;t<e.length;t++){const i=e[t];if(n.length===i.length){for(let r=0;r<n.length;r++)if(n[r]!==i[r])continue e;return!0}}return!1}function wf(n,e){return n?":not("+e.trim()+")":e}function If(n){let e=n[0],t=1,i=2,r="",o=!1;for(;t<n.length;){let s=n[t];if("string"==typeof s)if(2&i){const a=n[++t];r+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&i?r+="."+s:4&i&&(r+=" "+s);else""!==r&&!Dr(s)&&(e+=wf(o,r),r=""),i=s,o=o||!Dr(i);t++}return""!==r&&(e+=wf(o,r)),e}function Ft(n){return Cr(()=>{const e=o_(n),t={...e,decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===wu.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||jr.Emulated,styles:n.styles||Nt,_:null,schemas:n.schemas||null,tView:null,id:""};Su(t);const i=n.dependencies;return t.directiveDefs=Zl(i,!1),t.pipeDefs=Zl(i,!0),t.id=function TE(n){let e=0;const t=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(const r of t)e=Math.imul(31,e)+r.charCodeAt(0)<<0;return e+=2147483648,"c"+e}(t),t})}function CE(n){return bt(n)||yi(n)}function Tf(n){return null!==n}function at(n){return Cr(()=>({type:n.type,bootstrap:n.bootstrap||Nt,declarations:n.declarations||Nt,imports:n.imports||Nt,exports:n.exports||Nt,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function Au(n,e){if(null==n)return Co;const t={};for(const i in n)if(n.hasOwnProperty(i)){let r=n[i],o=r;Array.isArray(r)&&(o=r[1],r=r[0]),t[r]=i,e&&(e[r]=o)}return t}function le(n){return Cr(()=>{const e=o_(n);return Su(e),e})}function bt(n){return n[$o]||null}function yi(n){return n[pf]||null}function vi(n){return n[Oa]||null}function Ui(n,e){const t=n[e_]||null;if(!t&&!0===e)throw new Error(`Type ${Re(n)} does not have '\u0275mod' property.`);return t}function o_(n){const e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:n.inputs||Co,exportAs:n.exportAs||null,standalone:!0===n.standalone,signals:!0===n.signals,selectors:n.selectors||Nt,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Au(n.inputs,e),outputs:Au(n.outputs)}}function Su(n){n.features?.forEach(e=>e(n))}function Zl(n,e){if(!n)return null;const t=e?vi:CE;return()=>("function"==typeof n?n():n).map(i=>t(i)).filter(Tf)}const hn=0,ve=1,Qe=2,fn=3,io=4,Ks=5,Si=6,La=7,Tn=8,ds=9,hs=10,Xe=11,Ys=12,s_=13,fs=14,Un=15,Qs=16,Va=17,zr=18,Kl=19,Mu=20,ps=21,Wo=22,Ba=23,Xs=24,yt=25,Ru=1,a_=2,Do=7,Ua=9,Mi=11;function Ar(n){return Array.isArray(n)&&"object"==typeof n[Ru]}function bi(n){return Array.isArray(n)&&!0===n[Ru]}function Sf(n){return 0!=(4&n.flags)}function Js(n){return n.componentOffset>-1}function Mf(n){return 1==(1&n.flags)}function Ao(n){return!!n.template}function l_(n){return 0!=(512&n[Qe])}function ja(n,e){return n.hasOwnProperty(To)?n[To]:null}let jn=null,ku=!1;function jt(n){const e=jn;return jn=n,e}const p_={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function m_(n){if(!Jl(n)||n.dirty){if(!n.producerMustRecompute(n)&&!Xl(n))return void(n.dirty=!1);n.producerRecomputeValue(n),n.dirty=!1}}function g_(n){n.dirty=!0,function Nu(n){if(void 0===n.liveConsumerNode)return;const e=ku;ku=!0;try{for(const t of n.liveConsumerNode)t.dirty||g_(t)}finally{ku=e}}(n),n.consumerMarkedDirty?.(n)}function Fu(n){return n&&(n.nextProducerIndex=0),jt(n)}function Of(n,e){if(jt(e),n&&void 0!==n.producerNode&&void 0!==n.producerIndexOfThis&&void 0!==n.producerLastReadVersion){if(Jl(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)ta(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function Xl(n){ms(n);for(let e=0;e<n.producerNode.length;e++){const t=n.producerNode[e],i=n.producerLastReadVersion[e];if(i!==t.version||(m_(t),i!==t.version))return!0}return!1}function Nf(n){if(ms(n),Jl(n))for(let e=0;e<n.producerNode.length;e++)ta(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function ta(n,e){if(function Ff(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}(n),ms(n),1===n.liveConsumerNode.length)for(let i=0;i<n.producerNode.length;i++)ta(n.producerNode[i],n.producerIndexOfThis[i]);const t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){const i=n.liveConsumerIndexOfThis[e],r=n.liveConsumerNode[e];ms(r),r.producerIndexOfThis[i]=e}}function Jl(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function ms(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}let ME=null;const w_=()=>{},FE=(()=>({...p_,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:n=>{n.schedule(n.ref)},hasRun:!1,cleanupFn:w_}))();class I_{constructor(e,t,i){this.previousValue=e,this.currentValue=t,this.firstChange=i}isFirstChange(){return this.firstChange}}function ji(){return x_}function x_(n){return n.type.prototype.ngOnChanges&&(n.setInput=Bf),LE}function LE(){const n=Vu(this),e=n?.current;if(e){const t=n.previous;if(t===Co)n.previous=e;else for(let i in e)t[i]=e[i];n.current=null,this.ngOnChanges(e)}}function Bf(n,e,t,i){const r=this.declaredInputs[t],o=Vu(n)||function VE(n,e){return n[C_]=e}(n,{previous:Co,current:null}),s=o.current||(o.current={}),a=o.previous,l=a[r];s[r]=new I_(l&&l.currentValue,e,a===Co),n[i]=e}ji.ngInherit=!0;const C_="__ngSimpleChanges__";function Vu(n){return n[C_]||null}const Hr=function(n,e,t){},nc="svg";function on(n){for(;Array.isArray(n);)n=n[hn];return n}function Uu(n,e){return on(e[n])}function Wn(n,e){return on(e[n.index])}function T_(n,e){return n.data[e]}function Sr(n,e){const t=e[n];return Ar(t)?t:t[hn]}function gs(n,e){return null==e?null:n[e]}function ju(n){n[Va]=0}function jE(n){1024&n[Qe]||(n[Qe]|=1024,A_(n,1))}function zu(n){1024&n[Qe]&&(n[Qe]&=-1025,A_(n,-1))}function A_(n,e){let t=n[fn];if(null===t)return;t[Ks]+=e;let i=t;for(t=t[fn];null!==t&&(1===e&&1===i[Ks]||-1===e&&0===i[Ks]);)t[Ks]+=e,i=t,t=t[fn]}const $e={lFrame:V_(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function $u(){return $e.bindingsEnabled}function Wa(){return null!==$e.skipHydrationRootTNode}function te(){return $e.lFrame.lView}function Rt(){return $e.lFrame.tView}function rr(n){return $e.lFrame.contextLView=n,n[Tn]}function Ri(n){return $e.lFrame.contextLView=null,n}function Ei(){let n=P_();for(;null!==n&&64===n.type;)n=n.parent;return n}function P_(){return $e.lFrame.currentTNode}function Mo(n,e){const t=$e.lFrame;t.currentTNode=n,t.isParent=e}function rc(){return $e.lFrame.isParent}function oc(){$e.lFrame.isParent=!1}function zi(){const n=$e.lFrame;let e=n.bindingRootIndex;return-1===e&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function ia(){return $e.lFrame.bindingIndex++}function qE(n,e){const t=$e.lFrame;t.bindingIndex=t.bindingRootIndex=n,Gf(e)}function Gf(n){$e.lFrame.currentDirectiveIndex=n}function sc(n){const e=$e.lFrame.currentDirectiveIndex;return-1===e?null:n[e]}function O_(){return $e.lFrame.currentQueryIndex}function Zf(n){$e.lFrame.currentQueryIndex=n}function N_(n){const e=n[ve];return 2===e.type?e.declTNode:1===e.type?n[Si]:null}function F_(n,e,t){if(t&ht.SkipSelf){let r=e,o=n;for(;!(r=r.parent,null!==r||t&ht.Host||(r=N_(o),null===r||(o=o[fs],10&r.type))););if(null===r)return!1;e=r,n=o}const i=$e.lFrame=L_();return i.currentTNode=e,i.lView=n,!0}function qa(n){const e=L_(),t=n[ve];$e.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function L_(){const n=$e.lFrame,e=null===n?null:n.child;return null===e?V_(n):e}function V_(n){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=e),e}function B_(){const n=$e.lFrame;return $e.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const U_=B_;function Kf(){const n=B_();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Hi(){return $e.lFrame.selectedIndex}function Go(n){$e.lFrame.selectedIndex=n}function Dn(){const n=$e.lFrame;return T_(n.tView,n.selectedIndex)}let z_=!0;function Gu(){return z_}function _s(n){z_=n}function Zu(n,e){for(let t=e.directiveStart,i=e.directiveEnd;t<i;t++){const o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:h}=o;s&&(n.contentHooks??=[]).push(-t,s),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),l&&(n.viewHooks??=[]).push(-t,l),c&&((n.viewHooks??=[]).push(t,c),(n.viewCheckHooks??=[]).push(t,c)),null!=h&&(n.destroyHooks??=[]).push(t,h)}}function Ga(n,e,t){Ku(n,e,3,t)}function Za(n,e,t,i){(3&n[Qe])===t&&Ku(n,e,t,i)}function Qf(n,e){let t=n[Qe];(3&t)===e&&(t&=8191,t+=1,n[Qe]=t)}function Ku(n,e,t,i){const o=i??-1,s=e.length-1;let a=0;for(let l=void 0!==i?65535&n[Va]:0;l<s;l++)if("number"==typeof e[l+1]){if(a=e[l],null!=i&&a>=i)break}else e[l]<0&&(n[Va]+=65536),(a<o||-1==o)&&($_(n,t,e,l),n[Va]=(4294901760&n[Va])+l+2),l++}function H_(n,e){Hr(4,n,e);const t=jt(null);try{e.call(n)}finally{jt(t),Hr(5,n,e)}}function $_(n,e,t,i){const r=t[i]<0,o=t[i+1],a=n[r?-t[i]:t[i]];r?n[Qe]>>13<n[Va]>>16&&(3&n[Qe])===e&&(n[Qe]+=8192,H_(a,o)):H_(a,o)}const Ka=-1;class ra{constructor(e,t,i){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=i}}function Xf(n){return n!==Ka}function lc(n){return 32767&n}function cc(n,e){let t=function iw(n){return n>>16}(n),i=e;for(;t>0;)i=i[fs],t--;return i}let Qu=!0;function Xu(n){const e=Qu;return Qu=n,e}const f=255,u=5;let d=0;const m={};function E(n,e){const t=H(n,e);if(-1!==t)return t;const i=e[ve];i.firstCreatePass&&(n.injectorIndex=e.length,P(i.data,n),P(e,null),P(i.blueprint,null));const r=ie(n,e),o=n.injectorIndex;if(Xf(r)){const s=lc(r),a=cc(r,e),l=a[ve].data;for(let c=0;c<8;c++)e[o+c]=a[s+c]|l[s+c]}return e[o+8]=r,o}function P(n,e){n.push(0,0,0,0,0,0,0,0,e)}function H(n,e){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===e[n.injectorIndex+8]?-1:n.injectorIndex}function ie(n,e){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let t=0,i=null,r=e;for(;null!==r;){if(i=OM(r),null===i)return Ka;if(t++,r=r[fs],-1!==i.injectorIndex)return i.injectorIndex|t<<16}return Ka}function we(n,e,t){!function _(n,e,t){let i;"string"==typeof t?i=t.charCodeAt(0)||0:t.hasOwnProperty(Zs)&&(i=t[Zs]),null==i&&(i=t[Zs]=d++);const r=i&f;e.data[n+(r>>u)]|=1<<r}(n,e,t)}function Et(n,e,t){if(t&ht.Optional||void 0!==n)return n;ef()}function $i(n,e,t,i){if(t&ht.Optional&&void 0===i&&(i=null),!(t&(ht.Self|ht.Host))){const r=n[ds],o=ir(void 0);try{return r?r.get(e,i,t&ht.Optional):gu(e,i,t&ht.Optional)}finally{ir(o)}}return Et(i,0,t)}function Zo(n,e,t,i=ht.Default,r){if(null!==n){if(2048&e[Qe]&&!(i&ht.Self)){const s=function T4(n,e,t,i,r){let o=n,s=e;for(;null!==o&&null!==s&&2048&s[Qe]&&!(512&s[Qe]);){const a=uc(o,s,t,i|ht.Self,m);if(a!==m)return a;let l=o.parent;if(!l){const c=s[Mu];if(c){const h=c.get(t,m,i);if(h!==m)return h}l=OM(s),s=s[fs]}o=l}return r}(n,e,t,i,m);if(s!==m)return s}const o=uc(n,e,t,i,m);if(o!==m)return o}return $i(e,t,i,r)}function uc(n,e,t,i,r){const o=function G_(n){if("string"==typeof n)return n.charCodeAt(0)||0;const e=n.hasOwnProperty(Zs)?n[Zs]:void 0;return"number"==typeof e?e>=0?e&f:rw:e}(t);if("function"==typeof o){if(!F_(e,n,i))return i&ht.Host?Et(r,0,i):$i(e,t,i,r);try{let s;if(s=o(i),null!=s||i&ht.Optional)return s;ef()}finally{U_()}}else if("number"==typeof o){let s=null,a=H(n,e),l=Ka,c=i&ht.Host?e[Un][Si]:null;for((-1===a||i&ht.SkipSelf)&&(l=-1===a?ie(n,e):e[a+8],l!==Ka&&Jf(i,!1)?(s=e[ve],a=lc(l),e=cc(l,e)):a=-1);-1!==a;){const h=e[ve];if(Ju(o,a,h.data)){const p=q_(a,e,t,s,i,c);if(p!==m)return p}l=e[a+8],l!==Ka&&Jf(i,e[ve].data[a+8]===c)&&Ju(o,a,e)?(s=h,a=lc(l),e=cc(l,e)):a=-1}}return r}function q_(n,e,t,i,r,o){const s=e[ve],a=s.data[n+8],h=Ya(a,s,t,null==i?Js(a)&&Qu:i!=s&&0!=(3&a.type),r&ht.Host&&o===a);return null!==h?ys(e,s,h,a):m}function Ya(n,e,t,i,r){const o=n.providerIndexes,s=e.data,a=1048575&o,l=n.directiveStart,h=o>>20,g=r?a+h:n.directiveEnd;for(let y=i?a:a+h;y<g;y++){const w=s[y];if(y<l&&t===w||y>=l&&w.type===t)return y}if(r){const y=s[l];if(y&&Ao(y)&&y.type===t)return l}return null}function ys(n,e,t,i){let r=n[t];const o=e.data;if(function ew(n){return n instanceof ra}(r)){const s=r;s.resolving&&function $l(n,e){const t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new V(-200,`Circular dependency in DI detected for ${n}${t}`)}(function pt(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():Te(n)}(o[t]));const a=Xu(s.canSeeViewProviders);s.resolving=!0;const c=s.injectImpl?ir(s.injectImpl):null;F_(n,i,ht.Default);try{r=n[t]=s.factory(void 0,o,n,i),e.firstCreatePass&&t>=i.directiveStart&&function JE(n,e,t){const{ngOnChanges:i,ngOnInit:r,ngDoCheck:o}=e.type.prototype;if(i){const s=x_(e);(t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s)}r&&(t.preOrderHooks??=[]).push(0-n,r),o&&((t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o))}(t,o[t],e)}finally{null!==c&&ir(c),Xu(a),s.resolving=!1,U_()}}return r}function Ju(n,e,t){return!!(t[e+(n>>u)]&1<<n)}function Jf(n,e){return!(n&ht.Self||n&ht.Host&&e)}class Pi{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,i){return Zo(this._tNode,this._lView,e,bu(i),t)}}function rw(){return new Pi(Ei(),te())}function An(n){return Cr(()=>{const e=n.prototype.constructor,t=e[To]||tp(e),i=Object.prototype;let r=Object.getPrototypeOf(n.prototype).constructor;for(;r&&r!==i;){const o=r[To]||tp(r);if(o&&o!==t)return o;r=Object.getPrototypeOf(r)}return o=>new o})}function tp(n){return re(n)?()=>{const e=tp(k(n));return e&&e()}:ja(n)}function OM(n){const e=n[ve],t=e.type;return 2===t?e.declTNode:1===t?n[Si]:null}function np(n){return function Fe(n,e){if("class"===e)return n.classes;if("style"===e)return n.styles;const t=n.attrs;if(t){const i=t.length;let r=0;for(;r<i;){const o=t[r];if(Iu(o))break;if(0===o)r+=2;else if("number"==typeof o)for(r++;r<i&&"string"==typeof t[r];)r++;else{if(o===e)return t[r+1];r+=2}}}return null}(Ei(),n)}const td="__parameters__";function id(n,e,t){return Cr(()=>{const i=function ow(n){return function(...t){if(n){const i=n(...t);for(const r in i)this[r]=i[r]}}}(e);function r(...o){if(this instanceof r)return i.apply(this,o),this;const s=new r(...o);return a.annotation=s,a;function a(l,c,h){const p=l.hasOwnProperty(td)?l[td]:Object.defineProperty(l,td,{value:[]})[td];for(;p.length<=h;)p.push(null);return(p[h]=p[h]||[]).push(s),l}}return t&&(r.prototype=Object.create(t.prototype)),r.prototype.ngMetadataName=n,r.annotationCls=r,r})}function od(n,e){n.forEach(t=>Array.isArray(t)?od(t,e):e(t))}function FM(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function Z_(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function rp(n,e){const t=[];for(let i=0;i<n;i++)t.push(e);return t}function ro(n,e,t){let i=sd(n,e);return i>=0?n[1|i]=t:(i=~i,function k4(n,e,t,i){let r=n.length;if(r==e)n.push(t,i);else if(1===r)n.push(i,n[0]),n[0]=t;else{for(r--,n.push(n[r-1],n[r]);r>e;)n[r]=n[r-2],r--;n[e]=t,n[e+1]=i}}(n,i,e,t)),i}function sw(n,e){const t=sd(n,e);if(t>=0)return n[1|t]}function sd(n,e){return function LM(n,e,t){let i=0,r=n.length>>t;for(;r!==i;){const o=i+(r-i>>1),s=n[o<<t];if(e===s)return o<<t;s>e?r=o:i=o+1}return~(r<<t)}(n,e,1)}const or=Eu(id("Optional"),8),op=Eu(id("SkipSelf"),4);function ey(n){return 128==(128&n.flags)}var Xa=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(Xa||{});const dw=new Map;let r3=0;const fw="__ngContext__";function sr(n,e){Ar(e)?(n[fw]=e[Kl],function s3(n){dw.set(n[Kl],n)}(e)):n[fw]=e}let pw;function mw(n,e){return pw(n,e)}function lp(n){const e=n[fn];return bi(e)?e[fn]:e}function iR(n){return oR(n[Ys])}function rR(n){return oR(n[io])}function oR(n){for(;null!==n&&!bi(n);)n=n[io];return n}function cd(n,e,t,i,r){if(null!=i){let o,s=!1;bi(i)?o=i:Ar(i)&&(s=!0,i=i[hn]);const a=on(i);0===n&&null!==t?null==r?cR(e,t,a):dc(e,t,a,r||null,!0):1===n&&null!==t?dc(e,t,a,r||null,!0):2===n?function ay(n,e,t){const i=oy(n,e);i&&function C3(n,e,t,i){n.removeChild(e,t,i)}(n,i,e,t)}(e,a,s):3===n&&e.destroyNode(a),null!=o&&function A3(n,e,t,i,r){const o=t[Do];o!==on(t)&&cd(e,n,i,o,r);for(let a=Mi;a<t.length;a++){const l=t[a];up(l[ve],l,n,e,i,o)}}(e,n,o,t,r)}}function iy(n,e,t){return n.createElement(e,t)}function aR(n,e){const t=n[Ua],i=t.indexOf(e);zu(e),t.splice(i,1)}function ry(n,e){if(n.length<=Mi)return;const t=Mi+e,i=n[t];if(i){const r=i[Qs];null!==r&&r!==n&&aR(r,i),e>0&&(n[t-1][io]=i[io]);const o=Z_(n,Mi+e);!function _3(n,e){up(n,e,e[Xe],2,null,null),e[hn]=null,e[Si]=null}(i[ve],i);const s=o[zr];null!==s&&s.detachView(o[ve]),i[fn]=null,i[io]=null,i[Qe]&=-129}return i}function _w(n,e){if(!(256&e[Qe])){const t=e[Xe];e[Ba]&&Nf(e[Ba]),e[Xs]&&Nf(e[Xs]),t.destroyNode&&up(n,e,t,3,null,null),function b3(n){let e=n[Ys];if(!e)return yw(n[ve],n);for(;e;){let t=null;if(Ar(e))t=e[Ys];else{const i=e[Mi];i&&(t=i)}if(!t){for(;e&&!e[io]&&e!==n;)Ar(e)&&yw(e[ve],e),e=e[fn];null===e&&(e=n),Ar(e)&&yw(e[ve],e),t=e&&e[io]}e=t}}(e)}}function yw(n,e){if(!(256&e[Qe])){e[Qe]&=-129,e[Qe]|=256,function x3(n,e){let t;if(null!=n&&null!=(t=n.destroyHooks))for(let i=0;i<t.length;i+=2){const r=e[t[i]];if(!(r instanceof ra)){const o=t[i+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){const a=r[o[s]],l=o[s+1];Hr(4,a,l);try{l.call(a)}finally{Hr(5,a,l)}}else{Hr(4,r,o);try{o.call(r)}finally{Hr(5,r,o)}}}}}(n,e),function I3(n,e){const t=n.cleanup,i=e[La];if(null!==t)for(let o=0;o<t.length-1;o+=2)if("string"==typeof t[o]){const s=t[o+3];s>=0?i[s]():i[-s].unsubscribe(),o+=2}else t[o].call(i[t[o+1]]);null!==i&&(e[La]=null);const r=e[ps];if(null!==r){e[ps]=null;for(let o=0;o<r.length;o++)(0,r[o])()}}(n,e),1===e[ve].type&&e[Xe].destroy();const t=e[Qs];if(null!==t&&bi(e[fn])){t!==e[fn]&&aR(t,e);const i=e[zr];null!==i&&i.detachView(n)}!function a3(n){dw.delete(n[Kl])}(e)}}function vw(n,e,t){return function lR(n,e,t){let i=e;for(;null!==i&&40&i.type;)i=(e=i).parent;if(null===i)return t[hn];{const{componentOffset:r}=i;if(r>-1){const{encapsulation:o}=n.data[i.directiveStart+r];if(o===jr.None||o===jr.Emulated)return null}return Wn(i,t)}}(n,e.parent,t)}function dc(n,e,t,i,r){n.insertBefore(e,t,i,r)}function cR(n,e,t){n.appendChild(e,t)}function uR(n,e,t,i,r){null!==i?dc(n,e,t,i,r):cR(n,e,t)}function oy(n,e){return n.parentNode(e)}function dR(n,e,t){return fR(n,e,t)}let bw,ly,xw,cy,fR=function hR(n,e,t){return 40&n.type?Wn(n,t):null};function sy(n,e,t,i){const r=vw(n,i,e),o=e[Xe],a=dR(i.parent||e[Si],i,e);if(null!=r)if(Array.isArray(t))for(let l=0;l<t.length;l++)uR(o,r,t[l],a,!1);else uR(o,r,t,a,!1);void 0!==bw&&bw(o,i,e,t,r)}function cp(n,e){if(null!==e){const t=e.type;if(3&t)return Wn(e,n);if(4&t)return Ew(-1,n[e.index]);if(8&t){const i=e.child;if(null!==i)return cp(n,i);{const r=n[e.index];return bi(r)?Ew(-1,r):on(r)}}if(32&t)return mw(e,n)()||on(n[e.index]);{const i=mR(n,e);return null!==i?Array.isArray(i)?i[0]:cp(lp(n[Un]),i):cp(n,e.next)}}return null}function mR(n,e){return null!==e?n[Un][Si].projection[e.projection]:null}function Ew(n,e){const t=Mi+n+1;if(t<e.length){const i=e[t],r=i[ve].firstChild;if(null!==r)return cp(i,r)}return e[Do]}function ww(n,e,t,i,r,o,s){for(;null!=t;){const a=i[t.index],l=t.type;if(s&&0===e&&(a&&sr(on(a),i),t.flags|=2),32!=(32&t.flags))if(8&l)ww(n,e,t.child,i,r,o,!1),cd(e,n,r,a,o);else if(32&l){const c=mw(t,i);let h;for(;h=c();)cd(e,n,r,h,o);cd(e,n,r,a,o)}else 16&l?_R(n,e,i,t,r,o):cd(e,n,r,a,o);t=s?t.projectionNext:t.next}}function up(n,e,t,i,r,o){ww(t,i,n.firstChild,e,r,o,!1)}function _R(n,e,t,i,r,o){const s=t[Un],l=s[Si].projection[i.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++)cd(e,n,r,l[c],o);else{let c=l;const h=s[fn];ey(i)&&(c.flags|=128),ww(n,e,c,h,r,o,!0)}}function yR(n,e,t){""===t?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function vR(n,e,t){const{mergedAttrs:i,classes:r,styles:o}=t;null!==i&&gf(n,e,i),null!==r&&yR(n,e,r),null!==o&&function M3(n,e,t){n.setAttribute(e,"style",t)}(n,e,o)}function ud(n){return function Iw(){if(void 0===ly&&(ly=null,Yt.trustedTypes))try{ly=Yt.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return ly}()?.createHTML(n)||n}function wR(n){return function Cw(){if(void 0===cy&&(cy=null,Yt.trustedTypes))try{cy=Yt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return cy}()?.createScriptURL(n)||n}class hc{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${dt})`}}class N3 extends hc{getTypeName(){return"HTML"}}class F3 extends hc{getTypeName(){return"Style"}}class L3 extends hc{getTypeName(){return"Script"}}class V3 extends hc{getTypeName(){return"URL"}}class B3 extends hc{getTypeName(){return"ResourceURL"}}function oo(n){return n instanceof hc?n.changingThisBreaksApplicationSecurity:n}function vs(n,e){const t=function U3(n){return n instanceof hc&&n.getTypeName()||null}(n);if(null!=t&&t!==e){if("ResourceURL"===t&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${dt})`)}return t===e}class q3{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{const t=(new window.DOMParser).parseFromString(ud(e),"text/html").body;return null===t?this.inertDocumentHelper.getInertBodyElement(e):(t.removeChild(t.firstChild),t)}catch{return null}}}class G3{constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){const t=this.inertDocument.createElement("template");return t.innerHTML=ud(e),t}}const K3=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function uy(n){return(n=String(n)).match(K3)?n:"unsafe:"+n}function oa(n){const e={};for(const t of n.split(","))e[t]=!0;return e}function dp(...n){const e={};for(const t of n)for(const i in t)t.hasOwnProperty(i)&&(e[i]=!0);return e}const xR=oa("area,br,col,hr,img,wbr"),CR=oa("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),TR=oa("rp,rt"),Tw=dp(xR,dp(CR,oa("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),dp(TR,oa("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),dp(TR,CR)),Dw=oa("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),DR=dp(Dw,oa("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),oa("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Y3=oa("script,style,template");class Q3{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let t=e.firstChild,i=!0;for(;t;)if(t.nodeType===Node.ELEMENT_NODE?i=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,i&&t.firstChild)t=t.firstChild;else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let r=this.checkClobberedElement(t,t.nextSibling);if(r){t=r;break}t=this.checkClobberedElement(t,t.parentNode)}return this.buf.join("")}startElement(e){const t=e.nodeName.toLowerCase();if(!Tw.hasOwnProperty(t))return this.sanitizedSomething=!0,!Y3.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);const i=e.attributes;for(let r=0;r<i.length;r++){const o=i.item(r),s=o.name,a=s.toLowerCase();if(!DR.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let l=o.value;Dw[a]&&(l=uy(l)),this.buf.push(" ",s,'="',AR(l),'"')}return this.buf.push(">"),!0}endElement(e){const t=e.nodeName.toLowerCase();Tw.hasOwnProperty(t)&&!xR.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(AR(e))}checkClobberedElement(e,t){if(t&&(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return t}}const X3=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,J3=/([^\#-~ |!])/g;function AR(n){return n.replace(/&/g,"&amp;").replace(X3,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(J3,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let dy;function SR(n,e){let t=null;try{dy=dy||function IR(n){const e=new G3(n);return function Z3(){try{return!!(new window.DOMParser).parseFromString(ud(""),"text/html")}catch{return!1}}()?new q3(e):e}(n);let i=e?String(e):"";t=dy.getInertBodyElement(i);let r=5,o=i;do{if(0===r)throw new Error("Failed to sanitize html because the input is unstable");r--,i=o,o=t.innerHTML,t=dy.getInertBodyElement(i)}while(i!==o);return ud((new Q3).sanitizeChildren(Aw(t)||t))}finally{if(t){const i=Aw(t)||t;for(;i.firstChild;)i.removeChild(i.firstChild)}}}function Aw(n){return"content"in n&&function e5(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var Wi=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(Wi||{});function Sw(n){const e=hp();return e?e.sanitize(Wi.URL,n)||"":vs(n,"URL")?oo(n):uy(Te(n))}function MR(n){const e=hp();if(e)return wR(e.sanitize(Wi.RESOURCE_URL,n)||"");if(vs(n,"ResourceURL"))return wR(oo(n));throw new V(904,!1)}function hp(){const n=te();return n&&n[hs].sanitizer}const fp=new G("ENVIRONMENT_INITIALIZER"),PR=new G("INJECTOR",-1),kR=new G("INJECTOR_DEF_TYPES");class Mw{get(e,t=qs){if(t===qs){const i=new Error(`NullInjectorError: No provider for ${Re(e)}!`);throw i.name="NullInjectorError",i}return t}}function l5(...n){return{\u0275providers:NR(0,n),\u0275fromNgModule:!0}}function NR(n,...e){const t=[],i=new Set;let r;const o=s=>{t.push(s)};return od(e,s=>{const a=s;hy(a,o,[],i)&&(r||=[],r.push(a))}),void 0!==r&&FR(r,o),t}function FR(n,e){for(let t=0;t<n.length;t++){const{ngModule:i,providers:r}=n[t];Rw(r,o=>{e(o,i)})}}function hy(n,e,t,i){if(!(n=k(n)))return!1;let r=null,o=Wl(n);const s=!o&&bt(n);if(o||s){if(s&&!s.standalone)return!1;r=n}else{const l=n.ngModule;if(o=Wl(l),!o)return!1;r=l}const a=i.has(r);if(s){if(a)return!1;if(i.add(r),s.dependencies){const l="function"==typeof s.dependencies?s.dependencies():s.dependencies;for(const c of l)hy(c,e,t,i)}}else{if(!o)return!1;{if(null!=o.imports&&!a){let c;i.add(r);try{od(o.imports,h=>{hy(h,e,t,i)&&(c||=[],c.push(h))})}finally{}void 0!==c&&FR(c,e)}if(!a){const c=ja(r)||(()=>new r);e({provide:r,useFactory:c,deps:Nt},r),e({provide:kR,useValue:r,multi:!0},r),e({provide:fp,useValue:()=>O(r),multi:!0},r)}const l=o.providers;if(null!=l&&!a){const c=n;Rw(l,h=>{e(h,c)})}}}return r!==n&&void 0!==n.providers}function Rw(n,e){for(let t of n)Ae(t)&&(t=t.\u0275providers),Array.isArray(t)?Rw(t,e):e(t)}const c5=_e({provide:String,useValue:_e});function Pw(n){return null!==n&&"object"==typeof n&&c5 in n}function fc(n){return"function"==typeof n}const kw=new G("Set Injector scope."),fy={},d5={};let Ow;function py(){return void 0===Ow&&(Ow=new Mw),Ow}class ko{}class hd extends ko{get destroyed(){return this._destroyed}constructor(e,t,i,r){super(),this.parent=t,this.source=i,this.scopes=r,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Fw(e,s=>this.processProvider(s)),this.records.set(PR,fd(void 0,this)),r.has("environment")&&this.records.set(ko,fd(void 0,this));const o=this.records.get(kw);null!=o&&"string"==typeof o.value&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(kR.multi,Nt,ht.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const t of this._ngOnDestroyHooks)t.ngOnDestroy();const e=this._onDestroyHooks;this._onDestroyHooks=[];for(const t of e)t()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();const t=cs(this),i=ir(void 0);try{return e()}finally{cs(t),ir(i)}}get(e,t=qs,i=ht.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(Tr))return e[Tr](this);i=bu(i);const o=cs(this),s=ir(void 0);try{if(!(i&ht.SkipSelf)){let l=this.records.get(e);if(void 0===l){const c=function g5(n){return"function"==typeof n||"object"==typeof n&&n instanceof G}(e)&&fu(e);l=c&&this.injectableDefInScope(c)?fd(Nw(e),fy):null,this.records.set(e,l)}if(null!=l)return this.hydrate(e,l)}return(i&ht.Self?py():this.parent).get(e,t=i&ht.Optional&&t===qs?null:t)}catch(a){if("NullInjectorError"===a.name){if((a[xr]=a[xr]||[]).unshift(Re(e)),o)throw a;return function Ho(n,e,t,i){const r=n[xr];throw e[vu]&&r.unshift(e[vu]),n.message=function ka(n,e,t,i=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let r=Re(e);if(Array.isArray(e))r=e.map(Re).join(" -> ");else if("object"==typeof e){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+("string"==typeof a?JSON.stringify(a):Re(a)))}r=`{${o.join(", ")}}`}return`${t}${i?"("+i+")":""}[${r}]: ${n.replace(df,"\n  ")}`}("\n"+n.message,r,t,i),n.ngTokenPath=r,n[xr]=null,n}(a,e,"R3InjectorError",this.source)}throw a}finally{ir(s),cs(o)}}resolveInjectorInitializers(){const e=cs(this),t=ir(void 0);try{const r=this.get(fp.multi,Nt,ht.Self);for(const o of r)o()}finally{cs(e),ir(t)}}toString(){const e=[],t=this.records;for(const i of t.keys())e.push(Re(i));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new V(205,!1)}processProvider(e){let t=fc(e=k(e))?e:k(e&&e.provide);const i=function f5(n){return Pw(n)?fd(void 0,n.useValue):fd(BR(n),fy)}(e);if(fc(e)||!0!==e.multi)this.records.get(t);else{let r=this.records.get(t);r||(r=fd(void 0,fy,!0),r.factory=()=>Gs(r.multi),this.records.set(t,r)),t=e,r.multi.push(e)}this.records.set(t,i)}hydrate(e,t){return t.value===fy&&(t.value=d5,t.value=t.factory()),"object"==typeof t.value&&t.value&&function m5(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}injectableDefInScope(e){if(!e.providedIn)return!1;const t=k(e.providedIn);return"string"==typeof t?"any"===t||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){const t=this._onDestroyHooks.indexOf(e);-1!==t&&this._onDestroyHooks.splice(t,1)}}function Nw(n){const e=fu(n),t=null!==e?e.factory:ja(n);if(null!==t)return t;if(n instanceof G)throw new V(204,!1);if(n instanceof Function)return function h5(n){const e=n.length;if(e>0)throw rp(e,"?"),new V(204,!1);const t=function Ma(n){return n&&(n[Ra]||n[pu])||null}(n);return null!==t?()=>t.factory(n):()=>new n}(n);throw new V(204,!1)}function BR(n,e,t){let i;if(fc(n)){const r=k(n);return ja(r)||Nw(r)}if(Pw(n))i=()=>k(n.useValue);else if(function VR(n){return!(!n||!n.useFactory)}(n))i=()=>n.useFactory(...Gs(n.deps||[]));else if(function LR(n){return!(!n||!n.useExisting)}(n))i=()=>O(k(n.useExisting));else{const r=k(n&&(n.useClass||n.provide));if(!function p5(n){return!!n.deps}(n))return ja(r)||Nw(r);i=()=>new r(...Gs(n.deps))}return i}function fd(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function Fw(n,e){for(const t of n)Array.isArray(t)?Fw(t,e):t&&Ae(t)?Fw(t.\u0275providers,e):e(t)}const my=new G("AppId",{providedIn:"root",factory:()=>_5}),_5="ng",UR=new G("Platform Initializer"),Ko=new G("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),ar=new G("AnimationModuleType"),Lw=new G("CSP nonce",{providedIn:"root",factory:()=>function dd(){if(void 0!==xw)return xw;if(typeof document<"u")return document;throw new V(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let jR=(n,e,t)=>null;function Ww(n,e,t=!1){return jR(n,e,t)}class D5{}class $R{}class S5{resolveComponentFactory(e){throw function A5(n){const e=Error(`No component factory found for ${Re(n)}.`);return e.ngComponent=n,e}(e)}}let pc=(()=>{class n{static#e=this.NULL=new S5}return n})();function M5(){return gd(Ei(),te())}function gd(n,e){return new Ye(Wn(n,e))}let Ye=(()=>{class n{constructor(t){this.nativeElement=t}static#e=this.__NG_ELEMENT_ID__=M5}return n})();function R5(n){return n instanceof Ye?n.nativeElement:n}class gp{}let sa=(()=>{class n{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function P5(){const n=te(),t=Sr(Ei().index,n);return(Ar(t)?t:n)[Xe]}()}return n})(),k5=(()=>{class n{static#e=this.\u0275prov=ce({token:n,providedIn:"root",factory:()=>null})}return n})();class Ja{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const Zw=new Ja("16.2.12"),Kw={};function KR(n,e=null,t=null,i){const r=YR(n,e,t,i);return r.resolveInjectorInitializers(),r}function YR(n,e=null,t=null,i,r=new Set){const o=[t||Nt,l5(n)];return i=i||("object"==typeof n?void 0:Re(n)),new hd(o,e||py(),i||null,r)}let pn=(()=>{class n{static#e=this.THROW_IF_NOT_FOUND=qs;static#t=this.NULL=new Mw;static create(t,i){if(Array.isArray(t))return KR({name:""},i,t,"");{const r=t.name??"";return KR({name:r},t.parent,t.providers,r)}}static#n=this.\u0275prov=ce({token:n,providedIn:"any",factory:()=>O(PR)});static#i=this.__NG_ELEMENT_ID__=-1}return n})();function Qw(n){return n.ngOriginalError}class Oo{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&Qw(e);for(;t&&Qw(t);)t=Qw(t);return t||null}}function Jw(n){return e=>{setTimeout(n,void 0,e)}}const lt=class U5 extends F{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,i){let r=e,o=t||(()=>null),s=i;if(e&&"object"==typeof e){const l=e;r=l.next?.bind(l),o=l.error?.bind(l),s=l.complete?.bind(l)}this.__isAsync&&(o=Jw(o),r&&(r=Jw(r)),s&&(s=Jw(s)));const a=super.subscribe({next:r,error:o,complete:s});return e instanceof We&&e.add(a),a}};function XR(...n){}class Ce{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new lt(!1),this.onMicrotaskEmpty=new lt(!1),this.onStable=new lt(!1),this.onError=new lt(!1),typeof Zone>"u")throw new V(908,!1);Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!i&&t,r.shouldCoalesceRunChangeDetection=i,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function j5(){const n="function"==typeof Yt.requestAnimationFrame;let e=Yt[n?"requestAnimationFrame":"setTimeout"],t=Yt[n?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&t){const i=e[Zone.__symbol__("OriginalDelegate")];i&&(e=i);const r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function $5(n){const e=()=>{!function H5(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(Yt,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,tI(n),n.isCheckStableRunning=!0,eI(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),tI(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,i,r,o,s,a)=>{if(function q5(n){return!(!Array.isArray(n)||1!==n.length)&&!0===n[0].data?.__ignore_ng_zone__}(a))return t.invokeTask(r,o,s,a);try{return JR(n),t.invokeTask(r,o,s,a)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||n.shouldCoalesceRunChangeDetection)&&e(),eP(n)}},onInvoke:(t,i,r,o,s,a,l)=>{try{return JR(n),t.invoke(r,o,s,a,l)}finally{n.shouldCoalesceRunChangeDetection&&e(),eP(n)}},onHasTask:(t,i,r,o)=>{t.hasTask(r,o),i===r&&("microTask"==o.change?(n._hasPendingMicrotasks=o.microTask,tI(n),eI(n)):"macroTask"==o.change&&(n.hasPendingMacrotasks=o.macroTask))},onHandleError:(t,i,r,o)=>(t.handleError(r,o),n.runOutsideAngular(()=>n.onError.emit(o)),!1)})}(r)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ce.isInAngularZone())throw new V(909,!1)}static assertNotInAngularZone(){if(Ce.isInAngularZone())throw new V(909,!1)}run(e,t,i){return this._inner.run(e,t,i)}runTask(e,t,i,r){const o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+r,e,z5,XR,XR);try{return o.runTask(s,t,i)}finally{o.cancelTask(s)}}runGuarded(e,t,i){return this._inner.runGuarded(e,t,i)}runOutsideAngular(e){return this._outer.run(e)}}const z5={};function eI(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function tI(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function JR(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function eP(n){n._nesting--,eI(n)}class W5{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new lt,this.onMicrotaskEmpty=new lt,this.onStable=new lt,this.onError=new lt}run(e,t,i){return e.apply(t,i)}runGuarded(e,t,i){return e.apply(t,i)}runOutsideAngular(e){return e()}runTask(e,t,i,r){return e.apply(t,i)}}const tP=new G("",{providedIn:"root",factory:nP});function nP(){const n=he(Ce);let e=!0;return I(new Ke(r=>{e=n.isStable&&!n.hasPendingMacrotasks&&!n.hasPendingMicrotasks,n.runOutsideAngular(()=>{r.next(e),r.complete()})}),new Ke(r=>{let o;n.runOutsideAngular(()=>{o=n.onStable.subscribe(()=>{Ce.assertNotInAngularZone(),queueMicrotask(()=>{!e&&!n.hasPendingMacrotasks&&!n.hasPendingMicrotasks&&(e=!0,r.next(!0))})})});const s=n.onUnstable.subscribe(()=>{Ce.assertInAngularZone(),e&&(e=!1,n.runOutsideAngular(()=>{r.next(!1)}))});return()=>{o.unsubscribe(),s.unsubscribe()}}).pipe(Z()))}function aa(n){return n instanceof Function?n():n}let nI=(()=>{class n{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static#e=this.\u0275prov=ce({token:n,providedIn:"root",factory:()=>new n})}return n})();function _p(n){for(;n;){n[Qe]|=64;const e=lp(n);if(l_(n)&&!e)return n;n=e}return null}const aP=new G("",{providedIn:"root",factory:()=>!1});let wy=null;function dP(n,e){return n[e]??pP()}function hP(n,e){const t=pP();t.producerNode?.length&&(n[e]=wy,t.lView=n,wy=fP())}const nW={...p_,consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{_p(n.lView)},lView:null};function fP(){return Object.create(nW)}function pP(){return wy??=fP(),wy}const rt={};function He(n){mP(Rt(),te(),Hi()+n,!1)}function mP(n,e,t,i){if(!i)if(3==(3&e[Qe])){const o=n.preOrderCheckHooks;null!==o&&Ga(e,o,t)}else{const o=n.preOrderHooks;null!==o&&Za(e,o,0,t)}Go(t)}function T(n,e=ht.Default){const t=te();return null===t?O(n,e):Zo(Ei(),t,k(n),e)}function Iy(){throw new Error("invalid")}function xy(n,e,t,i,r,o,s,a,l,c,h){const p=e.blueprint.slice();return p[hn]=r,p[Qe]=140|i,(null!==c||n&&2048&n[Qe])&&(p[Qe]|=2048),ju(p),p[fn]=p[fs]=n,p[Tn]=t,p[hs]=s||n&&n[hs],p[Xe]=a||n&&n[Xe],p[ds]=l||n&&n[ds]||null,p[Si]=o,p[Kl]=function o3(){return r3++}(),p[Wo]=h,p[Mu]=c,p[Un]=2==e.type?n[Un]:p,p}function vd(n,e,t,i,r){let o=n.data[e];if(null===o)o=function iI(n,e,t,i,r){const o=P_(),s=rc(),l=n.data[e]=function uW(n,e,t,i,r,o){let s=e?e.injectorIndex:-1,a=0;return Wa()&&(a|=128),{type:t,index:i,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:r,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,t,e,i,r);return null===n.firstChild&&(n.firstChild=l),null!==o&&(s?null==o.child&&null!==l.parent&&(o.child=l):null===o.next&&(o.next=l,l.prev=o)),l}(n,e,t,i,r),function k_(){return $e.lFrame.inI18n}()&&(o.flags|=32);else if(64&o.type){o.type=t,o.value=i,o.attrs=r;const s=function na(){const n=$e.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}();o.injectorIndex=null===s?-1:s.injectorIndex}return Mo(o,!0),o}function yp(n,e,t,i){if(0===t)return-1;const r=e.length;for(let o=0;o<t;o++)e.push(i),n.blueprint.push(i),n.data.push(null);return r}function gP(n,e,t,i,r){const o=dP(e,Ba),s=Hi(),a=2&i;try{Go(-1),a&&e.length>yt&&mP(n,e,yt,!1),Hr(a?2:0,r);const c=a?o:null,h=Fu(c);try{null!==c&&(c.dirty=!1),t(i,r)}finally{Of(c,h)}}finally{a&&null===e[Ba]&&hP(e,Ba),Go(s),Hr(a?3:1,r)}}function rI(n,e,t){if(Sf(e)){const i=jt(null);try{const o=e.directiveEnd;for(let s=e.directiveStart;s<o;s++){const a=n.data[s];a.contentQueries&&a.contentQueries(1,t[s],s)}}finally{jt(i)}}}function oI(n,e,t){$u()&&(function _W(n,e,t,i){const r=t.directiveStart,o=t.directiveEnd;Js(t)&&function xW(n,e,t){const i=Wn(e,n),r=_P(t);let s=16;t.signals?s=4096:t.onPush&&(s=64);const a=Cy(n,xy(n,r,null,s,i,e,null,n[hs].rendererFactory.createRenderer(i,t),null,null,null));n[e.index]=a}(e,t,n.data[r+t.componentOffset]),n.firstCreatePass||E(t,e),sr(i,e);const s=t.initialInputs;for(let a=r;a<o;a++){const l=n.data[a],c=ys(e,n,a,t);sr(c,e),null!==s&&CW(0,a-r,c,l,0,s),Ao(l)&&(Sr(t.index,e)[Tn]=ys(e,n,a,t))}}(n,e,t,Wn(t,e)),64==(64&t.flags)&&wP(n,e,t))}function sI(n,e,t=Wn){const i=e.localNames;if(null!==i){let r=e.index+1;for(let o=0;o<i.length;o+=2){const s=i[o+1],a=-1===s?t(e,n):n[s];n[r++]=a}}}function _P(n){const e=n.tView;return null===e||e.incompleteFirstPass?n.tView=aI(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function aI(n,e,t,i,r,o,s,a,l,c,h){const p=yt+i,g=p+r,y=function rW(n,e){const t=[];for(let i=0;i<e;i++)t.push(i<n?null:rt);return t}(p,g),w="function"==typeof c?c():c;return y[ve]={type:n,blueprint:y,template:t,queries:null,viewQuery:a,declTNode:e,data:y.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:g,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:l,consts:w,incompleteFirstPass:!1,ssrId:h}}let yP=n=>null;function vP(n,e,t,i){for(let r in n)if(n.hasOwnProperty(r)){t=null===t?{}:t;const o=n[r];null===i?bP(t,e,r,o):i.hasOwnProperty(r)&&bP(t,e,i[r],o)}return t}function bP(n,e,t,i){n.hasOwnProperty(t)?n[t].push(e,i):n[t]=[e,i]}function so(n,e,t,i,r,o,s,a){const l=Wn(e,t);let h,c=e.inputs;!a&&null!=c&&(h=c[i])?(hI(n,t,h,i,r),Js(e)&&function fW(n,e){const t=Sr(e,n);16&t[Qe]||(t[Qe]|=64)}(t,e.index)):3&e.type&&(i=function hW(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(i),r=null!=s?s(r,e.value||"",i):r,o.setProperty(l,i,r))}function lI(n,e,t,i){if($u()){const r=null===i?null:{"":-1},o=function vW(n,e){const t=n.directiveRegistry;let i=null,r=null;if(t)for(let o=0;o<t.length;o++){const s=t[o];if(Tu(e,s.selectors,!1))if(i||(i=[]),Ao(s))if(null!==s.findHostDirectiveDefs){const a=[];r=r||new Map,s.findHostDirectiveDefs(s,a,r),i.unshift(...a,s),cI(n,e,a.length)}else i.unshift(s),cI(n,e,0);else r=r||new Map,s.findHostDirectiveDefs?.(s,i,r),i.push(s)}return null===i?null:[i,r]}(n,t);let s,a;null===o?s=a=null:[s,a]=o,null!==s&&EP(n,e,t,s,r,a),r&&function bW(n,e,t){if(e){const i=n.localNames=[];for(let r=0;r<e.length;r+=2){const o=t[e[r+1]];if(null==o)throw new V(-301,!1);i.push(e[r],o)}}}(t,i,r)}t.mergedAttrs=Na(t.mergedAttrs,t.attrs)}function EP(n,e,t,i,r,o){for(let c=0;c<i.length;c++)we(E(t,e),n,i[c].type);!function wW(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}(t,n.data.length,i.length);for(let c=0;c<i.length;c++){const h=i[c];h.providersResolver&&h.providersResolver(h)}let s=!1,a=!1,l=yp(n,e,i.length,null);for(let c=0;c<i.length;c++){const h=i[c];t.mergedAttrs=Na(t.mergedAttrs,h.hostAttrs),IW(n,t,e,l,h),EW(l,h,r),null!==h.contentQueries&&(t.flags|=4),(null!==h.hostBindings||null!==h.hostAttrs||0!==h.hostVars)&&(t.flags|=64);const p=h.type.prototype;!s&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),s=!0),!a&&(p.ngOnChanges||p.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),a=!0),l++}!function dW(n,e,t){const r=e.directiveEnd,o=n.data,s=e.attrs,a=[];let l=null,c=null;for(let h=e.directiveStart;h<r;h++){const p=o[h],g=t?t.get(p):null,w=g?g.outputs:null;l=vP(p.inputs,h,l,g?g.inputs:null),c=vP(p.outputs,h,c,w);const x=null===l||null===s||xu(e)?null:TW(l,h,s);a.push(x)}null!==l&&(l.hasOwnProperty("class")&&(e.flags|=8),l.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=l,e.outputs=c}(n,t,o)}function wP(n,e,t){const i=t.directiveStart,r=t.directiveEnd,o=t.index,s=function GE(){return $e.lFrame.currentDirectiveIndex}();try{Go(o);for(let a=i;a<r;a++){const l=n.data[a],c=e[a];Gf(a),(null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs)&&yW(l,c)}}finally{Go(-1),Gf(s)}}function yW(n,e){null!==n.hostBindings&&n.hostBindings(1,e)}function cI(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function EW(n,e,t){if(t){if(e.exportAs)for(let i=0;i<e.exportAs.length;i++)t[e.exportAs[i]]=n;Ao(e)&&(t[""]=n)}}function IW(n,e,t,i,r){n.data[i]=r;const o=r.factory||(r.factory=ja(r.type)),s=new ra(o,Ao(r),T);n.blueprint[i]=s,t[i]=s,function mW(n,e,t,i,r){const o=r.hostBindings;if(o){let s=n.hostBindingOpCodes;null===s&&(s=n.hostBindingOpCodes=[]);const a=~e.index;(function gW(n){let e=n.length;for(;e>0;){const t=n[--e];if("number"==typeof t&&t<0)return t}return 0})(s)!=a&&s.push(a),s.push(t,i,o)}}(n,e,i,yp(n,t,r.hostVars,rt),r)}function bs(n,e,t,i,r,o){const s=Wn(n,e);!function uI(n,e,t,i,r,o,s){if(null==o)n.removeAttribute(e,r,t);else{const a=null==s?Te(o):s(o,i||"",r);n.setAttribute(e,r,a,t)}}(e[Xe],s,o,n.value,t,i,r)}function CW(n,e,t,i,r,o){const s=o[e];if(null!==s)for(let a=0;a<s.length;)IP(i,t,s[a++],s[a++],s[a++])}function IP(n,e,t,i,r){const o=jt(null);try{const s=n.inputTransforms;null!==s&&s.hasOwnProperty(i)&&(r=s[i].call(e,r)),null!==n.setInput?n.setInput(e,r,t,i):e[i]=r}finally{jt(o)}}function TW(n,e,t){let i=null,r=0;for(;r<t.length;){const o=t[r];if(0!==o)if(5!==o){if("number"==typeof o)break;if(n.hasOwnProperty(o)){null===i&&(i=[]);const s=n[o];for(let a=0;a<s.length;a+=2)if(s[a]===e){i.push(o,s[a+1],t[r+1]);break}}r+=2}else r+=2;else r+=4}return i}function xP(n,e,t,i){return[n,!0,!1,e,null,0,i,t,null,null,null]}function CP(n,e){const t=n.contentQueries;if(null!==t)for(let i=0;i<t.length;i+=2){const o=t[i+1];if(-1!==o){const s=n.data[o];Zf(t[i]),s.contentQueries(2,e[o],o)}}}function Cy(n,e){return n[Ys]?n[s_][io]=e:n[Ys]=e,n[s_]=e,e}function dI(n,e,t){Zf(0);const i=jt(null);try{e(n,t)}finally{jt(i)}}function TP(n){return n[La]||(n[La]=[])}function DP(n){return n.cleanup||(n.cleanup=[])}function AP(n,e,t){return(null===n||Ao(n))&&(t=function ic(n){for(;Array.isArray(n);){if("object"==typeof n[Ru])return n;n=n[hn]}return null}(t[e.index])),t[Xe]}function SP(n,e){const t=n[ds],i=t?t.get(Oo,null):null;i&&i.handleError(e)}function hI(n,e,t,i,r){for(let o=0;o<t.length;){const s=t[o++],a=t[o++];IP(n.data[s],e[s],i,a,r)}}function DW(n,e){const t=Sr(e,n),i=t[ve];!function AW(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}(i,t);const r=t[hn];null!==r&&null===t[Wo]&&(t[Wo]=Ww(r,t[ds])),fI(i,t,t[Tn])}function fI(n,e,t){qa(e);try{const i=n.viewQuery;null!==i&&dI(1,i,t);const r=n.template;null!==r&&gP(n,e,r,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&CP(n,e),n.staticViewQueries&&dI(2,n.viewQuery,t);const o=n.components;null!==o&&function SW(n,e){for(let t=0;t<e.length;t++)DW(n,e[t])}(e,o)}catch(i){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),i}finally{e[Qe]&=-5,Kf()}}let MP=(()=>{class n{constructor(){this.all=new Set,this.queue=new Map}create(t,i,r){const o=typeof Zone>"u"?null:Zone.current,s=function NE(n,e,t){const i=Object.create(FE);t&&(i.consumerAllowSignalWrites=!0),i.fn=n,i.schedule=e;const r=s=>{i.cleanupFn=s};return i.ref={notify:()=>g_(i),run:()=>{if(i.dirty=!1,i.hasRun&&!Xl(i))return;i.hasRun=!0;const s=Fu(i);try{i.cleanupFn(),i.cleanupFn=w_,i.fn(r)}finally{Of(i,s)}},cleanup:()=>i.cleanupFn()},i.ref}(t,c=>{this.all.has(c)&&this.queue.set(c,o)},r);let a;this.all.add(s),s.notify();const l=()=>{s.cleanup(),a?.(),this.all.delete(s),this.queue.delete(s)};return a=i?.onDestroy(l),{destroy:l}}flush(){if(0!==this.queue.size)for(const[t,i]of this.queue)this.queue.delete(t),i?i.run(()=>t.run()):t.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=ce({token:n,providedIn:"root",factory:()=>new n})}return n})();function Ty(n,e,t){let i=t?n.styles:null,r=t?n.classes:null,o=0;if(null!==e)for(let s=0;s<e.length;s++){const a=e[s];"number"==typeof a?o=a:1==o?r=di(r,a):2==o&&(i=di(i,a+": "+e[++s]+";"))}t?n.styles=i:n.stylesWithoutHost=i,t?n.classes=r:n.classesWithoutHost=r}function vp(n,e,t,i,r=!1){for(;null!==t;){const o=e[t.index];null!==o&&i.push(on(o)),bi(o)&&RP(o,i);const s=t.type;if(8&s)vp(n,e,t.child,i);else if(32&s){const a=mw(t,e);let l;for(;l=a();)i.push(l)}else if(16&s){const a=mR(e,t);if(Array.isArray(a))i.push(...a);else{const l=lp(e[Un]);vp(l[ve],l,a,i,!0)}}t=r?t.projectionNext:t.next}return i}function RP(n,e){for(let t=Mi;t<n.length;t++){const i=n[t],r=i[ve].firstChild;null!==r&&vp(i[ve],i,r,e)}n[Do]!==n[hn]&&e.push(n[Do])}function Dy(n,e,t,i=!0){const r=e[hs],o=r.rendererFactory,s=r.afterRenderEventManager;o.begin?.(),s?.begin();try{PP(n,e,n.template,t)}catch(l){throw i&&SP(e,l),l}finally{o.end?.(),r.effectManager?.flush(),s?.end()}}function PP(n,e,t,i){const r=e[Qe];if(256!=(256&r)){e[hs].effectManager?.flush(),qa(e);try{ju(e),function qf(n){return $e.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==t&&gP(n,e,t,2,i);const s=3==(3&r);if(s){const c=n.preOrderCheckHooks;null!==c&&Ga(e,c,null)}else{const c=n.preOrderHooks;null!==c&&Za(e,c,0,null),Qf(e,0)}if(function PW(n){for(let e=iR(n);null!==e;e=rR(e)){if(!e[a_])continue;const t=e[Ua];for(let i=0;i<t.length;i++){jE(t[i])}}}(e),kP(e,2),null!==n.contentQueries&&CP(n,e),s){const c=n.contentCheckHooks;null!==c&&Ga(e,c)}else{const c=n.contentHooks;null!==c&&Za(e,c,1),Qf(e,1)}!function iW(n,e){const t=n.hostBindingOpCodes;if(null===t)return;const i=dP(e,Xs);try{for(let r=0;r<t.length;r++){const o=t[r];if(o<0)Go(~o);else{const s=o,a=t[++r],l=t[++r];qE(a,s),i.dirty=!1;const c=Fu(i);try{l(2,e[s])}finally{Of(i,c)}}}}finally{null===e[Xs]&&hP(e,Xs),Go(-1)}}(n,e);const a=n.components;null!==a&&NP(e,a,0);const l=n.viewQuery;if(null!==l&&dI(2,l,i),s){const c=n.viewCheckHooks;null!==c&&Ga(e,c)}else{const c=n.viewHooks;null!==c&&Za(e,c,2),Qf(e,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),e[Qe]&=-73,zu(e)}finally{Kf()}}}function kP(n,e){for(let t=iR(n);null!==t;t=rR(t))for(let i=Mi;i<t.length;i++)OP(t[i],e)}function kW(n,e,t){OP(Sr(e,n),t)}function OP(n,e){if(!function D_(n){return 128==(128&n[Qe])}(n))return;const t=n[ve],i=n[Qe];if(80&i&&0===e||1024&i||2===e)PP(t,n,t.template,n[Tn]);else if(n[Ks]>0){kP(n,1);const r=t.components;null!==r&&NP(n,r,1)}}function NP(n,e,t){for(let i=0;i<e.length;i++)kW(n,e[i],t)}class bp{get rootNodes(){const e=this._lView,t=e[ve];return vp(t,e,t.firstChild,[])}constructor(e,t){this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Tn]}set context(e){this._lView[Tn]=e}get destroyed(){return 256==(256&this._lView[Qe])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[fn];if(bi(e)){const t=e[8],i=t?t.indexOf(this):-1;i>-1&&(ry(e,i),Z_(t,i))}this._attachedToViewContainer=!1}_w(this._lView[ve],this._lView)}onDestroy(e){!function Hu(n,e){if(256==(256&n[Qe]))throw new V(911,!1);null===n[ps]&&(n[ps]=[]),n[ps].push(e)}(this._lView,e)}markForCheck(){_p(this._cdRefInjectingView||this._lView)}detach(){this._lView[Qe]&=-129}reattach(){this._lView[Qe]|=128}detectChanges(){Dy(this._lView[ve],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new V(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function v3(n,e){up(n,e,e[Xe],2,null,null)}(this._lView[ve],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new V(902,!1);this._appRef=e}}class OW extends bp{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;Dy(e[ve],e,e[Tn],!1)}checkNoChanges(){}get context(){return null}}class FP extends pc{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=bt(e);return new Ep(t,this.ngModule)}}function LP(n){const e=[];for(let t in n)n.hasOwnProperty(t)&&e.push({propName:n[t],templateName:t});return e}class FW{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,i){i=bu(i);const r=this.injector.get(e,Kw,i);return r!==Kw||t===Kw?r:this.parentInjector.get(e,t,i)}}class Ep extends $R{get inputs(){const e=this.componentDef,t=e.inputTransforms,i=LP(e.inputs);if(null!==t)for(const r of i)t.hasOwnProperty(r.propName)&&(r.transform=t[r.propName]);return i}get outputs(){return LP(this.componentDef.outputs)}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=function r_(n){return n.map(If).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}create(e,t,i,r){let o=(r=r||this.ngModule)instanceof ko?r:r?.injector;o&&null!==this.componentDef.getStandaloneInjector&&(o=this.componentDef.getStandaloneInjector(o)||o);const s=o?new FW(e,o):e,a=s.get(gp,null);if(null===a)throw new V(407,!1);const p={rendererFactory:a,sanitizer:s.get(k5,null),effectManager:s.get(MP,null),afterRenderEventManager:s.get(nI,null)},g=a.createRenderer(null,this.componentDef),y=this.componentDef.selectors[0][0]||"div",w=i?function oW(n,e,t,i){const o=i.get(aP,!1)||t===jr.ShadowDom,s=n.selectRootElement(e,o);return function sW(n){yP(n)}(s),s}(g,i,this.componentDef.encapsulation,s):iy(g,y,function NW(n){const e=n.toLowerCase();return"svg"===e?nc:"math"===e?"math":null}(y)),L=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let R=null;null!==w&&(R=Ww(w,s,!0));const z=aI(0,null,null,1,0,null,null,null,null,null,null),Q=xy(null,z,null,L,null,null,p,g,s,null,R);let ue,Pe;qa(Q);try{const Je=this.componentDef;let ln,Ur=null;Je.findHostDirectiveDefs?(ln=[],Ur=new Map,Je.findHostDirectiveDefs(Je,ln,Ur),ln.push(Je)):ln=[Je];const Yr=function VW(n,e){const t=n[ve],i=yt;return n[i]=e,vd(t,i,2,"#host",null)}(Q,w),pE=function BW(n,e,t,i,r,o,s){const a=r[ve];!function UW(n,e,t,i){for(const r of n)e.mergedAttrs=Na(e.mergedAttrs,r.hostAttrs);null!==e.mergedAttrs&&(Ty(e,e.mergedAttrs,!0),null!==t&&vR(i,t,e))}(i,n,e,s);let l=null;null!==e&&(l=Ww(e,r[ds]));const c=o.rendererFactory.createRenderer(e,t);let h=16;t.signals?h=4096:t.onPush&&(h=64);const p=xy(r,_P(t),null,h,r[n.index],n,o,c,null,null,l);return a.firstCreatePass&&cI(a,n,i.length-1),Cy(r,p),r[n.index]=p}(Yr,w,Je,ln,Q,p,g);Pe=T_(z,yt),w&&function zW(n,e,t,i){if(i)gf(n,t,["ng-version",Zw.full]);else{const{attrs:r,classes:o}=function xf(n){const e=[],t=[];let i=1,r=2;for(;i<n.length;){let o=n[i];if("string"==typeof o)2===r?""!==o&&e.push(o,n[++i]):8===r&&t.push(o);else{if(!Dr(r))break;r=o}i++}return{attrs:e,classes:t}}(e.selectors[0]);r&&gf(n,t,r),o&&o.length>0&&yR(n,t,o.join(" "))}}(g,Je,w,i),void 0!==t&&function HW(n,e,t){const i=n.projection=[];for(let r=0;r<e.length;r++){const o=t[r];i.push(null!=o?Array.from(o):null)}}(Pe,this.ngContentSelectors,t),ue=function jW(n,e,t,i,r,o){const s=Ei(),a=r[ve],l=Wn(s,r);EP(a,r,s,t,null,i);for(let h=0;h<t.length;h++)sr(ys(r,a,s.directiveStart+h,s),r);wP(a,r,s),l&&sr(l,r);const c=ys(r,a,s.directiveStart+s.componentOffset,s);if(n[Tn]=r[Tn]=c,null!==o)for(const h of o)h(c,e);return rI(a,s,n),c}(pE,Je,ln,Ur,Q,[$W]),fI(z,Q,null)}finally{Kf()}return new LW(this.componentType,ue,gd(Pe,Q),Q,Pe)}}class LW extends D5{constructor(e,t,i,r,o){super(),this.location=i,this._rootLView=r,this._tNode=o,this.previousInputValues=null,this.instance=t,this.hostView=this.changeDetectorRef=new OW(r),this.componentType=e}setInput(e,t){const i=this._tNode.inputs;let r;if(null!==i&&(r=i[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;const o=this._rootLView;hI(o[ve],o,r,e,t),this.previousInputValues.set(e,t),_p(Sr(this._tNode.index,o))}}get injector(){return new Pi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function $W(){const n=Ei();Zu(te()[ve],n)}function Le(n){let e=function VP(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),t=!0;const i=[n];for(;e;){let r;if(Ao(n))r=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new V(903,!1);r=e.\u0275dir}if(r){if(t){i.push(r);const s=n;s.inputs=Ay(n.inputs),s.inputTransforms=Ay(n.inputTransforms),s.declaredInputs=Ay(n.declaredInputs),s.outputs=Ay(n.outputs);const a=r.hostBindings;a&&ZW(n,a);const l=r.viewQuery,c=r.contentQueries;if(l&&qW(n,l),c&&GW(n,c),Kt(n.inputs,r.inputs),Kt(n.declaredInputs,r.declaredInputs),Kt(n.outputs,r.outputs),null!==r.inputTransforms&&(null===s.inputTransforms&&(s.inputTransforms={}),Kt(s.inputTransforms,r.inputTransforms)),Ao(r)&&r.data.animation){const h=n.data;h.animation=(h.animation||[]).concat(r.data.animation)}}const o=r.features;if(o)for(let s=0;s<o.length;s++){const a=o[s];a&&a.ngInherit&&a(n),a===Le&&(t=!1)}}e=Object.getPrototypeOf(e)}!function WW(n){let e=0,t=null;for(let i=n.length-1;i>=0;i--){const r=n[i];r.hostVars=e+=r.hostVars,r.hostAttrs=Na(r.hostAttrs,t=Na(t,r.hostAttrs))}}(i)}function Ay(n){return n===Co?{}:n===Nt?[]:n}function qW(n,e){const t=n.viewQuery;n.viewQuery=t?(i,r)=>{e(i,r),t(i,r)}:e}function GW(n,e){const t=n.contentQueries;n.contentQueries=t?(i,r,o)=>{e(i,r,o),t(i,r,o)}:e}function ZW(n,e){const t=n.hostBindings;n.hostBindings=t?(i,r)=>{e(i,r),t(i,r)}:e}function zP(n){const e=n.inputConfig,t={};for(const i in e)if(e.hasOwnProperty(i)){const r=e[i];Array.isArray(r)&&r[2]&&(t[i]=r[2])}n.inputTransforms=t}function Sy(n){return!!pI(n)&&(Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n)}function pI(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function Es(n,e,t){return n[e]=t}function lr(n,e,t){return!Object.is(n[e],t)&&(n[e]=t,!0)}function Xt(n,e,t,i){const r=te();return lr(r,ia(),e)&&(Rt(),bs(Dn(),r,n,e,t,i)),Xt}function Ed(n,e,t,i){return lr(n,ia(),t)?e+Te(t)+i:rt}function xt(n,e,t,i,r,o,s,a){const l=te(),c=Rt(),h=n+yt,p=c.firstCreatePass?function vq(n,e,t,i,r,o,s,a,l){const c=e.consts,h=vd(e,n,4,s||null,gs(c,a));lI(e,t,h,gs(c,l)),Zu(e,h);const p=h.tView=aI(2,h,i,r,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c,null);return null!==e.queries&&(e.queries.template(e,h),p.queries=e.queries.embeddedTView(h)),h}(h,c,l,e,t,i,r,o,s):c.data[h];Mo(p,!1);const g=tk(c,l,p,n);Gu()&&sy(c,l,g,p),sr(g,l),Cy(l,l[h]=xP(g,l,g,p)),Mf(p)&&oI(c,l,p),null!=s&&sI(l,p,a)}let tk=function nk(n,e,t,i){return _s(!0),e[Xe].createComment("")};function gc(n){return function Ha(n,e){return n[e]}(function Wf(){return $e.lFrame.contextLView}(),yt+n)}function Ve(n,e,t){const i=te();return lr(i,ia(),e)&&so(Rt(),Dn(),i,n,e,i[Xe],t,!1),Ve}function bI(n,e,t,i,r){const s=r?"class":"style";hI(n,t,e.inputs[s],s,i)}function pe(n,e,t,i){const r=te(),o=Rt(),s=yt+n,a=r[Xe],l=o.firstCreatePass?function Iq(n,e,t,i,r,o){const s=e.consts,l=vd(e,n,2,i,gs(s,r));return lI(e,t,l,gs(s,o)),null!==l.attrs&&Ty(l,l.attrs,!1),null!==l.mergedAttrs&&Ty(l,l.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,l),l}(s,o,r,e,t,i):o.data[s],c=ik(o,r,l,a,e,n);r[s]=c;const h=Mf(l);return Mo(l,!0),vR(a,c,l),32!=(32&l.flags)&&Gu()&&sy(o,r,c,l),0===function zE(){return $e.lFrame.elementDepthCount}()&&sr(c,r),function Hf(){$e.lFrame.elementDepthCount++}(),h&&(oI(o,r,l),rI(o,l,r)),null!==i&&sI(r,l),pe}function ye(){let n=Ei();rc()?oc():(n=n.parent,Mo(n,!1));const e=n;(function S_(n){return $e.skipHydrationRootTNode===n})(e)&&function $E(){$e.skipHydrationRootTNode=null}(),function $f(){$e.lFrame.elementDepthCount--}();const t=Rt();return t.firstCreatePass&&(Zu(t,n),Sf(n)&&t.queries.elementEnd(n)),null!=e.classesWithoutHost&&function Yu(n){return 0!=(8&n.flags)}(e)&&bI(t,e,te(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function W_(n){return 0!=(16&n.flags)}(e)&&bI(t,e,te(),e.stylesWithoutHost,!1),ye}function Lt(n,e,t,i){return pe(n,e,t,i),ye(),Lt}let ik=(n,e,t,i,r,o)=>(_s(!0),iy(i,r,function Yf(){return $e.lFrame.currentNamespace}()));function el(){return te()}function Tp(n){return!!n&&"function"==typeof n.then}function sk(n){return!!n&&"function"==typeof n.subscribe}function Ct(n,e,t,i){const r=te(),o=Rt(),s=Ei();return ak(o,r,r[Xe],s,n,e,i),Ct}function II(n,e){const t=Ei(),i=te(),r=Rt();return ak(r,i,AP(sc(r.data),t,i),t,n,e),II}function ak(n,e,t,i,r,o,s){const a=Mf(i),c=n.firstCreatePass&&DP(n),h=e[Tn],p=TP(e);let g=!0;if(3&i.type||s){const x=Wn(i,e),S=s?s(x):x,L=p.length,R=s?Q=>s(on(Q[i.index])):i.index;let z=null;if(!s&&a&&(z=function Sq(n,e,t,i){const r=n.cleanup;if(null!=r)for(let o=0;o<r.length-1;o+=2){const s=r[o];if(s===t&&r[o+1]===i){const a=e[La],l=r[o+2];return a.length>l?a[l]:null}"string"==typeof s&&(o+=2)}return null}(n,e,r,i.index)),null!==z)(z.__ngLastListenerFn__||z).__ngNextListenerFn__=o,z.__ngLastListenerFn__=o,g=!1;else{o=ck(i,e,h,o,!1);const Q=t.listen(S,r,o);p.push(o,Q),c&&c.push(r,R,L,L+1)}}else o=ck(i,e,h,o,!1);const y=i.outputs;let w;if(g&&null!==y&&(w=y[r])){const x=w.length;if(x)for(let S=0;S<x;S+=2){const ue=e[w[S]][w[S+1]].subscribe(o),Pe=p.length;p.push(o,ue),c&&c.push(r,i.index,Pe,-(Pe+1))}}}function lk(n,e,t,i){try{return Hr(6,e,t),!1!==t(i)}catch(r){return SP(n,r),!1}finally{Hr(7,e,t)}}function ck(n,e,t,i,r){return function o(s){if(s===Function)return i;_p(n.componentOffset>-1?Sr(n.index,e):e);let l=lk(e,t,i,s),c=o.__ngNextListenerFn__;for(;c;)l=lk(e,t,c,s)&&l,c=c.__ngNextListenerFn__;return r&&!1===l&&s.preventDefault(),l}}function Jt(n=1){return function ZE(n){return($e.lFrame.contextLView=function KE(n,e){for(;n>0;)e=e[fs],n--;return e}(n,$e.lFrame.contextLView))[Tn]}(n)}function Mq(n,e){let t=null;const i=function i_(n){const e=n.attrs;if(null!=e){const t=e.indexOf(5);if(!(1&t))return e[t+1]}return null}(n);for(let r=0;r<e.length;r++){const o=e[r];if("*"!==o){if(null===i?Tu(n,o,!0):Ef(i,o))return r}else t=r}return t}function Mr(n){const e=te()[Un][Si];if(!e.projection){const i=e.projection=rp(n?n.length:1,null),r=i.slice();let o=e.child;for(;null!==o;){const s=n?Mq(o,n):0;null!==s&&(r[s]?r[s].projectionNext=o:i[s]=o,r[s]=o),o=o.next}}}function zt(n,e=0,t){const i=te(),r=Rt(),o=vd(r,yt+n,16,null,t||null);null===o.projection&&(o.projection=e),oc(),(!i[Wo]||Wa())&&32!=(32&o.flags)&&function D3(n,e,t){_R(e[Xe],0,e,t,vw(n,t,e),dR(t.parent||e[Si],t,e))}(r,i,o)}function xI(n,e,t){return CI(n,"",e,"",t),xI}function CI(n,e,t,i,r){const o=te(),s=Ed(o,e,t,i);return s!==rt&&so(Rt(),Dn(),o,n,s,o[Xe],r,!1),CI}function Oy(n,e){return n<<17|e<<2}function tl(n){return n>>17&32767}function TI(n){return 2|n}function _c(n){return(131068&n)>>2}function DI(n,e){return-131069&n|e<<2}function AI(n){return 1|n}function yk(n,e,t,i,r){const o=n[t+1],s=null===e;let a=i?tl(o):_c(o),l=!1;for(;0!==a&&(!1===l||s);){const h=n[a+1];Fq(n[a],e)&&(l=!0,n[a+1]=i?AI(h):TI(h)),a=i?tl(h):_c(h)}l&&(n[t+1]=i?TI(o):AI(o))}function Fq(n,e){return null===n||null==e||(Array.isArray(n)?n[1]:n)===e||!(!Array.isArray(n)||"string"!=typeof e)&&sd(n,e)>=0}function SI(n,e,t){return Yo(n,e,t,!1),SI}function Ht(n,e){return Yo(n,e,null,!0),Ht}function Yo(n,e,t,i){const r=te(),o=Rt(),s=function qo(n){const e=$e.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}(2);o.firstUpdatePass&&function Tk(n,e,t,i){const r=n.data;if(null===r[t+1]){const o=r[Hi()],s=function Ck(n,e){return e>=n.expandoStartIndex}(n,t);(function Mk(n,e){return 0!=(n.flags&(e?8:16))})(o,i)&&null===e&&!s&&(e=!1),e=function Wq(n,e,t,i){const r=sc(n);let o=i?e.residualClasses:e.residualStyles;if(null===r)0===(i?e.classBindings:e.styleBindings)&&(t=Dp(t=MI(null,n,e,t,i),e.attrs,i),o=null);else{const s=e.directiveStylingLast;if(-1===s||n[s]!==r)if(t=MI(r,n,e,t,i),null===o){let l=function qq(n,e,t){const i=t?e.classBindings:e.styleBindings;if(0!==_c(i))return n[tl(i)]}(n,e,i);void 0!==l&&Array.isArray(l)&&(l=MI(null,n,e,l[1],i),l=Dp(l,e.attrs,i),function Gq(n,e,t,i){n[tl(t?e.classBindings:e.styleBindings)]=i}(n,e,i,l))}else o=function Zq(n,e,t){let i;const r=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<r;o++)i=Dp(i,n[o].hostAttrs,t);return Dp(i,e.attrs,t)}(n,e,i)}return void 0!==o&&(i?e.residualClasses=o:e.residualStyles=o),t}(r,o,e,i),function Oq(n,e,t,i,r,o){let s=o?e.classBindings:e.styleBindings,a=tl(s),l=_c(s);n[i]=t;let h,c=!1;if(Array.isArray(t)?(h=t[1],(null===h||sd(t,h)>0)&&(c=!0)):h=t,r)if(0!==l){const g=tl(n[a+1]);n[i+1]=Oy(g,a),0!==g&&(n[g+1]=DI(n[g+1],i)),n[a+1]=function Pq(n,e){return 131071&n|e<<17}(n[a+1],i)}else n[i+1]=Oy(a,0),0!==a&&(n[a+1]=DI(n[a+1],i)),a=i;else n[i+1]=Oy(l,0),0===a?a=i:n[l+1]=DI(n[l+1],i),l=i;c&&(n[i+1]=TI(n[i+1])),yk(n,h,i,!0),yk(n,h,i,!1),function Nq(n,e,t,i,r){const o=r?n.residualClasses:n.residualStyles;null!=o&&"string"==typeof e&&sd(o,e)>=0&&(t[i+1]=AI(t[i+1]))}(e,h,n,i,o),s=Oy(a,l),o?e.classBindings=s:e.styleBindings=s}(r,o,e,t,s,i)}}(o,n,s,i),e!==rt&&lr(r,s,e)&&function Ak(n,e,t,i,r,o,s,a){if(!(3&e.type))return;const l=n.data,c=l[a+1],h=function kq(n){return 1==(1&n)}(c)?Sk(l,e,t,r,_c(c),s):void 0;Ny(h)||(Ny(o)||function Rq(n){return 2==(2&n)}(c)&&(o=Sk(l,null,t,r,a,s)),function S3(n,e,t,i,r){if(e)r?n.addClass(t,i):n.removeClass(t,i);else{let o=-1===i.indexOf("-")?void 0:Xa.DashCase;null==r?n.removeStyle(t,i,o):("string"==typeof r&&r.endsWith("!important")&&(r=r.slice(0,-10),o|=Xa.Important),n.setStyle(t,i,r,o))}}(i,s,Uu(Hi(),t),r,o))}(o,o.data[Hi()],r,r[Xe],n,r[s+1]=function Xq(n,e){return null==n||""===n||("string"==typeof e?n+=e:"object"==typeof n&&(n=Re(oo(n)))),n}(e,t),i,s)}function MI(n,e,t,i,r){let o=null;const s=t.directiveEnd;let a=t.directiveStylingLast;for(-1===a?a=t.directiveStart:a++;a<s&&(o=e[a],i=Dp(i,o.hostAttrs,r),o!==n);)a++;return null!==n&&(t.directiveStylingLast=a),i}function Dp(n,e,t){const i=t?1:2;let r=-1;if(null!==e)for(let o=0;o<e.length;o++){const s=e[o];"number"==typeof s?r=s:r===i&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),ro(n,s,!!t||e[++o]))}return void 0===n?null:n}function Sk(n,e,t,i,r,o){const s=null===e;let a;for(;r>0;){const l=n[r],c=Array.isArray(l),h=c?l[1]:l,p=null===h;let g=t[r+1];g===rt&&(g=p?Nt:void 0);let y=p?sw(g,i):h===i?g:void 0;if(c&&!Ny(y)&&(y=sw(l,i)),Ny(y)&&(a=y,s))return a;const w=n[r+1];r=s?tl(w):_c(w)}if(null!==e){let l=o?e.residualClasses:e.residualStyles;null!=l&&(a=sw(l,i))}return a}function Ny(n){return void 0!==n}function Ot(n,e=""){const t=te(),i=Rt(),r=n+yt,o=i.firstCreatePass?vd(i,r,1,e,null):i.data[r],s=Rk(i,t,o,e,n);t[r]=s,Gu()&&sy(i,t,s,o),Mo(o,!1)}let Rk=(n,e,t,i,r)=>(_s(!0),function ny(n,e){return n.createText(e)}(e[Xe],i));function nl(n){return yc("",n,""),nl}function yc(n,e,t){const i=te(),r=Ed(i,n,e,t);return r!==rt&&function la(n,e,t){const i=Uu(e,n);!function sR(n,e,t){n.setValue(e,t)}(n[Xe],i,t)}(i,Hi(),r),yc}function Md(n,e,t){const i=te();return lr(i,ia(),e)&&so(Rt(),Dn(),i,n,e,i[Xe],t,!0),Md}function RI(n,e,t){const i=te();if(lr(i,ia(),e)){const o=Rt(),s=Dn();so(o,s,i,n,e,AP(sc(o.data),s,i),t,!0)}return RI}const Pd="en-US";let Qk=Pd;function OI(n,e,t,i,r){if(n=k(n),Array.isArray(n))for(let o=0;o<n.length;o++)OI(n[o],e,t,i,r);else{const o=Rt(),s=te(),a=Ei();let l=fc(n)?n:k(n.provide);const c=BR(n),h=1048575&a.providerIndexes,p=a.directiveStart,g=a.providerIndexes>>20;if(fc(n)||!n.multi){const y=new ra(c,r,T),w=FI(l,e,r?h:h+g,p);-1===w?(we(E(a,s),o,l),NI(o,n,e.length),e.push(l),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),t.push(y),s.push(y)):(t[w]=y,s[w]=y)}else{const y=FI(l,e,h+g,p),w=FI(l,e,h,h+g),S=w>=0&&t[w];if(r&&!S||!r&&!(y>=0&&t[y])){we(E(a,s),o,l);const L=function v6(n,e,t,i,r){const o=new ra(n,t,T);return o.multi=[],o.index=e,o.componentProviders=0,I1(o,r,i&&!t),o}(r?y6:_6,t.length,r,i,c);!r&&S&&(t[w].providerFactory=L),NI(o,n,e.length,0),e.push(l),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),t.push(L),s.push(L)}else NI(o,n,y>-1?y:w,I1(t[r?w:y],c,!r&&i));!r&&i&&S&&t[w].componentProviders++}}}function NI(n,e,t,i){const r=fc(e),o=function u5(n){return!!n.useClass}(e);if(r||o){const l=(o?k(e.useClass):e).prototype.ngOnDestroy;if(l){const c=n.destroyHooks||(n.destroyHooks=[]);if(!r&&e.multi){const h=c.indexOf(t);-1===h?c.push(t,[i,l]):c[h+1].push(i,l)}else c.push(t,l)}}}function I1(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function FI(n,e,t,i){for(let r=t;r<i;r++)if(e[r]===n)return r;return-1}function _6(n,e,t,i){return LI(this.multi,[])}function y6(n,e,t,i){const r=this.multi;let o;if(this.providerFactory){const s=this.providerFactory.componentProviders,a=ys(t,t[ve],this.providerFactory.index,i);o=a.slice(0,s),LI(r,o);for(let l=s;l<a.length;l++)o.push(a[l])}else o=[],LI(r,o);return o}function LI(n,e){for(let t=0;t<n.length;t++)e.push((0,n[t])());return e}function Wt(n,e=[]){return t=>{t.providersResolver=(i,r)=>function g6(n,e,t){const i=Rt();if(i.firstCreatePass){const r=Ao(n);OI(t,i.data,i.blueprint,r,!0),OI(e,i.data,i.blueprint,r,!1)}}(i,r?r(n):n,e)}}class bc{}class x1{}class VI extends bc{constructor(e,t,i){super(),this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new FP(this);const r=Ui(e);this._bootstrapComponents=aa(r.bootstrap),this._r3Injector=YR(e,t,[{provide:bc,useValue:this},{provide:pc,useValue:this.componentFactoryResolver},...i],Re(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class BI extends x1{constructor(e){super(),this.moduleType=e}create(e){return new VI(this.moduleType,e,[])}}class C1 extends bc{constructor(e){super(),this.componentFactoryResolver=new FP(this),this.instance=null;const t=new hd([...e.providers,{provide:bc,useValue:this},{provide:pc,useValue:this.componentFactoryResolver}],e.parent||py(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function UI(n,e,t=null){return new C1({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}let w6=(()=>{class n{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){const i=NR(0,t.type),r=i.length>0?UI([i],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,r)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(const t of this.cachedInjectors.values())null!==t&&t.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=ce({token:n,providedIn:"environment",factory:()=>new n(O(ko))})}return n})();function T1(n){n.getStandaloneInjector=e=>e.get(w6).getOrCreateStandaloneInjector(n)}function k1(n,e,t,i){return function N1(n,e,t,i,r,o){const s=e+t;return lr(n,s,r)?Es(n,s+1,o?i.call(o,r):i(r)):kp(n,s+1)}(te(),zi(),n,e,t,i)}function O1(n,e,t,i,r){return function F1(n,e,t,i,r,o,s){const a=e+t;return function mc(n,e,t,i){const r=lr(n,e,t);return lr(n,e+1,i)||r}(n,a,r,o)?Es(n,a+2,s?i.call(s,r,o):i(r,o)):kp(n,a+2)}(te(),zi(),n,e,t,i,r)}function kp(n,e){const t=n[e];return t===rt?void 0:t}function q6(){return this._results[Symbol.iterator]()}class Ec{static#e=Symbol.iterator;get changes(){return this._changes||(this._changes=new lt)}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const t=Ec.prototype;t[Symbol.iterator]||(t[Symbol.iterator]=q6)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){const i=this;i.dirty=!1;const r=function Po(n){return n.flat(Number.POSITIVE_INFINITY)}(e);(this._changesDetected=!function R4(n,e,t){if(n.length!==e.length)return!1;for(let i=0;i<n.length;i++){let r=n[i],o=e[i];if(t&&(r=t(r),o=t(o)),o!==r)return!1}return!0}(i._results,r,t))&&(i._results=r,i.length=r.length,i.last=r[this.length-1],i.first=r[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function Z6(n,e,t,i=!0){const r=e[ve];if(function E3(n,e,t,i){const r=Mi+i,o=t.length;i>0&&(t[r-1][io]=e),i<o-Mi?(e[io]=t[r],FM(t,Mi+i,e)):(t.push(e),e[io]=null),e[fn]=t;const s=e[Qs];null!==s&&t!==s&&function w3(n,e){const t=n[Ua];e[Un]!==e[fn][fn][Un]&&(n[a_]=!0),null===t?n[Ua]=[e]:t.push(e)}(s,e);const a=e[zr];null!==a&&a.insertView(n),e[Qe]|=128}(r,e,n,t),i){const o=Ew(t,n),s=e[Xe],a=oy(s,n[Do]);null!==a&&function y3(n,e,t,i,r,o){i[hn]=r,i[Si]=e,up(n,i,t,1,r,o)}(r,n[Si],s,e,a,o)}}let qi=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=Q6}return n})();const K6=qi,Y6=class extends K6{constructor(e,t,i){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,t){return this.createEmbeddedViewImpl(e,t)}createEmbeddedViewImpl(e,t,i){const r=function G6(n,e,t,i){const r=e.tView,a=xy(n,r,t,4096&n[Qe]?4096:16,null,e,null,null,null,i?.injector??null,i?.hydrationInfo??null);a[Qs]=n[e.index];const c=n[zr];return null!==c&&(a[zr]=c.createEmbeddedView(r)),fI(r,a,t),a}(this._declarationLView,this._declarationTContainer,e,{injector:t,hydrationInfo:i});return new bp(r)}};function Q6(){return Uy(Ei(),te())}function Uy(n,e){return 4&n.type?new Y6(e,n,gd(n,e)):null}let Gi=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=iG}return n})();function iG(){return q1(Ei(),te())}const rG=Gi,$1=class extends rG{constructor(e,t,i){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=i}get element(){return gd(this._hostTNode,this._hostLView)}get injector(){return new Pi(this._hostTNode,this._hostLView)}get parentInjector(){const e=ie(this._hostTNode,this._hostLView);if(Xf(e)){const t=cc(e,this._hostLView),i=lc(e);return new Pi(t[ve].data[i+8],t)}return new Pi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=W1(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-Mi}createEmbeddedView(e,t,i){let r,o;"number"==typeof i?r=i:null!=i&&(r=i.index,o=i.injector);const a=e.createEmbeddedViewImpl(t||{},o,null);return this.insertImpl(a,r,false),a}createComponent(e,t,i,r,o){const s=e&&!function ip(n){return"function"==typeof n}(e);let a;if(s)a=t;else{const x=t||{};a=x.index,i=x.injector,r=x.projectableNodes,o=x.environmentInjector||x.ngModuleRef}const l=s?e:new Ep(bt(e)),c=i||this.parentInjector;if(!o&&null==l.ngModule){const S=(s?c:this.parentInjector).get(ko,null);S&&(o=S)}bt(l.componentType??{});const y=l.create(c,r,null,o);return this.insertImpl(y.hostView,a,false),y}insert(e,t){return this.insertImpl(e,t,!1)}insertImpl(e,t,i){const r=e._lView;if(function UE(n){return bi(n[fn])}(r)){const l=this.indexOf(e);if(-1!==l)this.detach(l);else{const c=r[fn],h=new $1(c,c[Si],c[fn]);h.detach(h.indexOf(e))}}const s=this._adjustIndex(t),a=this._lContainer;return Z6(a,r,s,!i),e.attachToViewContainerRef(),FM(zI(a),s,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=W1(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),i=ry(this._lContainer,t);i&&(Z_(zI(this._lContainer),t),_w(i[ve],i))}detach(e){const t=this._adjustIndex(e,-1),i=ry(this._lContainer,t);return i&&null!=Z_(zI(this._lContainer),t)?new bp(i):null}_adjustIndex(e,t=0){return e??this.length+t}};function W1(n){return n[8]}function zI(n){return n[8]||(n[8]=[])}function q1(n,e){let t;const i=e[n.index];return bi(i)?t=i:(t=xP(i,e,null,n),e[n.index]=t,Cy(e,t)),G1(t,e,n,i),new $1(t,n,e)}let G1=function Z1(n,e,t,i){if(n[Do])return;let r;r=8&t.type?on(i):function oG(n,e){const t=n[Xe],i=t.createComment(""),r=Wn(e,n);return dc(t,oy(t,r),i,function T3(n,e){return n.nextSibling(e)}(t,r),!1),i}(e,t),n[Do]=r};class HI{constructor(e){this.queryList=e,this.matches=null}clone(){return new HI(this.queryList)}setDirty(){this.queryList.setDirty()}}class $I{constructor(e=[]){this.queries=e}createEmbeddedView(e){const t=e.queries;if(null!==t){const i=null!==e.contentQueries?e.contentQueries[0]:t.length,r=[];for(let o=0;o<i;o++){const s=t.getByIndex(o);r.push(this.queries[s.indexInDeclarationView].clone())}return new $I(r)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)null!==J1(e,t).matches&&this.queries[t].setDirty()}}class K1{constructor(e,t,i=null){this.predicate=e,this.flags=t,this.read=i}}class WI{constructor(e=[]){this.queries=e}elementStart(e,t){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let i=0;i<this.length;i++){const r=null!==t?t.length:0,o=this.getByIndex(i).embeddedTView(e,r);o&&(o.indexInDeclarationView=i,null!==t?t.push(o):t=[o])}return null!==t?new WI(t):null}template(e,t){for(let i=0;i<this.queries.length;i++)this.queries[i].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class qI{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new qI(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const t=this._declarationNodeIndex;let i=e.parent;for(;null!==i&&8&i.type&&i.index!==t;)i=i.parent;return t===(null!==i?i.index:-1)}return this._appliesToNextNode}matchTNode(e,t){const i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){const o=i[r];this.matchTNodeWithReadOption(e,t,lG(t,o)),this.matchTNodeWithReadOption(e,t,Ya(t,e,o,!1,!1))}else i===qi?4&t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,Ya(t,e,i,!1,!1))}matchTNodeWithReadOption(e,t,i){if(null!==i){const r=this.metadata.read;if(null!==r)if(r===Ye||r===Gi||r===qi&&4&t.type)this.addMatch(t.index,-2);else{const o=Ya(t,e,r,!1,!1);null!==o&&this.addMatch(t.index,o)}else this.addMatch(t.index,i)}}addMatch(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}function lG(n,e){const t=n.localNames;if(null!==t)for(let i=0;i<t.length;i+=2)if(t[i]===e)return t[i+1];return null}function uG(n,e,t,i){return-1===t?function cG(n,e){return 11&n.type?gd(n,e):4&n.type?Uy(n,e):null}(e,n):-2===t?function dG(n,e,t){return t===Ye?gd(e,n):t===qi?Uy(e,n):t===Gi?q1(e,n):void 0}(n,e,i):ys(n,n[ve],t,e)}function Y1(n,e,t,i){const r=e[zr].queries[i];if(null===r.matches){const o=n.data,s=t.matches,a=[];for(let l=0;l<s.length;l+=2){const c=s[l];a.push(c<0?null:uG(e,o[c],s[l+1],t.metadata.read))}r.matches=a}return r.matches}function GI(n,e,t,i){const r=n.queries.getByIndex(t),o=r.matches;if(null!==o){const s=Y1(n,e,r,t);for(let a=0;a<o.length;a+=2){const l=o[a];if(l>0)i.push(s[a/2]);else{const c=o[a+1],h=e[-l];for(let p=Mi;p<h.length;p++){const g=h[p];g[Qs]===g[fn]&&GI(g[ve],g,c,i)}if(null!==h[Ua]){const p=h[Ua];for(let g=0;g<p.length;g++){const y=p[g];GI(y[ve],y,c,i)}}}}}return i}function Tt(n){const e=te(),t=Rt(),i=O_();Zf(i+1);const r=J1(t,i);if(n.dirty&&function jf(n){return 4==(4&n[Qe])}(e)===(2==(2&r.metadata.flags))){if(null===r.matches)n.reset([]);else{const o=r.crossesNgTemplate?GI(t,e,i,[]):Y1(t,e,r,i);n.reset(o,R5),n.notifyOnChanges()}return!0}return!1}function ii(n,e,t){const i=Rt();i.firstCreatePass&&(X1(i,new K1(n,e,t),-1),2==(2&e)&&(i.staticViewQueries=!0)),Q1(i,te(),e)}function Zi(n,e,t,i){const r=Rt();if(r.firstCreatePass){const o=Ei();X1(r,new K1(e,t,i),o.index),function fG(n,e){const t=n.contentQueries||(n.contentQueries=[]);e!==(t.length?t[t.length-1]:-1)&&t.push(n.queries.length-1,e)}(r,n),2==(2&t)&&(r.staticContentQueries=!0)}Q1(r,te(),t)}function Dt(){return function hG(n,e){return n[zr].queries[e].queryList}(te(),O_())}function Q1(n,e,t){const i=new Ec(4==(4&t));(function cW(n,e,t,i){const r=TP(e);r.push(t),n.firstCreatePass&&DP(n).push(i,r.length-1)})(n,e,i,i.destroy),null===e[zr]&&(e[zr]=new $I),e[zr].queries.push(new HI(i))}function X1(n,e,t){null===n.queries&&(n.queries=new WI),n.queries.track(new qI(e,t))}function J1(n,e){return n.queries.getByIndex(e)}function ZI(n,e){return Uy(n,e)}const ex=new G("Application Initializer");let tx=(()=>{class n{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,i)=>{this.resolve=t,this.reject=i}),this.appInits=he(ex,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const t=[];for(const r of this.appInits){const o=r();if(Tp(o))t.push(o);else if(sk(o)){const s=new Promise((a,l)=>{o.subscribe({complete:a,error:l})});t.push(s)}}const i=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{i()}).catch(r=>{this.reject(r)}),0===t.length&&i(),this.initialized=!0}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),gO=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();const xs=new G("LocaleId",{providedIn:"root",factory:()=>he(xs,ht.Optional|ht.SkipSelf)||function OG(){return typeof $localize<"u"&&$localize.locale||Pd}()});let _O=(()=>{class n{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new v(!1)}add(){this.hasPendingTasks.next(!0);const t=this.taskId++;return this.pendingTasks.add(t),t}remove(t){this.pendingTasks.delete(t),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class LG{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}let yO=(()=>{class n{compileModuleSync(t){return new BI(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){const i=this.compileModuleSync(t),o=aa(Ui(t).declarations).reduce((s,a)=>{const l=bt(a);return l&&s.push(new Ep(l)),s},[]);return new LG(i,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const wO=new G(""),$y=new G("");let sx,rx=(()=>{class n{constructor(t,i,r){this._ngZone=t,this.registry=i,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,sx||(function o9(n){sx=n}(r),r.addToWindow(i)),this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ce.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(t)||(clearTimeout(i.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,i,r){let o=-1;i&&i>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==o),t(this._didWork,this.getPendingTasks())},i)),this._callbacks.push({doneCb:t,timeoutId:o,updateCb:r})}whenStable(t,i,r){if(r&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,i,r),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,i,r){return[]}static#e=this.\u0275fac=function(i){return new(i||n)(O(Ce),O(ox),O($y))};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac})}return n})(),ox=(()=>{class n{constructor(){this._applications=new Map}registerApplication(t,i){this._applications.set(t,i)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,i=!0){return sx?.findTestabilityInTree(this,t,i)??null}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})(),il=null;const IO=new G("AllowMultipleToken"),ax=new G("PlatformDestroyListeners"),lx=new G("appBootstrapListener");class CO{constructor(e,t){this.name=e,this.token=t}}function DO(n,e,t=[]){const i=`Platform: ${e}`,r=new G(i);return(o=[])=>{let s=cx();if(!s||s.injector.get(IO,!1)){const a=[...t,...o,{provide:r,useValue:!0}];n?n(a):function l9(n){if(il&&!il.get(IO,!1))throw new V(400,!1);(function xO(){!function RE(n){ME=n}(()=>{throw new V(600,!1)})})(),il=n;const e=n.get(SO);(function TO(n){n.get(UR,null)?.forEach(t=>t())})(n)}(function AO(n=[],e){return pn.create({name:e,providers:[{provide:kw,useValue:"platform"},{provide:ax,useValue:new Set([()=>il=null])},...n]})}(a,i))}return function u9(n){const e=cx();if(!e)throw new V(401,!1);return e}()}}function cx(){return il?.get(SO)??null}let SO=(()=>{class n{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,i){const r=function d9(n="zone.js",e){return"noop"===n?new W5:"zone.js"===n?new Ce(e):n}(i?.ngZone,function MO(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}({eventCoalescing:i?.ngZoneEventCoalescing,runCoalescing:i?.ngZoneRunCoalescing}));return r.run(()=>{const o=function E6(n,e,t){return new VI(n,e,t)}(t.moduleType,this.injector,function NO(n){return[{provide:Ce,useFactory:n},{provide:fp,multi:!0,useFactory:()=>{const e=he(f9,{optional:!0});return()=>e.initialize()}},{provide:OO,useFactory:h9},{provide:tP,useFactory:nP}]}(()=>r)),s=o.injector.get(Oo,null);return r.runOutsideAngular(()=>{const a=r.onError.subscribe({next:l=>{s.handleError(l)}});o.onDestroy(()=>{Wy(this._modules,o),a.unsubscribe()})}),function RO(n,e,t){try{const i=t();return Tp(i)?i.catch(r=>{throw e.runOutsideAngular(()=>n.handleError(r)),r}):i}catch(i){throw e.runOutsideAngular(()=>n.handleError(i)),i}}(s,r,()=>{const a=o.injector.get(tx);return a.runInitializers(),a.donePromise.then(()=>(function Xk(n){Di(n,"Expected localeId to be defined"),"string"==typeof n&&(Qk=n.toLowerCase().replace(/_/g,"-"))}(o.injector.get(xs,Pd)||Pd),this._moduleDoBootstrap(o),o))})})}bootstrapModule(t,i=[]){const r=PO({},i);return function s9(n,e,t){const i=new BI(t);return Promise.resolve(i)}(0,0,t).then(o=>this.bootstrapModuleFactory(o,r))}_moduleDoBootstrap(t){const i=t.injector.get(rl);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(r=>i.bootstrap(r));else{if(!t.instance.ngDoBootstrap)throw new V(-403,!1);t.instance.ngDoBootstrap(i)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new V(404,!1);this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());const t=this._injector.get(ax,null);t&&(t.forEach(i=>i()),t.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(i){return new(i||n)(O(pn))};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();function PO(n,e){return Array.isArray(e)?e.reduce(PO,n):{...n,...e}}let rl=(()=>{class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=he(OO),this.zoneIsStable=he(tP),this.componentTypes=[],this.components=[],this.isStable=he(_O).hasPendingTasks.pipe(Ee(t=>t?A(!1):this.zoneIsStable),Ue(),Z()),this._injector=he(ko)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(t,i){const r=t instanceof $R;if(!this._injector.get(tx).done)throw!r&&function Fa(n){const e=bt(n)||yi(n)||vi(n);return null!==e&&e.standalone}(t),new V(405,!1);let s;s=r?t:this._injector.get(pc).resolveComponentFactory(t),this.componentTypes.push(s.componentType);const a=function a9(n){return n.isBoundToModule}(s)?void 0:this._injector.get(bc),c=s.create(pn.NULL,[],i||s.selector,a),h=c.location.nativeElement,p=c.injector.get(wO,null);return p?.registerApplication(h),c.onDestroy(()=>{this.detachView(c.hostView),Wy(this.components,c),p?.unregisterApplication(h)}),this._loadComponent(c),c}tick(){if(this._runningTick)throw new V(101,!1);try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this.internalErrorHandler(t)}finally{this._runningTick=!1}}attachView(t){const i=t;this._views.push(i),i.attachToAppRef(this)}detachView(t){const i=t;Wy(this._views,i),i.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);const i=this._injector.get(lx,[]);i.push(...this._bootstrapListeners),i.forEach(r=>r(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>Wy(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new V(406,!1);const t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Wy(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const OO=new G("",{providedIn:"root",factory:()=>he(Oo).handleError.bind(void 0)});function h9(){const n=he(Ce),e=he(Oo);return t=>n.runOutsideAngular(()=>e.handleError(t))}let f9=(()=>{class n{constructor(){this.zone=he(Ce),this.applicationRef=he(rl)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();let Ki=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=m9}return n})();function m9(n){return function g9(n,e,t){if(Js(n)&&!t){const i=Sr(n.index,e);return new bp(i,i)}return 47&n.type?new bp(e[Un],e):null}(Ei(),te(),16==(16&n))}class UO{constructor(){}supports(e){return Sy(e)}create(e){return new w9(e)}}const E9=(n,e)=>e;class w9{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||E9}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,i=this._removalsHead,r=0,o=null;for(;t||i;){const s=!i||t&&t.currentIndex<zO(i,r,o)?t:i,a=zO(s,r,o),l=s.currentIndex;if(s===i)r--,i=i._nextRemoved;else if(t=t._next,null==s.previousIndex)r++;else{o||(o=[]);const c=a-r,h=l-r;if(c!=h){for(let g=0;g<c;g++){const y=g<o.length?o[g]:o[g]=0,w=y+g;h<=w&&w<c&&(o[g]=y+1)}o[s.previousIndex]=h-c}}a!==l&&e(s,a,l)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!Sy(e))throw new V(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let r,o,s,t=this._itHead,i=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),null!==t&&Object.is(t.trackById,s)?(i&&(t=this._verifyReinsertion(t,o,s,a)),Object.is(t.item,o)||this._addIdentityChange(t,o)):(t=this._mismatch(t,o,s,a),i=!0),t=t._next}else r=0,function tq(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{const t=n[Symbol.iterator]();let i;for(;!(i=t.next()).done;)e(i.value)}}(e,a=>{s=this._trackByFn(r,a),null!==t&&Object.is(t.trackById,s)?(i&&(t=this._verifyReinsertion(t,a,s,r)),Object.is(t.item,a)||this._addIdentityChange(t,a)):(t=this._mismatch(t,a,s,r),i=!0),t=t._next,r++}),this.length=r;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,i,r){let o;return null===e?o=this._itTail:(o=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,o,r)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(i,r))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,o,r)):e=this._addAfter(new I9(t,i),o,r),e}_verifyReinsertion(e,t,i,r){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null);return null!==o?e=this._reinsertAfter(o,e._prev,r):e.currentIndex!=r&&(e.currentIndex=r,this._addToMoves(e,r)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,i){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const r=e._prevRemoved,o=e._nextRemoved;return null===r?this._removalsHead=o:r._nextRemoved=o,null===o?this._removalsTail=r:o._prevRemoved=r,this._insertAfter(e,t,i),this._addToMoves(e,i),e}_moveAfter(e,t,i){return this._unlink(e),this._insertAfter(e,t,i),this._addToMoves(e,i),e}_addAfter(e,t,i){return this._insertAfter(e,t,i),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,i){const r=null===t?this._itHead:t._next;return e._next=r,e._prev=t,null===r?this._itTail=e:r._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new jO),this._linkedRecords.put(e),e.currentIndex=i,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,i=e._next;return null===t?this._itHead=i:t._next=i,null===i?this._itTail=t:i._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new jO),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class I9{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class x9{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let i;for(i=this._head;null!==i;i=i._nextDup)if((null===t||t<=i.currentIndex)&&Object.is(i.trackById,e))return i;return null}remove(e){const t=e._prevDup,i=e._nextDup;return null===t?this._head=i:t._nextDup=i,null===i?this._tail=t:i._prevDup=t,null===this._head}}class jO{constructor(){this.map=new Map}put(e){const t=e.trackById;let i=this.map.get(t);i||(i=new x9,this.map.set(t,i)),i.add(e)}get(e,t){const r=this.map.get(e);return r?r.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function zO(n,e,t){const i=n.previousIndex;if(null===i)return i;let r=0;return t&&i<t.length&&(r=t[i]),i+e+r}class HO{constructor(){}supports(e){return e instanceof Map||pI(e)}create(){return new C9}}class C9{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let t;for(t=this._mapHead;null!==t;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}diff(e){if(e){if(!(e instanceof Map||pI(e)))throw new V(900,!1)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(i,r)=>{if(t&&t.key===r)this._maybeAddToChanges(t,i),this._appendAfter=t,t=t._next;else{const o=this._getOrCreateRecordForKey(r,i);t=this._insertBeforeOrAppend(t,o)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let i=t;null!==i;i=i._nextRemoved)i===this._mapHead&&(this._mapHead=null),this._records.delete(i.key),i._nextRemoved=i._next,i.previousValue=i.currentValue,i.currentValue=null,i._prev=null,i._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){const i=e._prev;return t._next=e,t._prev=i,e._prev=t,i&&(i._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){const r=this._records.get(e);this._maybeAddToChanges(r,t);const o=r._prev,s=r._next;return o&&(o._next=s),s&&(s._prev=o),r._next=null,r._prev=null,r}const i=new T9(e);return this._records.set(e,i),i.currentValue=t,this._addToAdditions(i),i}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(i=>t(e[i],i))}}class T9{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function $O(){return new Zy([new UO])}let Zy=(()=>{class n{static#e=this.\u0275prov=ce({token:n,providedIn:"root",factory:$O});constructor(t){this.factories=t}static create(t,i){if(null!=i){const r=i.factories.slice();t=t.concat(r)}return new n(t)}static extend(t){return{provide:n,useFactory:i=>n.create(t,i||$O()),deps:[[n,new op,new or]]}}find(t){const i=this.factories.find(r=>r.supports(t));if(null!=i)return i;throw new V(901,!1)}}return n})();function WO(){return new Lp([new HO])}let Lp=(()=>{class n{static#e=this.\u0275prov=ce({token:n,providedIn:"root",factory:WO});constructor(t){this.factories=t}static create(t,i){if(i){const r=i.factories.slice();t=t.concat(r)}return new n(t)}static extend(t){return{provide:n,useFactory:i=>n.create(t,i||WO()),deps:[[n,new op,new or]]}}find(t){const i=this.factories.find(r=>r.supports(t));if(i)return i;throw new V(901,!1)}}return n})();const S9=DO(null,"core",[]);let M9=(()=>{class n{constructor(t){}static#e=this.\u0275fac=function(i){return new(i||n)(O(rl))};static#t=this.\u0275mod=at({type:n});static#n=this.\u0275inj=mt({})}return n})();function Nd(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}let mx=null;function ol(){return mx}class $9{}const nt=new G("DocumentToken");let gx=(()=>{class n{historyGo(t){throw new Error("Not implemented")}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ce({token:n,factory:function(){return he(q9)},providedIn:"platform"})}return n})();const W9=new G("Location Initialized");let q9=(()=>{class n extends gx{constructor(){super(),this._doc=he(nt),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return ol().getBaseHref(this._doc)}onPopState(t){const i=ol().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",t,!1),()=>i.removeEventListener("popstate",t)}onHashChange(t){const i=ol().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",t,!1),()=>i.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,i,r){this._history.pushState(t,i,r)}replaceState(t,i,r){this._history.replaceState(t,i,r)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ce({token:n,factory:function(){return new n},providedIn:"platform"})}return n})();function _x(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function eN(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function ca(n){return n&&"?"!==n[0]?"?"+n:n}let Ic=(()=>{class n{historyGo(t){throw new Error("Not implemented")}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ce({token:n,factory:function(){return he(nN)},providedIn:"root"})}return n})();const tN=new G("appBaseHref");let nN=(()=>{class n extends Ic{constructor(t,i){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??he(nt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return _x(this._baseHref,t)}path(t=!1){const i=this._platformLocation.pathname+ca(this._platformLocation.search),r=this._platformLocation.hash;return r&&t?`${i}${r}`:i}pushState(t,i,r,o){const s=this.prepareExternalUrl(r+ca(o));this._platformLocation.pushState(t,i,s)}replaceState(t,i,r,o){const s=this.prepareExternalUrl(r+ca(o));this._platformLocation.replaceState(t,i,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static#e=this.\u0275fac=function(i){return new(i||n)(O(gx),O(tN,8))};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),G9=(()=>{class n extends Ic{constructor(t,i){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(t){const i=_x(this._baseHref,t);return i.length>0?"#"+i:i}pushState(t,i,r,o){let s=this.prepareExternalUrl(r+ca(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.pushState(t,i,s)}replaceState(t,i,r,o){let s=this.prepareExternalUrl(r+ca(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(t,i,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static#e=this.\u0275fac=function(i){return new(i||n)(O(gx),O(tN,8))};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac})}return n})(),Vp=(()=>{class n{constructor(t){this._subject=new lt,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const i=this._locationStrategy.getBaseHref();this._basePath=function Y9(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(eN(iN(i))),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,i=""){return this.path()==this.normalize(t+ca(i))}normalize(t){return n.stripTrailingSlash(function K9(n,e){if(!n||!e.startsWith(n))return e;const t=e.substring(n.length);return""===t||["/",";","?","#"].includes(t[0])?t:e}(this._basePath,iN(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,i="",r=null){this._locationStrategy.pushState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+ca(i)),r)}replaceState(t,i="",r=null){this._locationStrategy.replaceState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+ca(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",i){this._urlChangeListeners.forEach(r=>r(t,i))}subscribe(t,i,r){return this._subject.subscribe({next:t,error:i,complete:r})}static#e=this.normalizeQueryParams=ca;static#t=this.joinWithSlash=_x;static#n=this.stripTrailingSlash=eN;static#i=this.\u0275fac=function(i){return new(i||n)(O(Ic))};static#r=this.\u0275prov=ce({token:n,factory:function(){return function Z9(){return new Vp(O(Ic))}()},providedIn:"root"})}return n})();function iN(n){return n.replace(/\/index.html$/,"")}const Dx=/\s+/,hN=[];let Ax=(()=>{class n{constructor(t,i,r,o){this._iterableDiffers=t,this._keyValueDiffers=i,this._ngEl=r,this._renderer=o,this.initialClasses=hN,this.stateMap=new Map}set klass(t){this.initialClasses=null!=t?t.trim().split(Dx):hN}set ngClass(t){this.rawClass="string"==typeof t?t.trim().split(Dx):t}ngDoCheck(){for(const i of this.initialClasses)this._updateState(i,!0);const t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(const i of t)this._updateState(i,!0);else if(null!=t)for(const i of Object.keys(t))this._updateState(i,!!t[i]);this._applyStateDiff()}_updateState(t,i){const r=this.stateMap.get(t);void 0!==r?(r.enabled!==i&&(r.changed=!0,r.enabled=i),r.touched=!0):this.stateMap.set(t,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(const t of this.stateMap){const i=t[0],r=t[1];r.changed?(this._toggleClass(i,r.enabled),r.changed=!1):r.touched||(r.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),r.touched=!1}}_toggleClass(t,i){(t=t.trim()).length>0&&t.split(Dx).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}static#e=this.\u0275fac=function(i){return new(i||n)(T(Zy),T(Lp),T(Ye),T(sa))};static#t=this.\u0275dir=le({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0})}return n})();class F7{constructor(e,t,i,r){this.$implicit=e,this.ngForOf=t,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Sx=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,i,r){this._viewContainer=t,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const i=this._viewContainer;t.forEachOperation((r,o,s)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new F7(r.item,this._ngForOf,-1,-1),null===s?void 0:s);else if(null==s)i.remove(null===o?void 0:o);else if(null!==o){const a=i.get(o);i.move(a,s),pN(a,r)}});for(let r=0,o=i.length;r<o;r++){const a=i.get(r).context;a.index=r,a.count=o,a.ngForOf=this._ngForOf}t.forEachIdentityChange(r=>{pN(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(t,i){return!0}static#e=this.\u0275fac=function(i){return new(i||n)(T(Gi),T(qi),T(Zy))};static#t=this.\u0275dir=le({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return n})();function pN(n,e){n.context.$implicit=e.item}let xc=(()=>{class n{constructor(t,i){this._viewContainer=t,this._context=new L7,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){mN("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){mN("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,i){return!0}static#e=this.\u0275fac=function(i){return new(i||n)(T(Gi),T(qi))};static#t=this.\u0275dir=le({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return n})();class L7{constructor(){this.$implicit=null,this.ngIf=null}}function mN(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${Re(e)}'.`)}class Mx{constructor(e,t){this._viewContainerRef=e,this._templateRef=t,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}}let sv=(()=>{class n{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews.push(t)}_matchCase(t){const i=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||i,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),i}_updateDefaultCases(t){if(this._defaultViews.length>0&&t!==this._defaultUsed){this._defaultUsed=t;for(const i of this._defaultViews)i.enforceState(t)}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=le({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0})}return n})(),gN=(()=>{class n{constructor(t,i,r){this.ngSwitch=r,r._addCase(),this._view=new Mx(t,i)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}static#e=this.\u0275fac=function(i){return new(i||n)(T(Gi),T(qi),T(sv,9))};static#t=this.\u0275dir=le({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0})}return n})(),yN=(()=>{class n{constructor(t){this._viewContainerRef=t,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(t){if(t.ngTemplateOutlet||t.ngTemplateOutletInjector){const i=this._viewContainerRef;if(this._viewRef&&i.remove(i.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:r,ngTemplateOutletContext:o,ngTemplateOutletInjector:s}=this;this._viewRef=i.createEmbeddedView(r,o,s?{injector:s}:void 0)}else this._viewRef=null}else this._viewRef&&t.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}static#e=this.\u0275fac=function(i){return new(i||n)(T(Gi))};static#t=this.\u0275dir=le({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[ji]})}return n})(),Ld=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=at({type:n});static#n=this.\u0275inj=mt({})}return n})();const bN="browser";function av(n){return"server"===n}let fZ=(()=>{class n{static#e=this.\u0275prov=ce({token:n,providedIn:"root",factory:()=>new pZ(O(nt),window)})}return n})();class pZ{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function mZ(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&"function"==typeof n.body.attachShadow){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const o=r.shadowRoot;if(o){const s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}r=i.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){this.supportsScrolling()&&(this.window.history.scrollRestoration=e)}scrollToElement(e){const t=e.getBoundingClientRect(),i=t.left+this.window.pageXOffset,r=t.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(i-o[0],r-o[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class BZ extends $9{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Nx extends BZ{static makeCurrent(){!function H9(n){mx||(mx=n)}(new Nx)}onAndCancel(e,t,i){return e.addEventListener(t,i),()=>{e.removeEventListener(t,i)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function UZ(){return zp=zp||document.querySelector("base"),zp?zp.getAttribute("href"):null}();return null==t?null:function jZ(n){uv=uv||document.createElement("a"),uv.setAttribute("href",n);const e=uv.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){zp=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function O7(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const i=t.indexOf("="),[r,o]=-1==i?[t,""]:[t.slice(0,i),t.slice(i+1)];if(r.trim()===e)return decodeURIComponent(o)}return null}(document.cookie,e)}}let uv,zp=null,HZ=(()=>{class n{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac})}return n})();const Fx=new G("EventManagerPlugins");let CN=(()=>{class n{constructor(t,i){this._zone=i,this._eventNameToPlugin=new Map,t.forEach(r=>{r.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,i,r){return this._findPluginFor(i).addEventListener(t,i,r)}getZone(){return this._zone}_findPluginFor(t){let i=this._eventNameToPlugin.get(t);if(i)return i;if(i=this._plugins.find(o=>o.supports(t)),!i)throw new V(5101,!1);return this._eventNameToPlugin.set(t,i),i}static#e=this.\u0275fac=function(i){return new(i||n)(O(Fx),O(Ce))};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac})}return n})();class TN{constructor(e){this._doc=e}}const Lx="ng-app-id";let DN=(()=>{class n{constructor(t,i,r,o={}){this.doc=t,this.appId=i,this.nonce=r,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=av(o),this.resetHostNodes()}addStyles(t){for(const i of t)1===this.changeUsageCount(i,1)&&this.onStyleAdded(i)}removeStyles(t){for(const i of t)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){const t=this.styleNodesInDOM;t&&(t.forEach(i=>i.remove()),t.clear());for(const i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const i of this.getAllStyles())this.addStyleToHost(t,i)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(const i of this.hostNodes)this.addStyleToHost(i,t)}onStyleRemoved(t){const i=this.styleRef;i.get(t)?.elements?.forEach(r=>r.remove()),i.delete(t)}collectServerRenderedStyles(){const t=this.doc.head?.querySelectorAll(`style[${Lx}="${this.appId}"]`);if(t?.length){const i=new Map;return t.forEach(r=>{null!=r.textContent&&i.set(r.textContent,r)}),i}return null}changeUsageCount(t,i){const r=this.styleRef;if(r.has(t)){const o=r.get(t);return o.usage+=i,o.usage}return r.set(t,{usage:i,elements:[]}),i}getStyleElement(t,i){const r=this.styleNodesInDOM,o=r?.get(i);if(o?.parentNode===t)return r.delete(i),o.removeAttribute(Lx),o;{const s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=i,this.platformIsServer&&s.setAttribute(Lx,this.appId),s}}addStyleToHost(t,i){const r=this.getStyleElement(t,i);t.appendChild(r);const o=this.styleRef,s=o.get(i)?.elements;s?s.push(r):o.set(i,{elements:[r],usage:1})}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}static#e=this.\u0275fac=function(i){return new(i||n)(O(nt),O(my),O(Lw,8),O(Ko))};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac})}return n})();const Vx={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Bx=/%COMP%/g,GZ=new G("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function SN(n,e){return e.map(t=>t.replace(Bx,n))}let Ux=(()=>{class n{constructor(t,i,r,o,s,a,l,c=null){this.eventManager=t,this.sharedStylesHost=i,this.appId=r,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=l,this.nonce=c,this.rendererByCompId=new Map,this.platformIsServer=av(a),this.defaultRenderer=new jx(t,s,l,this.platformIsServer)}createRenderer(t,i){if(!t||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===jr.ShadowDom&&(i={...i,encapsulation:jr.Emulated});const r=this.getOrCreateRenderer(t,i);return r instanceof RN?r.applyToHost(t):r instanceof zx&&r.applyStyles(),r}getOrCreateRenderer(t,i){const r=this.rendererByCompId;let o=r.get(i.id);if(!o){const s=this.doc,a=this.ngZone,l=this.eventManager,c=this.sharedStylesHost,h=this.removeStylesOnCompDestroy,p=this.platformIsServer;switch(i.encapsulation){case jr.Emulated:o=new RN(l,c,i,this.appId,h,s,a,p);break;case jr.ShadowDom:return new QZ(l,c,t,i,s,a,this.nonce,p);default:o=new zx(l,c,i,h,s,a,p)}r.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(i){return new(i||n)(O(CN),O(DN),O(my),O(GZ),O(nt),O(Ko),O(Ce),O(Lw))};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac})}return n})();class jx{constructor(e,t,i,r){this.eventManager=e,this.doc=t,this.ngZone=i,this.platformIsServer=r,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS(Vx[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(MN(e)?e.content:e).appendChild(t)}insertBefore(e,t,i){e&&(MN(e)?e.content:e).insertBefore(t,i)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let i="string"==typeof e?this.doc.querySelector(e):e;if(!i)throw new V(-5104,!1);return t||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,i,r){if(r){t=r+":"+t;const o=Vx[r];o?e.setAttributeNS(o,t,i):e.setAttribute(t,i)}else e.setAttribute(t,i)}removeAttribute(e,t,i){if(i){const r=Vx[i];r?e.removeAttributeNS(r,t):e.removeAttribute(`${i}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,i,r){r&(Xa.DashCase|Xa.Important)?e.style.setProperty(t,i,r&Xa.Important?"important":""):e.style[t]=i}removeStyle(e,t,i){i&Xa.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,i){e[t]=i}setValue(e,t){e.nodeValue=t}listen(e,t,i){if("string"==typeof e&&!(e=ol().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(i))}decoratePreventDefault(e){return t=>{if("__ngUnwrap__"===t)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))&&t.preventDefault()}}}function MN(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class QZ extends jx{constructor(e,t,i,r,o,s,a,l){super(e,o,s,l),this.sharedStylesHost=t,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const c=SN(r.id,r.styles);for(const h of c){const p=document.createElement("style");a&&p.setAttribute("nonce",a),p.textContent=h,this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,i){return super.insertBefore(this.nodeOrShadowRoot(e),t,i)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class zx extends jx{constructor(e,t,i,r,o,s,a,l){super(e,o,s,a),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=r,this.styles=l?SN(l,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class RN extends zx{constructor(e,t,i,r,o,s,a,l){const c=r+"-"+i.id;super(e,t,i,o,s,a,l,c),this.contentAttr=function ZZ(n){return"_ngcontent-%COMP%".replace(Bx,n)}(c),this.hostAttr=function KZ(n){return"_nghost-%COMP%".replace(Bx,n)}(c)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){const i=super.createElement(e,t);return super.setAttribute(i,this.contentAttr,""),i}}let XZ=(()=>{class n extends TN{constructor(t){super(t)}supports(t){return!0}addEventListener(t,i,r){return t.addEventListener(i,r,!1),()=>this.removeEventListener(t,i,r)}removeEventListener(t,i,r){return t.removeEventListener(i,r)}static#e=this.\u0275fac=function(i){return new(i||n)(O(nt))};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac})}return n})();const PN=["alt","control","meta","shift"],JZ={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},eK={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let tK=(()=>{class n extends TN{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,i,r){const o=n.parseEventName(i),s=n.eventCallback(o.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>ol().onAndCancel(t,o.domEventName,s))}static parseEventName(t){const i=t.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const o=n._normalizeKey(i.pop());let s="",a=i.indexOf("code");if(a>-1&&(i.splice(a,1),s="code."),PN.forEach(c=>{const h=i.indexOf(c);h>-1&&(i.splice(h,1),s+=c+".")}),s+=o,0!=i.length||0===o.length)return null;const l={};return l.domEventName=r,l.fullKey=s,l}static matchEventFullKeyCode(t,i){let r=JZ[t.key]||t.key,o="";return i.indexOf("code.")>-1&&(r=t.code,o="code."),!(null==r||!r)&&(r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),PN.forEach(s=>{s!==r&&(0,eK[s])(t)&&(o+=s+".")}),o+=r,o===i)}static eventCallback(t,i,r){return o=>{n.matchEventFullKeyCode(o,t)&&r.runGuarded(()=>i(o))}}static _normalizeKey(t){return"esc"===t?"escape":t}static#e=this.\u0275fac=function(i){return new(i||n)(O(nt))};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac})}return n})();const ON=[{provide:Ko,useValue:bN},{provide:UR,useValue:function nK(){Nx.makeCurrent()},multi:!0},{provide:nt,useFactory:function rK(){return function O3(n){xw=n}(document),document},deps:[]}],oK=DO(S9,"browser",ON),sK=new G(""),NN=[{provide:$y,useClass:class zZ{addToWindow(e){Yt.getAngularTestability=(i,r=!0)=>{const o=e.findTestabilityInTree(i,r);if(null==o)throw new V(5103,!1);return o},Yt.getAllAngularTestabilities=()=>e.getAllTestabilities(),Yt.getAllAngularRootElements=()=>e.getAllRootElements(),Yt.frameworkStabilizers||(Yt.frameworkStabilizers=[]),Yt.frameworkStabilizers.push(i=>{const r=Yt.getAllAngularTestabilities();let o=r.length,s=!1;const a=function(l){s=s||l,o--,0==o&&i(s)};r.forEach(l=>{l.whenStable(a)})})}findTestabilityInTree(e,t,i){return null==t?null:e.getTestability(t)??(i?ol().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:wO,useClass:rx,deps:[Ce,ox,$y]},{provide:rx,useClass:rx,deps:[Ce,ox,$y]}],FN=[{provide:kw,useValue:"root"},{provide:Oo,useFactory:function iK(){return new Oo},deps:[]},{provide:Fx,useClass:XZ,multi:!0,deps:[nt,Ce,Ko]},{provide:Fx,useClass:tK,multi:!0,deps:[nt]},Ux,DN,CN,{provide:gp,useExisting:Ux},{provide:class gZ{},useClass:HZ,deps:[]},[]];let LN=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:my,useValue:t.appId}]}}static#e=this.\u0275fac=function(i){return new(i||n)(O(sK,12))};static#t=this.\u0275mod=at({type:n});static#n=this.\u0275inj=mt({providers:[...FN,...NN],imports:[Ld,M9]})}return n})(),VN=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static#e=this.\u0275fac=function(i){return new(i||n)(O(nt))};static#t=this.\u0275prov=ce({token:n,factory:function(i){let r=null;return r=i?new i:function lK(){return new VN(O(nt))}(),r},providedIn:"root"})}return n})();typeof window<"u"&&window;let Wx,$x=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ce({token:n,factory:function(i){let r=null;return r=i?new(i||n):O(jN),r},providedIn:"root"})}return n})(),jN=(()=>{class n extends $x{constructor(t){super(),this._doc=t}sanitize(t,i){if(null==i)return null;switch(t){case Wi.NONE:return i;case Wi.HTML:return vs(i,"HTML")?oo(i):SR(this._doc,String(i)).toString();case Wi.STYLE:return vs(i,"Style")?oo(i):i;case Wi.SCRIPT:if(vs(i,"Script"))return oo(i);throw new V(5200,!1);case Wi.URL:return vs(i,"URL")?oo(i):uy(String(i));case Wi.RESOURCE_URL:if(vs(i,"ResourceURL"))return oo(i);throw new V(5201,!1);default:throw new V(5202,!1)}}bypassSecurityTrustHtml(t){return function j3(n){return new N3(n)}(t)}bypassSecurityTrustStyle(t){return function z3(n){return new F3(n)}(t)}bypassSecurityTrustScript(t){return function H3(n){return new L3(n)}(t)}bypassSecurityTrustUrl(t){return function $3(n){return new V3(n)}(t)}bypassSecurityTrustResourceUrl(t){return function W3(n){return new B3(n)}(t)}static#e=this.\u0275fac=function(i){return new(i||n)(O(nt))};static#t=this.\u0275prov=ce({token:n,factory:function(i){let r=null;return r=i?new i:function hK(n){return new jN(n.get(nt))}(O(pn)),r},providedIn:"root"})}return n})();try{Wx=typeof Intl<"u"&&Intl.v8BreakIterator}catch{Wx=!1}let Vd,zn=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?function hZ(n){return n===bN}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!Wx)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static#e=this.\u0275fac=function(i){return new(i||n)(O(Ko))};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const HN=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function $N(){if(Vd)return Vd;if("object"!=typeof document||!document)return Vd=new Set(HN),Vd;let n=document.createElement("input");return Vd=new Set(HN.filter(e=>(n.setAttribute("type",e),n.type===e))),Vd}let Hp,Tc,qx;function Cc(n){return function fK(){if(null==Hp&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Hp=!0}))}finally{Hp=Hp||!1}return Hp}()?n:!!n.capture}function pK(){if(null==Tc){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Tc=!1,Tc;if("scrollBehavior"in document.documentElement.style)Tc=!0;else{const n=Element.prototype.scrollTo;Tc=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return Tc}function Gx(){let n=typeof document<"u"&&document?document.activeElement:null;for(;n&&n.shadowRoot;){const e=n.shadowRoot.activeElement;if(e===n)break;n=e}return n}function al(n){return n.composedPath?n.composedPath()[0]:n.target}function Zx(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}function $p(n,...e){return e.length?e.some(t=>n[t]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}function oi(n,e,t){const i=C(n)||e||t?{next:n,error:e,complete:t}:n;return i?X((r,o)=>{var s;null===(s=i.subscribe)||void 0===s||s.call(i);let a=!0;r.subscribe(fe(o,l=>{var c;null===(c=i.next)||void 0===c||c.call(i,l),o.next(l)},()=>{var l;a=!1,null===(l=i.complete)||void 0===l||l.call(i),o.complete()},l=>{var c;a=!1,null===(c=i.error)||void 0===c||c.call(i,l),o.error(l)},()=>{var l,c;a&&(null===(l=i.unsubscribe)||void 0===l||l.call(i)),null===(c=i.finalize)||void 0===c||c.call(i)}))}):Vn}class RK extends We{constructor(e,t){super()}schedule(e,t=0){return this}}const hv={setInterval(n,e,...t){const{delegate:i}=hv;return i?.setInterval?i.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){const{delegate:e}=hv;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};class fv extends RK{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var i;if(this.closed)return this;this.state=e;const r=this.id,o=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(o,r,t)),this.pending=!0,this.delay=t,this.id=null!==(i=this.id)&&void 0!==i?i:this.requestAsyncId(o,this.id,t),this}requestAsyncId(e,t,i=0){return hv.setInterval(e.flush.bind(e,this),i)}recycleAsyncId(e,t,i=0){if(null!=i&&this.delay===i&&!1===this.pending)return t;null!=t&&hv.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const i=this._execute(e,t);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r,i=!1;try{this.work(e)}catch(o){i=!0,r=o||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){const{id:e,scheduler:t}=this,{actions:i}=t;this.work=this.state=this.scheduler=null,this.pending=!1,Se(i,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}}const Xx={now:()=>(Xx.delegate||Date).now(),delegate:void 0};class Wp{constructor(e,t=Wp.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,i){return new this.schedulerActionCtor(this,e).schedule(i,t)}}Wp.now=Xx.now;class pv extends Wp{constructor(e,t=Wp.now){super(e,t),this.actions=[],this._active=!1}flush(e){const{actions:t}=this;if(this._active)return void t.push(e);let i;this._active=!0;do{if(i=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,i){for(;e=t.shift();)e.unsubscribe();throw i}}}const Bd=new pv(fv),PK=Bd;function Jx(n,e=Bd){return X((t,i)=>{let r=null,o=null,s=null;const a=()=>{if(r){r.unsubscribe(),r=null;const c=o;o=null,i.next(c)}};function l(){const c=s+n,h=e.now();if(h<c)return r=this.schedule(void 0,c-h),void i.add(r);a()}t.subscribe(fe(i,c=>{o=c,s=e.now(),r||(r=e.schedule(l,n),i.add(r))},()=>{a(),i.complete()},void 0,()=>{o=r=null}))})}function _n(n,e){return X((t,i)=>{let r=0;t.subscribe(fe(i,o=>n.call(e,o,r++)&&i.next(o)))})}function fi(n){return n<=0?()=>In:X((e,t)=>{let i=0;e.subscribe(fe(t,r=>{++i<=n&&(t.next(r),n<=i&&t.complete())}))})}function eC(n){return _n((e,t)=>n<=t)}function Yi(n){return X((e,t)=>{_t(n).subscribe(fe(t,()=>t.complete(),De)),!t.closed&&e.subscribe(t)})}function si(n){return null!=n&&"false"!=`${n}`}function Ud(n,e=0){return function kK(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):e}function mv(n){return Array.isArray(n)?n:[n]}function pi(n){return null==n?"":"string"==typeof n?n:`${n}px`}function ha(n){return n instanceof Ye?n.nativeElement:n}let KN=(()=>{class n{create(t){return typeof MutationObserver>"u"?null:new MutationObserver(t)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),OK=(()=>{class n{constructor(t){this._mutationObserverFactory=t,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((t,i)=>this._cleanupObserver(i))}observe(t){const i=ha(t);return new Ke(r=>{const s=this._observeElement(i).subscribe(r);return()=>{s.unsubscribe(),this._unobserveElement(i)}})}_observeElement(t){if(this._observedElements.has(t))this._observedElements.get(t).count++;else{const i=new F,r=this._mutationObserverFactory.create(o=>i.next(o));r&&r.observe(t,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(t,{observer:r,stream:i,count:1})}return this._observedElements.get(t).stream}_unobserveElement(t){this._observedElements.has(t)&&(this._observedElements.get(t).count--,this._observedElements.get(t).count||this._cleanupObserver(t))}_cleanupObserver(t){if(this._observedElements.has(t)){const{observer:i,stream:r}=this._observedElements.get(t);i&&i.disconnect(),r.complete(),this._observedElements.delete(t)}}static#e=this.\u0275fac=function(i){return new(i||n)(O(KN))};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),NK=(()=>{class n{get disabled(){return this._disabled}set disabled(t){this._disabled=si(t),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(t){this._debounce=Ud(t),this._subscribe()}constructor(t,i,r){this._contentObserver=t,this._elementRef=i,this._ngZone=r,this.event=new lt,this._disabled=!1,this._currentSubscription=null}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const t=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?t.pipe(Jx(this.debounce)):t).subscribe(this.event)})}_unsubscribe(){this._currentSubscription?.unsubscribe()}static#e=this.\u0275fac=function(i){return new(i||n)(T(OK),T(Ye),T(Ce))};static#t=this.\u0275dir=le({type:n,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]})}return n})(),tC=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=at({type:n});static#n=this.\u0275inj=mt({providers:[KN]})}return n})();const{isArray:FK}=Array,{getPrototypeOf:LK,prototype:VK,keys:BK}=Object;function YN(n){if(1===n.length){const e=n[0];if(FK(e))return{args:e,keys:null};if(function UK(n){return n&&"object"==typeof n&&LK(n)===VK}(e)){const t=BK(e);return{args:t.map(i=>e[i]),keys:t}}}return{args:n,keys:null}}const{isArray:jK}=Array;function nC(n){return de(e=>function zK(n,e){return jK(e)?n(...e):n(e)}(n,e))}function QN(n,e){return n.reduce((t,i,r)=>(t[i]=e[r],t),{})}function gv(...n){const e=no(n),t=Io(n),{args:i,keys:r}=YN(n);if(0===i.length)return b([],e);const o=new Ke(function HK(n,e,t=Vn){return i=>{XN(e,()=>{const{length:r}=n,o=new Array(r);let s=r,a=r;for(let l=0;l<r;l++)XN(e,()=>{const c=b(n[l],e);let h=!1;c.subscribe(fe(i,p=>{o[l]=p,h||(h=!0,a--),a||i.next(t(o.slice()))},()=>{--s||i.complete()}))},i)},i)}}(i,e,r?s=>QN(r,s):Vn));return t?o.pipe(nC(t)):o}function XN(n,e,t){n?br(t,n,e):e()}function qp(...n){return function $K(){return Er(1)}()(b(n,no(n)))}function lo(...n){const e=no(n);return X((t,i)=>{(e?qp(n,t,e):qp(n,t)).subscribe(i)})}const JN=new Set;let Dc,WK=(()=>{class n{constructor(t,i){this._platform=t,this._nonce=i,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):GK}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&function qK(n,e){if(!JN.has(n))try{Dc||(Dc=document.createElement("style"),e&&(Dc.nonce=e),Dc.setAttribute("type","text/css"),document.head.appendChild(Dc)),Dc.sheet&&(Dc.sheet.insertRule(`@media ${n} {body{ }}`,0),JN.add(n))}catch(t){console.error(t)}}(t,this._nonce),this._matchMedia(t)}static#e=this.\u0275fac=function(i){return new(i||n)(O(zn),O(Lw,8))};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function GK(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let iC=(()=>{class n{constructor(t,i){this._mediaMatcher=t,this._zone=i,this._queries=new Map,this._destroySubject=new F}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return eF(mv(t)).some(r=>this._registerQuery(r).mql.matches)}observe(t){let o=gv(eF(mv(t)).map(s=>this._registerQuery(s).observable));return o=qp(o.pipe(fi(1)),o.pipe(eC(1),Jx(0))),o.pipe(de(s=>{const a={matches:!1,breakpoints:{}};return s.forEach(({matches:l,query:c})=>{a.matches=a.matches||l,a.breakpoints[c]=l}),a}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);const i=this._mediaMatcher.matchMedia(t),o={observable:new Ke(s=>{const a=l=>this._zone.run(()=>s.next(l));return i.addListener(a),()=>{i.removeListener(a)}}).pipe(lo(i),de(({matches:s})=>({query:t,matches:s})),Yi(this._destroySubject)),mql:i};return this._queries.set(t,o),o}static#e=this.\u0275fac=function(i){return new(i||n)(O(WK),O(Ce))};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function eF(n){return n.map(e=>e.split(",")).reduce((e,t)=>e.concat(t)).map(e=>e.trim())}class QK{constructor(e){this._items=e,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new F,this._typeaheadSubscription=We.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._pageUpAndDown={enabled:!1,delta:10},this._skipPredicateFn=t=>t.disabled,this._pressedLetters=[],this.tabOut=new F,this.change=new F,e instanceof Ec&&(this._itemChangesSubscription=e.changes.subscribe(t=>{if(this._activeItem){const r=t.toArray().indexOf(this._activeItem);r>-1&&r!==this._activeItemIndex&&(this._activeItemIndex=r)}}))}skipPredicate(e){return this._skipPredicateFn=e,this}withWrap(e=!0){return this._wrap=e,this}withVerticalOrientation(e=!0){return this._vertical=e,this}withHorizontalOrientation(e){return this._horizontal=e,this}withAllowedModifierKeys(e){return this._allowedModifierKeys=e,this}withTypeAhead(e=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe(oi(t=>this._pressedLetters.push(t)),Jx(e),_n(()=>this._pressedLetters.length>0),de(()=>this._pressedLetters.join(""))).subscribe(t=>{const i=this._getItemsArray();for(let r=1;r<i.length+1;r++){const o=(this._activeItemIndex+r)%i.length,s=i[o];if(!this._skipPredicateFn(s)&&0===s.getLabel().toUpperCase().trim().indexOf(t)){this.setActiveItem(o);break}}this._pressedLetters=[]}),this}cancelTypeahead(){return this._pressedLetters=[],this}withHomeAndEnd(e=!0){return this._homeAndEnd=e,this}withPageUpDown(e=!0,t=10){return this._pageUpAndDown={enabled:e,delta:t},this}setActiveItem(e){const t=this._activeItem;this.updateActiveItem(e),this._activeItem!==t&&this.change.next(this._activeItemIndex)}onKeydown(e){const t=e.keyCode,r=["altKey","ctrlKey","metaKey","shiftKey"].every(o=>!e[o]||this._allowedModifierKeys.indexOf(o)>-1);switch(t){case 9:return void this.tabOut.next();case 40:if(this._vertical&&r){this.setNextItemActive();break}return;case 38:if(this._vertical&&r){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&r){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&r){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&r){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&r){this.setLastItemActive();break}return;case 33:if(this._pageUpAndDown.enabled&&r){const o=this._activeItemIndex-this._pageUpAndDown.delta;this._setActiveItemByIndex(o>0?o:0,1);break}return;case 34:if(this._pageUpAndDown.enabled&&r){const o=this._activeItemIndex+this._pageUpAndDown.delta,s=this._getItemsArray().length;this._setActiveItemByIndex(o<s?o:s-1,-1);break}return;default:return void((r||$p(e,"shiftKey"))&&(e.key&&1===e.key.length?this._letterKeyStream.next(e.key.toLocaleUpperCase()):(t>=65&&t<=90||t>=48&&t<=57)&&this._letterKeyStream.next(String.fromCharCode(t))))}this._pressedLetters=[],e.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(e){const t=this._getItemsArray(),i="number"==typeof e?e:t.indexOf(e);this._activeItem=t[i]??null,this._activeItemIndex=i}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._letterKeyStream.complete(),this.tabOut.complete(),this.change.complete(),this._pressedLetters=[]}_setActiveItemByDelta(e){this._wrap?this._setActiveInWrapMode(e):this._setActiveInDefaultMode(e)}_setActiveInWrapMode(e){const t=this._getItemsArray();for(let i=1;i<=t.length;i++){const r=(this._activeItemIndex+e*i+t.length)%t.length;if(!this._skipPredicateFn(t[r]))return void this.setActiveItem(r)}}_setActiveInDefaultMode(e){this._setActiveItemByIndex(this._activeItemIndex+e,e)}_setActiveItemByIndex(e,t){const i=this._getItemsArray();if(i[e]){for(;this._skipPredicateFn(i[e]);)if(!i[e+=t])return;this.setActiveItem(e)}}_getItemsArray(){return this._items instanceof Ec?this._items.toArray():this._items}}class iF extends QK{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(e){return this._origin=e,this}setActiveItem(e){super.setActiveItem(e),this.activeItem&&this.activeItem.focus(this._origin)}}let _v=(()=>{class n{constructor(t){this._platform=t}isDisabled(t){return t.hasAttribute("disabled")}isVisible(t){return function JK(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(t)&&"visible"===getComputedStyle(t).visibility}isTabbable(t){if(!this._platform.isBrowser)return!1;const i=function XK(n){try{return n.frameElement}catch{return null}}(function aY(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(t));if(i&&(-1===oF(i)||!this.isVisible(i)))return!1;let r=t.nodeName.toLowerCase(),o=oF(t);return t.hasAttribute("contenteditable")?-1!==o:!("iframe"===r||"object"===r||this._platform.WEBKIT&&this._platform.IOS&&!function oY(n){let e=n.nodeName.toLowerCase(),t="input"===e&&n.type;return"text"===t||"password"===t||"select"===e||"textarea"===e}(t))&&("audio"===r?!!t.hasAttribute("controls")&&-1!==o:"video"===r?-1!==o&&(null!==o||this._platform.FIREFOX||t.hasAttribute("controls")):t.tabIndex>=0)}isFocusable(t,i){return function sY(n){return!function tY(n){return function iY(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function eY(n){let e=n.nodeName.toLowerCase();return"input"===e||"select"===e||"button"===e||"textarea"===e}(n)||function nY(n){return function rY(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||rF(n))}(t)&&!this.isDisabled(t)&&(i?.ignoreVisibility||this.isVisible(t))}static#e=this.\u0275fac=function(i){return new(i||n)(O(zn))};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function rF(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let e=n.getAttribute("tabindex");return!(!e||isNaN(parseInt(e,10)))}function oF(n){if(!rF(n))return null;const e=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}class lY{get enabled(){return this._enabled}set enabled(e){this._enabled=e,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}constructor(e,t,i,r,o=!1){this._element=e,this._checker=t,this._ngZone=i,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,o||this.attachAnchors()}destroy(){const e=this._startAnchor,t=this._endAnchor;e&&(e.removeEventListener("focus",this.startAnchorListener),e.remove()),t&&(t.removeEventListener("focus",this.endAnchorListener),t.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusInitialElement(e)))})}focusFirstTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusFirstTabbableElement(e)))})}focusLastTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusLastTabbableElement(e)))})}_getRegionBoundary(e){const t=this._element.querySelectorAll(`[cdk-focus-region-${e}], [cdkFocusRegion${e}], [cdk-focus-${e}]`);return"start"==e?t.length?t[0]:this._getFirstTabbableElement(this._element):t.length?t[t.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(e){const t=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(t){if(!this._checker.isFocusable(t)){const i=this._getFirstTabbableElement(t);return i?.focus(e),!!i}return t.focus(e),!0}return this.focusFirstTabbableElement(e)}focusFirstTabbableElement(e){const t=this._getRegionBoundary("start");return t&&t.focus(e),!!t}focusLastTabbableElement(e){const t=this._getRegionBoundary("end");return t&&t.focus(e),!!t}hasAttached(){return this._hasAttached}_getFirstTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let i=0;i<t.length;i++){const r=t[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(t[i]):null;if(r)return r}return null}_getLastTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let i=t.length-1;i>=0;i--){const r=t[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(t[i]):null;if(r)return r}return null}_createAnchor(){const e=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,e),e.classList.add("cdk-visually-hidden"),e.classList.add("cdk-focus-trap-anchor"),e.setAttribute("aria-hidden","true"),e}_toggleAnchorTabIndex(e,t){e?t.setAttribute("tabindex","0"):t.removeAttribute("tabindex")}toggleAnchors(e){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}_executeOnStable(e){this._ngZone.isStable?e():this._ngZone.onStable.pipe(fi(1)).subscribe(e)}}let rC=(()=>{class n{constructor(t,i,r){this._checker=t,this._ngZone=i,this._document=r}create(t,i=!1){return new lY(t,this._checker,this._ngZone,this._document,i)}static#e=this.\u0275fac=function(i){return new(i||n)(O(_v),O(Ce),O(nt))};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function oC(n){return 0===n.buttons||0===n.detail}function sC(n){const e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}const cY=new G("cdk-input-modality-detector-options"),uY={ignoreKeys:[18,17,224,91,16]},jd=Cc({passive:!0,capture:!0});let dY=(()=>{class n{get mostRecentModality(){return this._modality.value}constructor(t,i,r,o){this._platform=t,this._mostRecentTarget=null,this._modality=new v(null),this._lastTouchMs=0,this._onKeydown=s=>{this._options?.ignoreKeys?.some(a=>a===s.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=al(s))},this._onMousedown=s=>{Date.now()-this._lastTouchMs<650||(this._modality.next(oC(s)?"keyboard":"mouse"),this._mostRecentTarget=al(s))},this._onTouchstart=s=>{sC(s)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=al(s))},this._options={...uY,...o},this.modalityDetected=this._modality.pipe(eC(1)),this.modalityChanged=this.modalityDetected.pipe(Ue()),t.isBrowser&&i.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,jd),r.addEventListener("mousedown",this._onMousedown,jd),r.addEventListener("touchstart",this._onTouchstart,jd)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,jd),document.removeEventListener("mousedown",this._onMousedown,jd),document.removeEventListener("touchstart",this._onTouchstart,jd))}static#e=this.\u0275fac=function(i){return new(i||n)(O(zn),O(Ce),O(nt),O(cY,8))};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const hY=new G("liveAnnouncerElement",{providedIn:"root",factory:function fY(){return null}}),pY=new G("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let mY=0,aF=(()=>{class n{constructor(t,i,r,o){this._ngZone=i,this._defaultOptions=o,this._document=r,this._liveElement=t||this._createLiveElement()}announce(t,...i){const r=this._defaultOptions;let o,s;return 1===i.length&&"number"==typeof i[0]?s=i[0]:[o,s]=i,this.clear(),clearTimeout(this._previousTimeout),o||(o=r&&r.politeness?r.politeness:"polite"),null==s&&r&&(s=r.duration),this._liveElement.setAttribute("aria-live",o),this._liveElement.id&&this._exposeAnnouncerToModals(this._liveElement.id),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(a=>this._currentResolve=a)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=t,"number"==typeof s&&(this._previousTimeout=setTimeout(()=>this.clear(),s)),this._currentResolve(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){const t="cdk-live-announcer-element",i=this._document.getElementsByClassName(t),r=this._document.createElement("div");for(let o=0;o<i.length;o++)i[o].remove();return r.classList.add(t),r.classList.add("cdk-visually-hidden"),r.setAttribute("aria-atomic","true"),r.setAttribute("aria-live","polite"),r.id="cdk-live-announcer-"+mY++,this._document.body.appendChild(r),r}_exposeAnnouncerToModals(t){const i=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let r=0;r<i.length;r++){const o=i[r],s=o.getAttribute("aria-owns");s?-1===s.indexOf(t)&&o.setAttribute("aria-owns",s+" "+t):o.setAttribute("aria-owns",t)}}static#e=this.\u0275fac=function(i){return new(i||n)(O(hY,8),O(Ce),O(nt),O(pY,8))};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const gY=new G("cdk-focus-monitor-default-options"),yv=Cc({passive:!0,capture:!0});let Ac=(()=>{class n{constructor(t,i,r,o,s){this._ngZone=t,this._platform=i,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new F,this._rootNodeFocusAndBlurListener=a=>{for(let c=al(a);c;c=c.parentElement)"focus"===a.type?this._onFocus(a,c):this._onBlur(a,c)},this._document=o,this._detectionMode=s?.detectionMode||0}monitor(t,i=!1){const r=ha(t);if(!this._platform.isBrowser||1!==r.nodeType)return A();const o=function gK(n){if(function mK(){if(null==qx){const n=typeof document<"u"?document.head:null;qx=!(!n||!n.createShadowRoot&&!n.attachShadow)}return qx}()){const e=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}(r)||this._getDocument(),s=this._elementInfo.get(r);if(s)return i&&(s.checkChildren=!0),s.subject;const a={checkChildren:i,subject:new F,rootNode:o};return this._elementInfo.set(r,a),this._registerGlobalListeners(a),a.subject}stopMonitoring(t){const i=ha(t),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(t,i,r){const o=ha(t);o===this._getDocument().activeElement?this._getClosestElementsInfo(o).forEach(([a,l])=>this._originChanged(a,i,l)):(this._setOrigin(i),"function"==typeof o.focus&&o.focus(r))}ngOnDestroy(){this._elementInfo.forEach((t,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:t&&this._isLastInteractionFromInputLabel(t)?"mouse":"program"}_shouldBeAttributedToTouch(t){return 1===this._detectionMode||!!t?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(t,i){t.classList.toggle("cdk-focused",!!i),t.classList.toggle("cdk-touch-focused","touch"===i),t.classList.toggle("cdk-keyboard-focused","keyboard"===i),t.classList.toggle("cdk-mouse-focused","mouse"===i),t.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(t,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originFromTouchInteraction="touch"===t&&i,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(t,i){const r=this._elementInfo.get(i),o=al(t);!r||!r.checkChildren&&i!==o||this._originChanged(i,this._getFocusOrigin(o),r)}_onBlur(t,i){const r=this._elementInfo.get(i);!r||r.checkChildren&&t.relatedTarget instanceof Node&&i.contains(t.relatedTarget)||(this._setClasses(i),this._emitOrigin(r,null))}_emitOrigin(t,i){t.subject.observers.length&&this._ngZone.run(()=>t.subject.next(i))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const i=t.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,yv),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,yv)}),this._rootNodeFocusListenerCount.set(i,r+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Yi(this._stopInputModalityDetector)).subscribe(o=>{this._setOrigin(o,!0)}))}_removeGlobalListeners(t){const i=t.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,yv),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,yv),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,i,r){this._setClasses(t,i),this._emitOrigin(r,i),this._lastFocusOrigin=i}_getClosestElementsInfo(t){const i=[];return this._elementInfo.forEach((r,o)=>{(o===t||r.checkChildren&&o.contains(t))&&i.push([o,r])}),i}_isLastInteractionFromInputLabel(t){const{_mostRecentTarget:i,mostRecentModality:r}=this._inputModalityDetector;if("mouse"!==r||!i||i===t||"INPUT"!==t.nodeName&&"TEXTAREA"!==t.nodeName||t.disabled)return!1;const o=t.labels;if(o)for(let s=0;s<o.length;s++)if(o[s].contains(i))return!0;return!1}static#e=this.\u0275fac=function(i){return new(i||n)(O(Ce),O(zn),O(dY),O(nt,8),O(gY,8))};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),_Y=(()=>{class n{constructor(t,i){this._elementRef=t,this._focusMonitor=i,this._focusOrigin=null,this.cdkFocusChange=new lt}get focusOrigin(){return this._focusOrigin}ngAfterViewInit(){const t=this._elementRef.nativeElement;this._monitorSubscription=this._focusMonitor.monitor(t,1===t.nodeType&&t.hasAttribute("cdkMonitorSubtreeFocus")).subscribe(i=>{this._focusOrigin=i,this.cdkFocusChange.emit(i)})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription&&this._monitorSubscription.unsubscribe()}static#e=this.\u0275fac=function(i){return new(i||n)(T(Ye),T(Ac))};static#t=this.\u0275dir=le({type:n,selectors:[["","cdkMonitorElementFocus",""],["","cdkMonitorSubtreeFocus",""]],outputs:{cdkFocusChange:"cdkFocusChange"},exportAs:["cdkMonitorFocus"]})}return n})();const lF="cdk-high-contrast-black-on-white",cF="cdk-high-contrast-white-on-black",aC="cdk-high-contrast-active";let uF=(()=>{class n{constructor(t,i){this._platform=t,this._document=i,this._breakpointSubscription=he(iC).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(t):null,o=(r&&r.backgroundColor||"").replace(/ /g,"");switch(t.remove(),o){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(aC,lF,cF),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?t.add(aC,lF):2===i&&t.add(aC,cF)}}static#e=this.\u0275fac=function(i){return new(i||n)(O(zn),O(nt))};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),dF=(()=>{class n{constructor(t){t._applyBodyHighContrastModeCssClasses()}static#e=this.\u0275fac=function(i){return new(i||n)(O(uF))};static#t=this.\u0275mod=at({type:n});static#n=this.\u0275inj=mt({imports:[tC]})}return n})();const yY=new G("cdk-dir-doc",{providedIn:"root",factory:function vY(){return he(nt)}}),bY=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let Cs=(()=>{class n{constructor(t){this.value="ltr",this.change=new lt,t&&(this.value=function EY(n){const e=n?.toLowerCase()||"";return"auto"===e&&typeof navigator<"u"&&navigator?.language?bY.test(navigator.language)?"rtl":"ltr":"rtl"===e?"rtl":"ltr"}((t.body?t.body.dir:null)||(t.documentElement?t.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}static#e=this.\u0275fac=function(i){return new(i||n)(O(yY,8))};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Gp=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=at({type:n});static#n=this.\u0275inj=mt({})}return n})();const IY=new G("mat-sanity-checks",{providedIn:"root",factory:function wY(){return!0}});let Gn=(()=>{class n{constructor(t,i,r){this._sanityChecks=i,this._document=r,this._hasDoneGlobalChecks=!1,t._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!Zx()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}static#e=this.\u0275fac=function(i){return new(i||n)(O(uF),O(IY,8),O(nt))};static#t=this.\u0275mod=at({type:n});static#n=this.\u0275inj=mt({imports:[Gp,Gp]})}return n})();function vv(n){return class extends n{get disabled(){return this._disabled}set disabled(e){this._disabled=si(e)}constructor(...e){super(...e),this._disabled=!1}}}function bv(n,e){return class extends n{get color(){return this._color}set color(t){const i=t||this.defaultColor;i!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),i&&this._elementRef.nativeElement.classList.add(`mat-${i}`),this._color=i)}constructor(...t){super(...t),this.defaultColor=e,this.color=e}}}function lC(n){return class extends n{get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=si(e)}constructor(...e){super(...e),this._disableRipple=!1}}}function xY(n){return class extends n{updateErrorState(){const e=this.errorState,o=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);o!==e&&(this.errorState=o,this.stateChanges.next())}constructor(...e){super(...e),this.errorState=!1}}}let TY=(()=>{class n{isErrorState(t,i){return!!(t&&t.invalid&&(t.touched||i&&i.submitted))}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class DY{constructor(e,t,i,r=!1){this._renderer=e,this.element=t,this.config=i,this._animationForciblyDisabledThroughCss=r,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const pF=Cc({passive:!0,capture:!0});class AY{constructor(){this._events=new Map,this._delegateEventHandler=e=>{const t=al(e);t&&this._events.get(e.type)?.forEach((i,r)=>{(r===t||r.contains(t))&&i.forEach(o=>o.handleEvent(e))})}}addHandler(e,t,i,r){const o=this._events.get(t);if(o){const s=o.get(i);s?s.add(r):o.set(i,new Set([r]))}else this._events.set(t,new Map([[i,new Set([r])]])),e.runOutsideAngular(()=>{document.addEventListener(t,this._delegateEventHandler,pF)})}removeHandler(e,t,i){const r=this._events.get(e);if(!r)return;const o=r.get(t);o&&(o.delete(i),0===o.size&&r.delete(t),0===r.size&&(this._events.delete(e),document.removeEventListener(e,this._delegateEventHandler,pF)))}}const mF={enterDuration:225,exitDuration:150},gF=Cc({passive:!0,capture:!0}),_F=["mousedown","touchstart"],yF=["mouseup","mouseleave","touchend","touchcancel"];class Ev{static#e=this._eventManager=new AY;constructor(e,t,i,r){this._target=e,this._ngZone=t,this._platform=r,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=ha(i))}fadeInRipple(e,t,i={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o={...mF,...i.animation};i.centered&&(e=r.left+r.width/2,t=r.top+r.height/2);const s=i.radius||function MY(n,e,t){const i=Math.max(Math.abs(n-t.left),Math.abs(n-t.right)),r=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(i*i+r*r)}(e,t,r),a=e-r.left,l=t-r.top,c=o.enterDuration,h=document.createElement("div");h.classList.add("mat-ripple-element"),h.style.left=a-s+"px",h.style.top=l-s+"px",h.style.height=2*s+"px",h.style.width=2*s+"px",null!=i.color&&(h.style.backgroundColor=i.color),h.style.transitionDuration=`${c}ms`,this._containerElement.appendChild(h);const p=window.getComputedStyle(h),y=p.transitionDuration,w="none"===p.transitionProperty||"0s"===y||"0s, 0s"===y||0===r.width&&0===r.height,x=new DY(this,h,i,w);h.style.transform="scale3d(1, 1, 1)",x.state=0,i.persistent||(this._mostRecentTransientRipple=x);let S=null;return!w&&(c||o.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const L=()=>this._finishRippleTransition(x),R=()=>this._destroyRipple(x);h.addEventListener("transitionend",L),h.addEventListener("transitioncancel",R),S={onTransitionEnd:L,onTransitionCancel:R}}),this._activeRipples.set(x,S),(w||!c)&&this._finishRippleTransition(x),x}fadeOutRipple(e){if(2===e.state||3===e.state)return;const t=e.element,i={...mF,...e.config.animation};t.style.transitionDuration=`${i.exitDuration}ms`,t.style.opacity="0",e.state=2,(e._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(e)}fadeOutAll(){this._getActiveRipples().forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){const t=ha(e);!this._platform.isBrowser||!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,_F.forEach(i=>{Ev._eventManager.addHandler(this._ngZone,i,t,this)}))}handleEvent(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{yF.forEach(t=>{this._triggerElement.addEventListener(t,this,gF)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(e){0===e.state?this._startFadeOutTransition(e):2===e.state&&this._destroyRipple(e)}_startFadeOutTransition(e){const t=e===this._mostRecentTransientRipple,{persistent:i}=e.config;e.state=1,!i&&(!t||!this._isPointerDown)&&e.fadeOut()}_destroyRipple(e){const t=this._activeRipples.get(e)??null;this._activeRipples.delete(e),this._activeRipples.size||(this._containerRect=null),e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),e.state=3,null!==t&&(e.element.removeEventListener("transitionend",t.onTransitionEnd),e.element.removeEventListener("transitioncancel",t.onTransitionCancel)),e.element.remove()}_onMousedown(e){const t=oC(e),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!t&&!i&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!sC(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=e.changedTouches;if(t)for(let i=0;i<t.length;i++)this.fadeInRipple(t[i].clientX,t[i].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(e=>{!e.config.persistent&&(1===e.state||e.config.terminateOnPointerUp&&0===e.state)&&e.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const e=this._triggerElement;e&&(_F.forEach(t=>Ev._eventManager.removeHandler(t,e,this)),this._pointerUpEventsRegistered&&yF.forEach(t=>e.removeEventListener(t,this,gF)))}}const vF=new G("mat-ripple-global-options");let wv=(()=>{class n{get disabled(){return this._disabled}set disabled(t){t&&this.fadeOutAllNonPersistent(),this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}constructor(t,i,r,o,s){this._elementRef=t,this._animationMode=s,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=o||{},this._rippleRenderer=new Ev(this,i,t,r)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,i=0,r){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,i,{...this.rippleConfig,...r}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...t})}static#e=this.\u0275fac=function(i){return new(i||n)(T(Ye),T(Ce),T(zn),T(vF,8),T(ar,8))};static#t=this.\u0275dir=le({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(i,r){2&i&&Ht("mat-ripple-unbounded",r.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]})}return n})(),cC=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=at({type:n});static#n=this.\u0275inj=mt({imports:[Gn,Gn]})}return n})();const bF={capture:!0},EF=["focus","click","mouseenter","touchstart"],uC="mat-ripple-loader-uninitialized",dC="mat-ripple-loader-class-name",wF="mat-ripple-loader-centered",Iv="mat-ripple-loader-disabled";let RY=(()=>{class n{constructor(){this._document=he(nt,{optional:!0}),this._animationMode=he(ar,{optional:!0}),this._globalRippleOptions=he(vF,{optional:!0}),this._platform=he(zn),this._ngZone=he(Ce),this._onInteraction=t=>{if(!(t.target instanceof HTMLElement))return;const r=t.target.closest(`[${uC}]`);r&&this.createRipple(r)},this._ngZone.runOutsideAngular(()=>{for(const t of EF)this._document?.addEventListener(t,this._onInteraction,bF)})}ngOnDestroy(){for(const t of EF)this._document?.removeEventListener(t,this._onInteraction,bF)}configureRipple(t,i){t.setAttribute(uC,""),(i.className||!t.hasAttribute(dC))&&t.setAttribute(dC,i.className||""),i.centered&&t.setAttribute(wF,""),i.disabled&&t.setAttribute(Iv,"")}getRipple(t){return t.matRipple?t.matRipple:this.createRipple(t)}setDisabled(t,i){const r=t.matRipple;r?r.disabled=i:i?t.setAttribute(Iv,""):t.removeAttribute(Iv)}createRipple(t){if(!this._document)return;t.querySelector(".mat-ripple")?.remove();const i=this._document.createElement("span");i.classList.add("mat-ripple",t.getAttribute(dC)),t.append(i);const r=new wv(new Ye(i),this._ngZone,this._platform,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);return r._isInitialized=!0,r.trigger=t,r.centered=t.hasAttribute(wF),r.disabled=t.hasAttribute(Iv),this.attachRipple(t,r),r}attachRipple(t,i){t.removeAttribute(uC),t.matRipple=i}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function zd(n,e){const t=C(n)?n:()=>n,i=r=>r.error(t());return new Ke(e?r=>e.schedule(i,0,r):i)}function IF(...n){const e=Io(n),{args:t,keys:i}=YN(n),r=new Ke(o=>{const{length:s}=t;if(!s)return void o.complete();const a=new Array(s);let l=s,c=s;for(let h=0;h<s;h++){let p=!1;_t(t[h]).subscribe(fe(o,g=>{p||(p=!0,c--),a[h]=g},()=>l--,void 0,()=>{(!l||!p)&&(c||o.next(i?QN(i,a):a),o.complete())}))}});return e?r.pipe(nC(e)):r}function ll(n){return X((e,t)=>{let o,i=null,r=!1;i=e.subscribe(fe(t,void 0,void 0,s=>{o=_t(n(s,ll(n)(e))),i?(i.unsubscribe(),i=null,o.subscribe(t)):r=!0})),r&&(i.unsubscribe(),i=null,o.subscribe(t))})}function xv(n){return X((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function Hd(n,e){return C(e)?Ut(n,e,1):Ut(n,1)}class hC{}class fa{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?"string"==typeof e?this.lazyInit=()=>{this.headers=new Map,e.split("\n").forEach(t=>{const i=t.indexOf(":");if(i>0){const r=t.slice(0,i),o=r.toLowerCase(),s=t.slice(i+1).trim();this.maybeSetNormalizedName(r,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,i)=>{this.setHeaderEntries(i,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,i])=>{this.setHeaderEntries(t,i)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof fa?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new fa;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof fa?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let i=e.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(e.name,t);const r=("a"===e.op?this.headers.get(t):void 0)||[];r.push(...i),this.headers.set(t,r);break;case"d":const o=e.value;if(o){let s=this.headers.get(t);if(!s)return;s=s.filter(a=>-1===o.indexOf(a)),0===s.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,s)}else this.headers.delete(t),this.normalizedNames.delete(t)}}setHeaderEntries(e,t){const i=(Array.isArray(t)?t:[t]).map(o=>o.toString()),r=e.toLowerCase();this.headers.set(r,i),this.maybeSetNormalizedName(e,r)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class PY{encodeKey(e){return xF(e)}encodeValue(e){return xF(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const OY=/%(\d[a-f0-9])/gi,NY={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function xF(n){return encodeURIComponent(n).replace(OY,(e,t)=>NY[t]??e)}function Cv(n){return`${n}`}class cl{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new PY,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function kY(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const o=r.indexOf("="),[s,a]=-1==o?[e.decodeKey(r),""]:[e.decodeKey(r.slice(0,o)),e.decodeValue(r.slice(o+1))],l=t.get(s)||[];l.push(a),t.set(s,l)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const i=e.fromObject[t],r=Array.isArray(i)?i.map(Cv):[Cv(i)];this.map.set(t,r)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(i=>{const r=e[i];Array.isArray(r)?r.forEach(o=>{t.push({param:i,value:o,op:"a"})}):t.push({param:i,value:r,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(i=>t+"="+this.encoder.encodeValue(i)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new cl({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(Cv(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let i=this.map.get(e.param)||[];const r=i.indexOf(Cv(e.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(e.param,i):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class FY{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function CF(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function TF(n){return typeof Blob<"u"&&n instanceof Blob}function DF(n){return typeof FormData<"u"&&n instanceof FormData}class Kp{constructor(e,t,i,r){let o;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function LY(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,o=r):o=i,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params)),this.headers||(this.headers=new fa),this.context||(this.context=new FY),this.params){const s=this.params.toString();if(0===s.length)this.urlWithParams=t;else{const a=t.indexOf("?");this.urlWithParams=t+(-1===a?"?":a<t.length-1?"&":"")+s}}else this.params=new cl,this.urlWithParams=t}serializeBody(){return null===this.body?null:CF(this.body)||TF(this.body)||DF(this.body)||function VY(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof cl?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||DF(this.body)?null:TF(this.body)?this.body.type||null:CF(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof cl?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,i=e.url||this.url,r=e.responseType||this.responseType,o=void 0!==e.body?e.body:this.body,s=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,a=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let l=e.headers||this.headers,c=e.params||this.params;const h=e.context??this.context;return void 0!==e.setHeaders&&(l=Object.keys(e.setHeaders).reduce((p,g)=>p.set(g,e.setHeaders[g]),l)),e.setParams&&(c=Object.keys(e.setParams).reduce((p,g)=>p.set(g,e.setParams[g]),c)),new Kp(t,i,o,{params:c,headers:l,context:h,reportProgress:a,responseType:r,withCredentials:s})}}var pC=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(pC||{});class BY{constructor(e,t=200,i="OK"){this.headers=e.headers||new fa,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||i,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class Yp extends BY{constructor(e={}){super(e),this.type=pC.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new Yp({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}function mC(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let gC=(()=>{class n{constructor(t){this.handler=t}request(t,i,r={}){let o;if(t instanceof Kp)o=t;else{let l,c;l=r.headers instanceof fa?r.headers:new fa(r.headers),r.params&&(c=r.params instanceof cl?r.params:new cl({fromObject:r.params})),o=new Kp(t,i,void 0!==r.body?r.body:null,{headers:l,context:r.context,params:c,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const s=A(o).pipe(Hd(l=>this.handler.handle(l)));if(t instanceof Kp||"events"===r.observe)return s;const a=s.pipe(_n(l=>l instanceof Yp));switch(r.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(de(l=>{if(null!==l.body&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return a.pipe(de(l=>{if(null!==l.body&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return a.pipe(de(l=>{if(null!==l.body&&"string"!=typeof l.body)throw new Error("Response is not a string.");return l.body}));default:return a.pipe(de(l=>l.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(t,i={}){return this.request("DELETE",t,i)}get(t,i={}){return this.request("GET",t,i)}head(t,i={}){return this.request("HEAD",t,i)}jsonp(t,i){return this.request("JSONP",t,{params:(new cl).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,i={}){return this.request("OPTIONS",t,i)}patch(t,i,r={}){return this.request("PATCH",t,mC(r,i))}post(t,i,r={}){return this.request("POST",t,mC(r,i))}put(t,i,r={}){return this.request("PUT",t,mC(r,i))}static#e=this.\u0275fac=function(i){return new(i||n)(O(hC))};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac})}return n})();const oQ=["*"];let Av;function Qp(n){return function sQ(){if(void 0===Av&&(Av=null,typeof window<"u")){const n=window;void 0!==n.trustedTypes&&(Av=n.trustedTypes.createPolicy("angular#components",{createHTML:e=>e}))}return Av}()?.createHTML(n)||n}function LF(n){return Error(`Unable to find icon with the name "${n}"`)}function VF(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function BF(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class Mc{constructor(e,t,i){this.url=e,this.svgText=t,this.options=i}}let Sv=(()=>{class n{constructor(t,i,r,o){this._httpClient=t,this._sanitizer=i,this._errorHandler=o,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=r}addSvgIcon(t,i,r){return this.addSvgIconInNamespace("",t,i,r)}addSvgIconLiteral(t,i,r){return this.addSvgIconLiteralInNamespace("",t,i,r)}addSvgIconInNamespace(t,i,r,o){return this._addSvgIconConfig(t,i,new Mc(r,null,o))}addSvgIconResolver(t){return this._resolvers.push(t),this}addSvgIconLiteralInNamespace(t,i,r,o){const s=this._sanitizer.sanitize(Wi.HTML,r);if(!s)throw BF(r);const a=Qp(s);return this._addSvgIconConfig(t,i,new Mc("",a,o))}addSvgIconSet(t,i){return this.addSvgIconSetInNamespace("",t,i)}addSvgIconSetLiteral(t,i){return this.addSvgIconSetLiteralInNamespace("",t,i)}addSvgIconSetInNamespace(t,i,r){return this._addSvgIconSetConfig(t,new Mc(i,null,r))}addSvgIconSetLiteralInNamespace(t,i,r){const o=this._sanitizer.sanitize(Wi.HTML,i);if(!o)throw BF(i);const s=Qp(o);return this._addSvgIconSetConfig(t,new Mc("",s,r))}registerFontClassAlias(t,i=t){return this._fontCssClassesByAlias.set(t,i),this}classNameForFontAlias(t){return this._fontCssClassesByAlias.get(t)||t}setDefaultFontSetClass(...t){return this._defaultFontSetClass=t,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(t){const i=this._sanitizer.sanitize(Wi.RESOURCE_URL,t);if(!i)throw VF(t);const r=this._cachedIconsByUrl.get(i);return r?A(Mv(r)):this._loadSvgIconFromConfig(new Mc(t,null)).pipe(oi(o=>this._cachedIconsByUrl.set(i,o)),de(o=>Mv(o)))}getNamedSvgIcon(t,i=""){const r=UF(i,t);let o=this._svgIconConfigs.get(r);if(o)return this._getSvgFromConfig(o);if(o=this._getIconConfigFromResolvers(i,t),o)return this._svgIconConfigs.set(r,o),this._getSvgFromConfig(o);const s=this._iconSetConfigs.get(i);return s?this._getSvgFromIconSetConfigs(t,s):zd(LF(r))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(t){return t.svgText?A(Mv(this._svgElementFromConfig(t))):this._loadSvgIconFromConfig(t).pipe(de(i=>Mv(i)))}_getSvgFromIconSetConfigs(t,i){const r=this._extractIconWithNameFromAnySet(t,i);return r?A(r):IF(i.filter(s=>!s.svgText).map(s=>this._loadSvgIconSetFromConfig(s).pipe(ll(a=>{const c=`Loading icon set URL: ${this._sanitizer.sanitize(Wi.RESOURCE_URL,s.url)} failed: ${a.message}`;return this._errorHandler.handleError(new Error(c)),A(null)})))).pipe(de(()=>{const s=this._extractIconWithNameFromAnySet(t,i);if(!s)throw LF(t);return s}))}_extractIconWithNameFromAnySet(t,i){for(let r=i.length-1;r>=0;r--){const o=i[r];if(o.svgText&&o.svgText.toString().indexOf(t)>-1){const s=this._svgElementFromConfig(o),a=this._extractSvgIconFromSet(s,t,o.options);if(a)return a}}return null}_loadSvgIconFromConfig(t){return this._fetchIcon(t).pipe(oi(i=>t.svgText=i),de(()=>this._svgElementFromConfig(t)))}_loadSvgIconSetFromConfig(t){return t.svgText?A(null):this._fetchIcon(t).pipe(oi(i=>t.svgText=i))}_extractSvgIconFromSet(t,i,r){const o=t.querySelector(`[id="${i}"]`);if(!o)return null;const s=o.cloneNode(!0);if(s.removeAttribute("id"),"svg"===s.nodeName.toLowerCase())return this._setSvgAttributes(s,r);if("symbol"===s.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(s),r);const a=this._svgElementFromString(Qp("<svg></svg>"));return a.appendChild(s),this._setSvgAttributes(a,r)}_svgElementFromString(t){const i=this._document.createElement("DIV");i.innerHTML=t;const r=i.querySelector("svg");if(!r)throw Error("<svg> tag not found");return r}_toSvgElement(t){const i=this._svgElementFromString(Qp("<svg></svg>")),r=t.attributes;for(let o=0;o<r.length;o++){const{name:s,value:a}=r[o];"id"!==s&&i.setAttribute(s,a)}for(let o=0;o<t.childNodes.length;o++)t.childNodes[o].nodeType===this._document.ELEMENT_NODE&&i.appendChild(t.childNodes[o].cloneNode(!0));return i}_setSvgAttributes(t,i){return t.setAttribute("fit",""),t.setAttribute("height","100%"),t.setAttribute("width","100%"),t.setAttribute("preserveAspectRatio","xMidYMid meet"),t.setAttribute("focusable","false"),i&&i.viewBox&&t.setAttribute("viewBox",i.viewBox),t}_fetchIcon(t){const{url:i,options:r}=t,o=r?.withCredentials??!1;if(!this._httpClient)throw function aQ(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==i)throw Error(`Cannot fetch icon from URL "${i}".`);const s=this._sanitizer.sanitize(Wi.RESOURCE_URL,i);if(!s)throw VF(i);const a=this._inProgressUrlFetches.get(s);if(a)return a;const l=this._httpClient.get(s,{responseType:"text",withCredentials:o}).pipe(de(c=>Qp(c)),xv(()=>this._inProgressUrlFetches.delete(s)),Z());return this._inProgressUrlFetches.set(s,l),l}_addSvgIconConfig(t,i,r){return this._svgIconConfigs.set(UF(t,i),r),this}_addSvgIconSetConfig(t,i){const r=this._iconSetConfigs.get(t);return r?r.push(i):this._iconSetConfigs.set(t,[i]),this}_svgElementFromConfig(t){if(!t.svgElement){const i=this._svgElementFromString(t.svgText);this._setSvgAttributes(i,t.options),t.svgElement=i}return t.svgElement}_getIconConfigFromResolvers(t,i){for(let r=0;r<this._resolvers.length;r++){const o=this._resolvers[r](i,t);if(o)return cQ(o)?new Mc(o.url,null,o.options):new Mc(o,null)}}static#e=this.\u0275fac=function(i){return new(i||n)(O(gC,8),O($x),O(nt,8),O(Oo))};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Mv(n){return n.cloneNode(!0)}function UF(n,e){return n+":"+e}function cQ(n){return!(!n.url||!n.options)}const uQ=bv(class{constructor(n){this._elementRef=n}}),dQ=new G("MAT_ICON_DEFAULT_OPTIONS"),hQ=new G("mat-icon-location",{providedIn:"root",factory:function fQ(){const n=he(nt),e=n?n.location:null;return{getPathname:()=>e?e.pathname+e.search:""}}}),jF=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],pQ=jF.map(n=>`[${n}]`).join(", "),mQ=/^url\(['"]?#(.*?)['"]?\)$/;let Xp=(()=>{class n extends uQ{get inline(){return this._inline}set inline(t){this._inline=si(t)}get svgIcon(){return this._svgIcon}set svgIcon(t){t!==this._svgIcon&&(t?this._updateSvgIcon(t):this._svgIcon&&this._clearSvgElement(),this._svgIcon=t)}get fontSet(){return this._fontSet}set fontSet(t){const i=this._cleanupFontValue(t);i!==this._fontSet&&(this._fontSet=i,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(t){const i=this._cleanupFontValue(t);i!==this._fontIcon&&(this._fontIcon=i,this._updateFontIconClasses())}constructor(t,i,r,o,s,a){super(t),this._iconRegistry=i,this._location=o,this._errorHandler=s,this._inline=!1,this._previousFontSetClass=[],this._currentIconFetch=We.EMPTY,a&&(a.color&&(this.color=this.defaultColor=a.color),a.fontSet&&(this.fontSet=a.fontSet)),r||t.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(t){if(!t)return["",""];const i=t.split(":");switch(i.length){case 1:return["",i[0]];case 2:return i;default:throw Error(`Invalid icon name: "${t}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const t=this._elementsWithExternalReferences;if(t&&t.size){const i=this._location.getPathname();i!==this._previousPath&&(this._previousPath=i,this._prependPathToReferences(i))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(t){this._clearSvgElement();const i=this._location.getPathname();this._previousPath=i,this._cacheChildrenWithExternalReferences(t),this._prependPathToReferences(i),this._elementRef.nativeElement.appendChild(t)}_clearSvgElement(){const t=this._elementRef.nativeElement;let i=t.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();i--;){const r=t.childNodes[i];(1!==r.nodeType||"svg"===r.nodeName.toLowerCase())&&r.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const t=this._elementRef.nativeElement,i=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(r=>r.length>0);this._previousFontSetClass.forEach(r=>t.classList.remove(r)),i.forEach(r=>t.classList.add(r)),this._previousFontSetClass=i,this.fontIcon!==this._previousFontIconClass&&!i.includes("mat-ligature-font")&&(this._previousFontIconClass&&t.classList.remove(this._previousFontIconClass),this.fontIcon&&t.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(t){return"string"==typeof t?t.trim().split(" ")[0]:t}_prependPathToReferences(t){const i=this._elementsWithExternalReferences;i&&i.forEach((r,o)=>{r.forEach(s=>{o.setAttribute(s.name,`url('${t}#${s.value}')`)})})}_cacheChildrenWithExternalReferences(t){const i=t.querySelectorAll(pQ),r=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let o=0;o<i.length;o++)jF.forEach(s=>{const a=i[o],l=a.getAttribute(s),c=l?l.match(mQ):null;if(c){let h=r.get(a);h||(h=[],r.set(a,h)),h.push({name:s,value:c[1]})}})}_updateSvgIcon(t){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),t){const[i,r]=this._splitIconName(t);i&&(this._svgNamespace=i),r&&(this._svgName=r),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(r,i).pipe(fi(1)).subscribe(o=>this._setSvgElement(o),o=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${i}:${r}! ${o.message}`))})}}static#e=this.\u0275fac=function(i){return new(i||n)(T(Ye),T(Sv),np("aria-hidden"),T(hQ),T(Oo),T(dQ,8))};static#t=this.\u0275cmp=Ft({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:8,hostBindings:function(i,r){2&i&&(Xt("data-mat-icon-type",r._usingFontIcon()?"font":"svg")("data-mat-icon-name",r._svgName||r.fontIcon)("data-mat-icon-namespace",r._svgNamespace||r.fontSet)("fontIcon",r._usingFontIcon()?r.fontIcon:null),Ht("mat-icon-inline",r.inline)("mat-icon-no-color","primary"!==r.color&&"accent"!==r.color&&"warn"!==r.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[Le],ngContentSelectors:oQ,decls:1,vars:0,template:function(i,r){1&i&&(Mr(),zt(0))},styles:["mat-icon,mat-icon.mat-primary,mat-icon.mat-accent,mat-icon.mat-warn{color:var(--mat-icon-color)}.mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0})}return n})(),gQ=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=at({type:n});static#n=this.\u0275inj=mt({imports:[Gn,Gn]})}return n})();const _Q=["mat-button",""],zF=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],HF=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"],vQ=["mat-fab",""],bQ=["mat-icon-button",""],EQ=["*"],wQ=[{selector:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{selector:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{selector:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{selector:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{selector:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab"]},{selector:"mat-mini-fab",mdcClasses:["mdc-fab","mdc-fab--mini","mat-mdc-mini-fab"]},{selector:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],IQ=bv(vv(lC(class{constructor(n){this._elementRef=n}})));let yC=(()=>{class n extends IQ{get ripple(){return this._rippleLoader?.getRipple(this._elementRef.nativeElement)}set ripple(t){this._rippleLoader?.attachRipple(this._elementRef.nativeElement,t)}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=si(t),this._updateRippleDisabled()}get disabled(){return this._disabled}set disabled(t){this._disabled=si(t),this._updateRippleDisabled()}constructor(t,i,r,o){super(t),this._platform=i,this._ngZone=r,this._animationMode=o,this._focusMonitor=he(Ac),this._rippleLoader=he(RY),this._isFab=!1,this._disableRipple=!1,this._disabled=!1,this._rippleLoader?.configureRipple(this._elementRef.nativeElement,{className:"mat-mdc-button-ripple"});const s=t.nativeElement.classList;for(const a of wQ)this._hasHostAttributes(a.selector)&&a.mdcClasses.forEach(l=>{s.add(l)})}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(t="program",i){t?this._focusMonitor.focusVia(this._elementRef.nativeElement,t,i):this._elementRef.nativeElement.focus(i)}_hasHostAttributes(...t){return t.some(i=>this._elementRef.nativeElement.hasAttribute(i))}_updateRippleDisabled(){this._rippleLoader?.setDisabled(this._elementRef.nativeElement,this.disableRipple||this.disabled)}static#e=this.\u0275fac=function(i){Iy()};static#t=this.\u0275dir=le({type:n,features:[Le]})}return n})(),Jp=(()=>{class n extends yC{constructor(t,i,r,o){super(t,i,r,o)}static#e=this.\u0275fac=function(i){return new(i||n)(T(Ye),T(zn),T(Ce),T(ar,8))};static#t=this.\u0275cmp=Ft({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:7,hostBindings:function(i,r){2&i&&(Xt("disabled",r.disabled||null),Ht("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-unthemed",!r.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[Le],attrs:_Q,ngContentSelectors:HF,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(i,r){1&i&&(Mr(zF),Lt(0,"span",0),zt(1),pe(2,"span",1),zt(3,1),ye(),zt(4,2),Lt(5,"span",2)(6,"span",3)),2&i&&Ht("mdc-button__ripple",!r._isFab)("mdc-fab__ripple",r._isFab)},styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(\n      100% + 4px\n    );width:calc(\n      100% + 4px\n    );display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{height:var(--mdc-text-button-container-height, 36px);border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, inherit)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button{height:var(--mdc-filled-button-container-height, 36px);border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color, transparent)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, inherit)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button{height:var(--mdc-protected-button-container-height, 36px);border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px));box-shadow:var(--mdc-protected-button-container-elevation, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color, transparent)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, inherit)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button.mdc-ripple-upgraded--background-focused,.mat-mdc-raised-button:not(.mdc-ripple-upgraded):focus{box-shadow:var(--mdc-protected-button-focus-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled):active{box-shadow:var(--mdc-protected-button-pressed-container-elevation, 0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button{height:var(--mdc-outlined-button-container-height, 36px);border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px));padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, inherit)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width, 1px));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width, 1px))}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-button .mat-ripple-element,.mat-mdc-unelevated-button .mat-ripple-element,.mat-mdc-raised-button .mat-ripple-element,.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button[disabled],.mat-mdc-unelevated-button[disabled],.mat-mdc-raised-button[disabled],.mat-mdc-outlined-button[disabled]{cursor:default;pointer-events:none}.mat-mdc-button .mat-mdc-button-touch-target,.mat-mdc-unelevated-button .mat-mdc-button-touch-target,.mat-mdc-raised-button .mat-mdc-button-touch-target,.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}[dir=rtl] .mat-mdc-button>.mat-icon,.mat-mdc-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}.mat-mdc-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon,.mat-mdc-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem;margin-left:-4px;margin-right:8px}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:-4px}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon,.mat-mdc-raised-button .mdc-button__label+.mat-icon,.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:-4px}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon,.mat-mdc-unelevated-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-raised-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-outlined-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:-4px;margin-right:8px}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px) * -1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0})}return n})();const CQ=new G("mat-mdc-fab-default-options",{providedIn:"root",factory:$F});function $F(){return{color:"accent"}}const WF=$F();let TQ=(()=>{class n extends yC{get extended(){return this._extended}set extended(t){this._extended=si(t)}constructor(t,i,r,o,s){super(t,i,r,o),this._options=s,this._isFab=!0,this._options=this._options||WF,this.color=this.defaultColor=this._options.color||WF.color}static#e=this.\u0275fac=function(i){return new(i||n)(T(Ye),T(zn),T(Ce),T(ar,8),T(CQ,8))};static#t=this.\u0275cmp=Ft({type:n,selectors:[["button","mat-fab",""]],hostVars:11,hostBindings:function(i,r){2&i&&(Xt("disabled",r.disabled||null),Ht("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-unthemed",!r.color)("mat-mdc-button-base",!0)("mdc-fab--extended",r.extended)("mat-mdc-extended-fab",r.extended))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex",extended:"extended"},exportAs:["matButton"],features:[Le],attrs:vQ,ngContentSelectors:HF,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(i,r){1&i&&(Mr(zF),Lt(0,"span",0),zt(1),pe(2,"span",1),zt(3,1),ye(),zt(4,2),Lt(5,"span",2)(6,"span",3)),2&i&&Ht("mdc-button__ripple",!r._isFab)("mdc-fab__ripple",r._isFab)},styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1);background-color:var(--mdc-elevation-overlay-color)}.mdc-fab{position:relative;display:inline-flex;position:relative;align-items:center;justify-content:center;box-sizing:border-box;width:56px;height:56px;padding:0;border:none;fill:currentColor;text-decoration:none;cursor:pointer;user-select:none;-moz-appearance:none;-webkit-appearance:none;overflow:visible;transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1),opacity 15ms linear 30ms,transform 270ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-fab .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-fab[hidden]{display:none}.mdc-fab::-moz-focus-inner{padding:0;border:0}.mdc-fab:hover{box-shadow:0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12)}.mdc-fab.mdc-ripple-upgraded--background-focused,.mdc-fab:not(.mdc-ripple-upgraded):focus{box-shadow:0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12)}.mdc-fab .mdc-fab__focus-ring{position:absolute}.mdc-fab.mdc-ripple-upgraded--background-focused .mdc-fab__focus-ring,.mdc-fab:not(.mdc-ripple-upgraded):focus .mdc-fab__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(\n      100% + 4px\n    );width:calc(\n      100% + 4px\n    )}@media screen and (forced-colors: active){.mdc-fab.mdc-ripple-upgraded--background-focused .mdc-fab__focus-ring,.mdc-fab:not(.mdc-ripple-upgraded):focus .mdc-fab__focus-ring{border-color:CanvasText}}.mdc-fab.mdc-ripple-upgraded--background-focused .mdc-fab__focus-ring::after,.mdc-fab:not(.mdc-ripple-upgraded):focus .mdc-fab__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-fab.mdc-ripple-upgraded--background-focused .mdc-fab__focus-ring::after,.mdc-fab:not(.mdc-ripple-upgraded):focus .mdc-fab__focus-ring::after{border-color:CanvasText}}.mdc-fab:active,.mdc-fab:focus:active{box-shadow:0px 7px 8px -4px rgba(0, 0, 0, 0.2), 0px 12px 17px 2px rgba(0, 0, 0, 0.14), 0px 5px 22px 4px rgba(0, 0, 0, 0.12)}.mdc-fab:active,.mdc-fab:focus{outline:none}.mdc-fab:hover{cursor:pointer}.mdc-fab>svg{width:100%}.mdc-fab--mini{width:40px;height:40px}.mdc-fab--extended{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mdc-typography-button-font-family);font-size:var(--mdc-typography-button-font-size);line-height:var(--mdc-typography-button-line-height);font-weight:var(--mdc-typography-button-font-weight);letter-spacing:var(--mdc-typography-button-letter-spacing);text-decoration:var(--mdc-typography-button-text-decoration);text-transform:var(--mdc-typography-button-text-transform);border-radius:24px;padding-left:20px;padding-right:20px;width:auto;max-width:100%;height:48px;line-height:normal}.mdc-fab--extended .mdc-fab__ripple{border-radius:24px}.mdc-fab--extended .mdc-fab__icon{margin-left:calc(12px - 20px);margin-right:12px}[dir=rtl] .mdc-fab--extended .mdc-fab__icon,.mdc-fab--extended .mdc-fab__icon[dir=rtl]{margin-left:12px;margin-right:calc(12px - 20px)}.mdc-fab--extended .mdc-fab__label+.mdc-fab__icon{margin-left:12px;margin-right:calc(12px - 20px)}[dir=rtl] .mdc-fab--extended .mdc-fab__label+.mdc-fab__icon,.mdc-fab--extended .mdc-fab__label+.mdc-fab__icon[dir=rtl]{margin-left:calc(12px - 20px);margin-right:12px}.mdc-fab--touch{margin-top:4px;margin-bottom:4px;margin-right:4px;margin-left:4px}.mdc-fab--touch .mdc-fab__touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mdc-fab::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-fab::before{border-color:CanvasText}}.mdc-fab__label{justify-content:flex-start;text-overflow:ellipsis;white-space:nowrap;overflow-x:hidden;overflow-y:visible}.mdc-fab__icon{transition:transform 180ms 90ms cubic-bezier(0, 0, 0.2, 1);fill:currentColor;will-change:transform}.mdc-fab .mdc-fab__icon{display:inline-flex;align-items:center;justify-content:center}.mdc-fab--exited{transform:scale(0);opacity:0;transition:opacity 15ms linear 150ms,transform 180ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-fab--exited .mdc-fab__icon{transform:scale(0);transition:transform 135ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mat-mdc-fab,.mat-mdc-mini-fab{background-color:var(--mdc-fab-container-color);--mdc-fab-container-shape:50%;--mdc-fab-icon-size:24px}.mat-mdc-fab .mdc-fab__icon,.mat-mdc-mini-fab .mdc-fab__icon{width:var(--mdc-fab-icon-size);height:var(--mdc-fab-icon-size);font-size:var(--mdc-fab-icon-size)}.mat-mdc-fab:not(:disabled) .mdc-fab__icon,.mat-mdc-mini-fab:not(:disabled) .mdc-fab__icon{color:var(--mdc-fab-icon-color)}.mat-mdc-fab:not(.mdc-fab--extended),.mat-mdc-mini-fab:not(.mdc-fab--extended){border-radius:var(--mdc-fab-container-shape)}.mat-mdc-fab:not(.mdc-fab--extended) .mdc-fab__ripple,.mat-mdc-mini-fab:not(.mdc-fab--extended) .mdc-fab__ripple{border-radius:var(--mdc-fab-container-shape)}.mat-mdc-extended-fab{font-family:var(--mdc-extended-fab-label-text-font);font-size:var(--mdc-extended-fab-label-text-size);font-weight:var(--mdc-extended-fab-label-text-weight);letter-spacing:var(--mdc-extended-fab-label-text-tracking)}.mat-mdc-fab,.mat-mdc-mini-fab{-webkit-tap-highlight-color:rgba(0,0,0,0);box-shadow:0px 3px 5px -1px rgba(0, 0, 0, 0.2), 0px 6px 10px 0px rgba(0, 0, 0, 0.14), 0px 1px 18px 0px rgba(0, 0, 0, 0.12);color:var(--mat-mdc-fab-color, inherit);flex-shrink:0}.mat-mdc-fab .mat-mdc-button-ripple,.mat-mdc-fab .mat-mdc-button-persistent-ripple,.mat-mdc-fab .mat-mdc-button-persistent-ripple::before,.mat-mdc-mini-fab .mat-mdc-button-ripple,.mat-mdc-mini-fab .mat-mdc-button-persistent-ripple,.mat-mdc-mini-fab .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-fab .mat-mdc-button-ripple,.mat-mdc-mini-fab .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-fab .mat-mdc-button-persistent-ripple::before,.mat-mdc-mini-fab .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-fab .mat-ripple-element,.mat-mdc-mini-fab .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-fab .mdc-button__label,.mat-mdc-mini-fab .mdc-button__label{z-index:1}.mat-mdc-fab .mat-mdc-focus-indicator,.mat-mdc-mini-fab .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-fab:focus .mat-mdc-focus-indicator::before,.mat-mdc-mini-fab:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-fab .mat-mdc-button-touch-target,.mat-mdc-mini-fab .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mat-mdc-fab._mat-animation-noopable,.mat-mdc-mini-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-fab:hover,.mat-mdc-fab:focus,.mat-mdc-mini-fab:hover,.mat-mdc-mini-fab:focus{box-shadow:0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12)}.mat-mdc-fab:active,.mat-mdc-fab:focus:active,.mat-mdc-mini-fab:active,.mat-mdc-mini-fab:focus:active{box-shadow:0px 7px 8px -4px rgba(0, 0, 0, 0.2), 0px 12px 17px 2px rgba(0, 0, 0, 0.14), 0px 5px 22px 4px rgba(0, 0, 0, 0.12)}.mat-mdc-fab[disabled],.mat-mdc-mini-fab[disabled]{cursor:default;pointer-events:none;box-shadow:0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12)}.mat-mdc-fab:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-mini-fab:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}.mat-mdc-fab .mat-icon,.mat-mdc-fab .material-icons,.mat-mdc-mini-fab .mat-icon,.mat-mdc-mini-fab .material-icons{transition:transform 180ms 90ms cubic-bezier(0, 0, 0.2, 1);fill:currentColor;will-change:transform}.mat-mdc-fab .mat-mdc-focus-indicator::before,.mat-mdc-mini-fab .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-extended-fab>.mat-icon,.mat-mdc-extended-fab>.material-icons{margin-left:calc(12px - 20px);margin-right:12px}[dir=rtl] .mat-mdc-extended-fab>.mat-icon,[dir=rtl] .mat-mdc-extended-fab>.material-icons,.mat-mdc-extended-fab>.mat-icon[dir=rtl],.mat-mdc-extended-fab>.material-icons[dir=rtl]{margin-left:12px;margin-right:calc(12px - 20px)}.mat-mdc-extended-fab .mdc-button__label+.mat-icon,.mat-mdc-extended-fab .mdc-button__label+.material-icons{margin-left:12px;margin-right:calc(12px - 20px)}[dir=rtl] .mat-mdc-extended-fab .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-extended-fab .mdc-button__label+.material-icons,.mat-mdc-extended-fab .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-extended-fab .mdc-button__label+.material-icons[dir=rtl]{margin-left:calc(12px - 20px);margin-right:12px}.mat-mdc-extended-fab .mat-mdc-button-touch-target{width:100%}'],encapsulation:2,changeDetection:0})}return n})(),Rv=(()=>{class n extends yC{constructor(t,i,r,o){super(t,i,r,o),this._rippleLoader.configureRipple(this._elementRef.nativeElement,{centered:!0})}static#e=this.\u0275fac=function(i){return new(i||n)(T(Ye),T(zn),T(Ce),T(ar,8))};static#t=this.\u0275cmp=Ft({type:n,selectors:[["button","mat-icon-button",""]],hostVars:7,hostBindings:function(i,r){2&i&&(Xt("disabled",r.disabled||null),Ht("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-unthemed",!r.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[Le],attrs:bQ,ngContentSelectors:EQ,decls:4,vars:0,consts:[[1,"mat-mdc-button-persistent-ripple","mdc-icon-button__ripple"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(i,r){1&i&&(Mr(),Lt(0,"span",0),zt(1),Lt(2,"span",1)(3,"span",2))},styles:['.mdc-icon-button{display:inline-block;position:relative;box-sizing:border-box;border:none;outline:none;background-color:rgba(0,0,0,0);fill:currentColor;color:inherit;text-decoration:none;cursor:pointer;user-select:none;z-index:0;overflow:visible}.mdc-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}@media screen and (forced-colors: active){.mdc-icon-button.mdc-ripple-upgraded--background-focused .mdc-icon-button__focus-ring,.mdc-icon-button:not(.mdc-ripple-upgraded):focus .mdc-icon-button__focus-ring{display:block}}.mdc-icon-button:disabled{cursor:default;pointer-events:none}.mdc-icon-button[hidden]{display:none}.mdc-icon-button--display-flex{align-items:center;display:inline-flex;justify-content:center}.mdc-icon-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%;display:none}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring{border-color:CanvasText}}.mdc-icon-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring::after{border-color:CanvasText}}.mdc-icon-button__icon{display:inline-block}.mdc-icon-button__icon.mdc-icon-button__icon--on{display:none}.mdc-icon-button--on .mdc-icon-button__icon{display:none}.mdc-icon-button--on .mdc-icon-button__icon.mdc-icon-button__icon--on{display:inline-block}.mdc-icon-button__link{height:100%;left:0;outline:none;position:absolute;top:0;width:100%}.mat-mdc-icon-button{height:var(--mdc-icon-button-state-layer-size);width:var(--mdc-icon-button-state-layer-size);color:var(--mdc-icon-button-icon-color);--mdc-icon-button-state-layer-size:48px;--mdc-icon-button-icon-size:24px;--mdc-icon-button-disabled-icon-color:black;--mdc-icon-button-disabled-icon-opacity:0.38}.mat-mdc-icon-button .mdc-button__icon{font-size:var(--mdc-icon-button-icon-size)}.mat-mdc-icon-button svg,.mat-mdc-icon-button img{width:var(--mdc-icon-button-icon-size);height:var(--mdc-icon-button-icon-size)}.mat-mdc-icon-button:disabled{opacity:var(--mdc-icon-button-disabled-icon-opacity)}.mat-mdc-icon-button:disabled{color:var(--mdc-icon-button-disabled-icon-color)}.mat-mdc-icon-button{padding:12px;font-size:var(--mdc-icon-button-icon-size);border-radius:50%;flex-shrink:0;text-align:center;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-icon-button svg{vertical-align:baseline}.mat-mdc-icon-button[disabled]{cursor:default;pointer-events:none;opacity:1}.mat-mdc-icon-button .mat-mdc-button-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-icon-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-icon-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-icon-button .mdc-button__label{z-index:1}.mat-mdc-icon-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-icon-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-icon-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mat-mdc-icon-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple{border-radius:50%}.mat-mdc-icon-button.mat-unthemed:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-primary:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-accent:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-warn:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0})}return n})(),qF=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=at({type:n});static#n=this.\u0275inj=mt({imports:[Gn,cC,Gn]})}return n})();const DQ=["*",[["mat-toolbar-row"]]],AQ=["*","mat-toolbar-row"],SQ=bv(class{constructor(n){this._elementRef=n}});let MQ=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=le({type:n,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]})}return n})(),RQ=(()=>{class n extends SQ{constructor(t,i,r){super(t),this._platform=i,this._document=r}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}static#e=this.\u0275fac=function(i){return new(i||n)(T(Ye),T(zn),T(nt))};static#t=this.\u0275cmp=Ft({type:n,selectors:[["mat-toolbar"]],contentQueries:function(i,r,o){if(1&i&&Zi(o,MQ,5),2&i){let s;Tt(s=Dt())&&(r._toolbarRows=s)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(i,r){2&i&&Ht("mat-toolbar-multiple-rows",r._toolbarRows.length>0)("mat-toolbar-single-row",0===r._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[Le],ngContentSelectors:AQ,decls:2,vars:0,template:function(i,r){1&i&&(Mr(DQ),zt(0),zt(1,1))},styles:[".mat-toolbar{background:var(--mat-toolbar-container-background-color);color:var(--mat-toolbar-container-text-color)}.mat-toolbar,.mat-toolbar h1,.mat-toolbar h2,.mat-toolbar h3,.mat-toolbar h4,.mat-toolbar h5,.mat-toolbar h6{font-family:var(--mat-toolbar-title-text-font);font-size:var(--mat-toolbar-title-text-size);line-height:var(--mat-toolbar-title-text-line-height);font-weight:var(--mat-toolbar-title-text-weight);letter-spacing:var(--mat-toolbar-title-text-tracking);margin:0}.cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar .mat-form-field-underline,.mat-toolbar .mat-form-field-ripple,.mat-toolbar .mat-focused .mat-form-field-ripple{background-color:currentColor}.mat-toolbar .mat-form-field-label,.mat-toolbar .mat-focused .mat-form-field-label,.mat-toolbar .mat-select-value,.mat-toolbar .mat-select-arrow,.mat-toolbar .mat-form-field.mat-focused .mat-select-arrow{color:inherit}.mat-toolbar .mat-input-element{caret-color:currentColor}.mat-toolbar .mat-mdc-button-base.mat-mdc-button-base.mat-unthemed{--mdc-text-button-label-text-color: inherit;--mdc-outlined-button-label-text-color: inherit}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap;height:var(--mat-toolbar-standard-height)}@media(max-width: 599px){.mat-toolbar-row,.mat-toolbar-single-row{height:var(--mat-toolbar-mobile-height)}}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%;min-height:var(--mat-toolbar-standard-height)}@media(max-width: 599px){.mat-toolbar-multiple-rows{min-height:var(--mat-toolbar-mobile-height)}}"],encapsulation:2,changeDetection:0})}return n})(),PQ=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=at({type:n});static#n=this.\u0275inj=mt({imports:[Gn,Gn]})}return n})();const kQ=["*"],VQ=new G("MAT_CARD_CONFIG");let vC=(()=>{class n{constructor(t){this.appearance=t?.appearance||"raised"}static#e=this.\u0275fac=function(i){return new(i||n)(T(VQ,8))};static#t=this.\u0275cmp=Ft({type:n,selectors:[["mat-card"]],hostAttrs:[1,"mat-mdc-card","mdc-card"],hostVars:4,hostBindings:function(i,r){2&i&&Ht("mat-mdc-card-outlined","outlined"===r.appearance)("mdc-card--outlined","outlined"===r.appearance)},inputs:{appearance:"appearance"},exportAs:["matCard"],ngContentSelectors:kQ,decls:1,vars:0,template:function(i,r){1&i&&(Mr(),zt(0))},styles:['.mdc-card{display:flex;flex-direction:column;box-sizing:border-box}.mdc-card::after{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none;pointer-events:none}@media screen and (forced-colors: active){.mdc-card::after{border-color:CanvasText}}.mdc-card--outlined::after{border:none}.mdc-card__content{border-radius:inherit;height:100%}.mdc-card__media{position:relative;box-sizing:border-box;background-repeat:no-repeat;background-position:center;background-size:cover}.mdc-card__media::before{display:block;content:""}.mdc-card__media:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__media:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mdc-card__media--square::before{margin-top:100%}.mdc-card__media--16-9::before{margin-top:56.25%}.mdc-card__media-content{position:absolute;top:0;right:0;bottom:0;left:0;box-sizing:border-box}.mdc-card__primary-action{display:flex;flex-direction:column;box-sizing:border-box;position:relative;outline:none;color:inherit;text-decoration:none;cursor:pointer;overflow:hidden}.mdc-card__primary-action:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__primary-action:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mdc-card__actions{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;min-height:52px;padding:8px}.mdc-card__actions--full-bleed{padding:0}.mdc-card__action-buttons,.mdc-card__action-icons{display:flex;flex-direction:row;align-items:center;box-sizing:border-box}.mdc-card__action-icons{color:rgba(0, 0, 0, 0.6);flex-grow:1;justify-content:flex-end}.mdc-card__action-buttons+.mdc-card__action-icons{margin-left:16px;margin-right:0}[dir=rtl] .mdc-card__action-buttons+.mdc-card__action-icons,.mdc-card__action-buttons+.mdc-card__action-icons[dir=rtl]{margin-left:0;margin-right:16px}.mdc-card__action{display:inline-flex;flex-direction:row;align-items:center;box-sizing:border-box;justify-content:center;cursor:pointer;user-select:none}.mdc-card__action:focus{outline:none}.mdc-card__action--button{margin-left:0;margin-right:8px;padding:0 8px}[dir=rtl] .mdc-card__action--button,.mdc-card__action--button[dir=rtl]{margin-left:8px;margin-right:0}.mdc-card__action--button:last-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-card__action--button:last-child,.mdc-card__action--button:last-child[dir=rtl]{margin-left:0;margin-right:0}.mdc-card__actions--full-bleed .mdc-card__action--button{justify-content:space-between;width:100%;height:auto;max-height:none;margin:0;padding:8px 16px;text-align:left}[dir=rtl] .mdc-card__actions--full-bleed .mdc-card__action--button,.mdc-card__actions--full-bleed .mdc-card__action--button[dir=rtl]{text-align:right}.mdc-card__action--icon{margin:-6px 0;padding:12px}.mdc-card__action--icon:not(:disabled){color:rgba(0, 0, 0, 0.6)}.mat-mdc-card{border-radius:var(--mdc-elevated-card-container-shape);background-color:var(--mdc-elevated-card-container-color);border-width:0;border-style:solid;border-color:var(--mdc-elevated-card-container-color);box-shadow:var(--mdc-elevated-card-container-elevation);--mdc-elevated-card-container-shape:4px;--mdc-outlined-card-container-shape:4px;--mdc-outlined-card-outline-width:1px}.mat-mdc-card .mdc-card::after{border-radius:var(--mdc-elevated-card-container-shape)}.mat-mdc-card-outlined{border-width:var(--mdc-outlined-card-outline-width);border-style:solid;border-color:var(--mdc-outlined-card-outline-color);border-radius:var(--mdc-outlined-card-container-shape);background-color:var(--mdc-outlined-card-container-color);box-shadow:var(--mdc-outlined-card-container-elevation)}.mat-mdc-card-outlined .mdc-card::after{border-radius:var(--mdc-outlined-card-container-shape)}.mat-mdc-card-title{font-family:var(--mat-card-title-text-font);line-height:var(--mat-card-title-text-line-height);font-size:var(--mat-card-title-text-size);letter-spacing:var(--mat-card-title-text-tracking);font-weight:var(--mat-card-title-text-weight)}.mat-mdc-card-subtitle{color:var(--mat-card-subtitle-text-color);font-family:var(--mat-card-subtitle-text-font);line-height:var(--mat-card-subtitle-text-line-height);font-size:var(--mat-card-subtitle-text-size);letter-spacing:var(--mat-card-subtitle-text-tracking);font-weight:var(--mat-card-subtitle-text-weight)}.mat-mdc-card{position:relative}.mat-mdc-card-title,.mat-mdc-card-subtitle{display:block;margin:0}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle{padding:16px 16px 0}.mat-mdc-card-header{display:flex;padding:16px 16px 0}.mat-mdc-card-content{display:block;padding:0 16px}.mat-mdc-card-content:first-child{padding-top:16px}.mat-mdc-card-content:last-child{padding-bottom:16px}.mat-mdc-card-title-group{display:flex;justify-content:space-between;width:100%}.mat-mdc-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;margin-bottom:16px;object-fit:cover}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title{line-height:normal}.mat-mdc-card-sm-image{width:80px;height:80px}.mat-mdc-card-md-image{width:112px;height:112px}.mat-mdc-card-lg-image{width:152px;height:152px}.mat-mdc-card-xl-image{width:240px;height:240px}.mat-mdc-card-subtitle~.mat-mdc-card-title,.mat-mdc-card-title~.mat-mdc-card-subtitle,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-title-group .mat-mdc-card-title,.mat-mdc-card-title-group .mat-mdc-card-subtitle{padding-top:0}.mat-mdc-card-content>:last-child:not(.mat-mdc-card-footer){margin-bottom:0}.mat-mdc-card-actions-align-end{justify-content:flex-end}'],encapsulation:2,changeDetection:0})}return n})(),BQ=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=at({type:n});static#n=this.\u0275inj=mt({imports:[Gn,Ld,Gn]})}return n})();const GF=Cc({passive:!0});let UQ=(()=>{class n{constructor(t,i){this._platform=t,this._ngZone=i,this._monitoredElements=new Map}monitor(t){if(!this._platform.isBrowser)return In;const i=ha(t),r=this._monitoredElements.get(i);if(r)return r.subject;const o=new F,s="cdk-text-field-autofilled",a=l=>{"cdk-text-field-autofill-start"!==l.animationName||i.classList.contains(s)?"cdk-text-field-autofill-end"===l.animationName&&i.classList.contains(s)&&(i.classList.remove(s),this._ngZone.run(()=>o.next({target:l.target,isAutofilled:!1}))):(i.classList.add(s),this._ngZone.run(()=>o.next({target:l.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{i.addEventListener("animationstart",a,GF),i.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(i,{subject:o,unlisten:()=>{i.removeEventListener("animationstart",a,GF)}}),o}stopMonitoring(t){const i=ha(t),r=this._monitoredElements.get(i);r&&(r.unlisten(),r.subject.complete(),i.classList.remove("cdk-text-field-autofill-monitored"),i.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(i))}ngOnDestroy(){this._monitoredElements.forEach((t,i)=>this.stopMonitoring(i))}static#e=this.\u0275fac=function(i){return new(i||n)(O(zn),O(Ce))};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),jQ=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=at({type:n});static#n=this.\u0275inj=mt({})}return n})(),ZF=(()=>{class n{constructor(t,i){this._renderer=t,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(t,i){this._renderer.setProperty(this._elementRef.nativeElement,t,i)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static#e=this.\u0275fac=function(i){return new(i||n)(T(sa),T(Ye))};static#t=this.\u0275dir=le({type:n})}return n})(),Rc=(()=>{class n extends ZF{static#e=this.\u0275fac=function(){let t;return function(r){return(t||(t=An(n)))(r||n)}}();static#t=this.\u0275dir=le({type:n,features:[Le]})}return n})();const Ts=new G("NgValueAccessor"),HQ={provide:Ts,useExisting:U(()=>Pv),multi:!0},WQ=new G("CompositionEventMode");let Pv=(()=>{class n extends ZF{constructor(t,i,r){super(t,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function $Q(){const n=ol()?ol().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static#e=this.\u0275fac=function(i){return new(i||n)(T(sa),T(Ye),T(WQ,8))};static#t=this.\u0275dir=le({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,r){1&i&&Ct("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},features:[Wt([HQ]),Le]})}return n})();function dl(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function YF(n){return null!=n&&"number"==typeof n.length}const cr=new G("NgValidators"),hl=new G("NgAsyncValidators"),qQ=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class GQ{static min(e){return function QF(n){return e=>{if(dl(e.value)||dl(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function XF(n){return e=>{if(dl(e.value)||dl(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return function JF(n){return dl(n.value)?{required:!0}:null}(e)}static requiredTrue(e){return function eL(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function tL(n){return dl(n.value)||qQ.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function nL(n){return e=>dl(e.value)||!YF(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function iL(n){return e=>YF(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return function rL(n){if(!n)return kv;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),i=>{if(dl(i.value))return null;const r=i.value;return e.test(r)?null:{pattern:{requiredPattern:t,actualValue:r}}}}(e)}static nullValidator(e){return null}static compose(e){return uL(e)}static composeAsync(e){return dL(e)}}function kv(n){return null}function oL(n){return null!=n}function sL(n){return Tp(n)?b(n):n}function aL(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function lL(n,e){return e.map(t=>t(n))}function cL(n){return n.map(e=>function ZQ(n){return!n.validate}(e)?e:t=>e.validate(t))}function uL(n){if(!n)return null;const e=n.filter(oL);return 0==e.length?null:function(t){return aL(lL(t,e))}}function bC(n){return null!=n?uL(cL(n)):null}function dL(n){if(!n)return null;const e=n.filter(oL);return 0==e.length?null:function(t){return IF(lL(t,e).map(sL)).pipe(de(aL))}}function EC(n){return null!=n?dL(cL(n)):null}function hL(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function fL(n){return n._rawValidators}function pL(n){return n._rawAsyncValidators}function wC(n){return n?Array.isArray(n)?n:[n]:[]}function Ov(n,e){return Array.isArray(n)?n.includes(e):n===e}function mL(n,e){const t=wC(e);return wC(n).forEach(r=>{Ov(t,r)||t.push(r)}),t}function gL(n,e){return wC(e).filter(t=>!Ov(n,t))}class _L{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=bC(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=EC(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Or extends _L{get formDirective(){return null}get path(){return null}}class pa extends _L{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class yL{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let vL=(()=>{class n extends yL{constructor(t){super(t)}static#e=this.\u0275fac=function(i){return new(i||n)(T(pa,2))};static#t=this.\u0275dir=le({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,r){2&i&&Ht("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[Le]})}return n})(),bL=(()=>{class n extends yL{constructor(t){super(t)}static#e=this.\u0275fac=function(i){return new(i||n)(T(Or,10))};static#t=this.\u0275dir=le({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,r){2&i&&Ht("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[Le]})}return n})();const em="VALID",Fv="INVALID",$d="PENDING",tm="DISABLED";function CC(n){return(Lv(n)?n.validators:n)||null}function TC(n,e){return(Lv(e)?e.asyncValidators:n)||null}function Lv(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class xL{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===em}get invalid(){return this.status===Fv}get pending(){return this.status==$d}get disabled(){return this.status===tm}get enabled(){return this.status!==tm}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(mL(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(mL(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(gL(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(gL(e,this._rawAsyncValidators))}hasValidator(e){return Ov(this._rawValidators,e)}hasAsyncValidator(e){return Ov(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=$d,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=tm,this.errors=null,this._forEachChild(i=>{i.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=em,this._forEachChild(i=>{i.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===em||this.status===$d)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?tm:em}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=$d,this._hasOwnPendingAsyncValidator=!0;const t=sL(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((i,r)=>i&&i._find(r),this)}getError(e,t){const i=t?this.get(t):this;return i&&i.errors?i.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new lt,this.statusChanges=new lt}_calculateStatus(){return this._allControlsDisabled()?tm:this.errors?Fv:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus($d)?$d:this._anyControlsHaveStatus(Fv)?Fv:em}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Lv(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function XQ(n){return Array.isArray(n)?bC(n):n||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function JQ(n){return Array.isArray(n)?EC(n):n||null}(this._rawAsyncValidators)}}class DC extends xL{constructor(e,t,i){super(CC(t),TC(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,i={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){(function IL(n,e,t){n._forEachChild((i,r)=>{if(void 0===t[r])throw new V(1002,"")})})(this,0,e),Object.keys(e).forEach(i=>{(function wL(n,e,t){const i=n.controls;if(!(e?Object.keys(i):i).length)throw new V(1e3,"");if(!i[t])throw new V(1001,"")})(this,!0,i),this.controls[i].setValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(i=>{const r=this.controls[i];r&&r.patchValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((i,r)=>{i.reset(e?e[r]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,i)=>(e[i]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,i)=>!!i._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const i=this.controls[t];i&&e(i,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,i]of Object.entries(this.controls))if(this.contains(t)&&e(i))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,i,r)=>((i.enabled||this.disabled)&&(t[r]=i.value),t))}_reduceChildren(e,t){let i=e;return this._forEachChild((r,o)=>{i=t(i,r,o)}),i}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}const Wd=new G("CallSetDisabledState",{providedIn:"root",factory:()=>Vv}),Vv="always";function nm(n,e,t=Vv){AC(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||"always"===t)&&e.valueAccessor.setDisabledState?.(n.disabled),function nX(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&CL(n,e)})}(n,e),function rX(n,e){const t=(i,r)=>{e.valueAccessor.writeValue(i),r&&e.viewToModelUpdate(i)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function iX(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&CL(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function tX(n,e){if(e.valueAccessor.setDisabledState){const t=i=>{e.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function Uv(n,e,t=!0){const i=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(i),e.valueAccessor.registerOnTouched(i)),zv(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function jv(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function AC(n,e){const t=fL(n);null!==e.validator?n.setValidators(hL(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const i=pL(n);null!==e.asyncValidator?n.setAsyncValidators(hL(i,e.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();jv(e._rawValidators,r),jv(e._rawAsyncValidators,r)}function zv(n,e){let t=!1;if(null!==n){if(null!==e.validator){const r=fL(n);if(Array.isArray(r)&&r.length>0){const o=r.filter(s=>s!==e.validator);o.length!==r.length&&(t=!0,n.setValidators(o))}}if(null!==e.asyncValidator){const r=pL(n);if(Array.isArray(r)&&r.length>0){const o=r.filter(s=>s!==e.asyncValidator);o.length!==r.length&&(t=!0,n.setAsyncValidators(o))}}}const i=()=>{};return jv(e._rawValidators,i),jv(e._rawAsyncValidators,i),t}function CL(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function TL(n,e){AC(n,e)}function DL(n,e){n._syncPendingControls(),e.forEach(t=>{const i=t.control;"submit"===i.updateOn&&i._pendingChange&&(t.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}const cX={provide:Or,useExisting:U(()=>rm)},im=(()=>Promise.resolve())();let rm=(()=>{class n extends Or{constructor(t,i,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._directives=new Set,this.ngSubmit=new lt,this.form=new DC({},bC(t),EC(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){im.then(()=>{const i=this._findContainer(t.path);t.control=i.registerControl(t.name,t.control),nm(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){im.then(()=>{const i=this._findContainer(t.path);i&&i.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){im.then(()=>{const i=this._findContainer(t.path),r=new DC({});TL(r,t),i.registerControl(t.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){im.then(()=>{const i=this._findContainer(t.path);i&&i.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,i){im.then(()=>{this.form.get(t.path).setValue(i)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,DL(this.form,this._directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}static#e=this.\u0275fac=function(i){return new(i||n)(T(cr,10),T(hl,10),T(Wd,8))};static#t=this.\u0275dir=le({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(i,r){1&i&&Ct("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Wt([cX]),Le]})}return n})();function AL(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function SL(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const ML=class extends xL{constructor(e=null,t,i){super(CC(t),TC(i,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Lv(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=SL(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){AL(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){AL(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){SL(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},hX={provide:pa,useExisting:U(()=>PC)},kL=(()=>Promise.resolve())();let PC=(()=>{class n extends pa{constructor(t,i,r,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this.control=new ML,this._registered=!1,this.name="",this.update=new lt,this._parent=t,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=function RC(n,e){if(!e)return null;let t,i,r;return Array.isArray(e),e.forEach(o=>{o.constructor===Pv?t=o:function aX(n){return Object.getPrototypeOf(n.constructor)===Rc}(o)?i=o:r=o}),r||i||t||null}(0,o)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const i=t.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),function MC(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){nm(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){kL.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const i=t.isDisabled.currentValue,r=0!==i&&Nd(i);kL.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?function Bv(n,e){return[...e.path,n]}(t,this._parent):[t]}static#e=this.\u0275fac=function(i){return new(i||n)(T(Or,9),T(cr,10),T(hl,10),T(Ts,10),T(Ki,8),T(Wd,8))};static#t=this.\u0275dir=le({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Wt([hX]),Le,ji]})}return n})(),OL=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=le({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return n})(),FL=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=at({type:n});static#n=this.\u0275inj=mt({})}return n})();const yX={provide:Or,useExisting:U(()=>Hv)};let Hv=(()=>{class n extends Or{constructor(t,i,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new lt,this._setValidators(t),this._setAsyncValidators(i)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(zv(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const i=this.form.get(t.path);return nm(i,t,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),i}getControl(t){return this.form.get(t.path)}removeControl(t){Uv(t.control||null,t,!1),function lX(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,i){this.form.get(t.path).setValue(i)}onSubmit(t){return this.submitted=!0,DL(this.form,this.directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const i=t.control,r=this.form.get(t.path);i!==r&&(Uv(i||null,t),(n=>n instanceof ML)(r)&&(nm(r,t,this.callSetDisabledState),t.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const i=this.form.get(t.path);TL(i,t),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const i=this.form.get(t.path);i&&function oX(n,e){return zv(n,e)}(i,t)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){AC(this.form,this),this._oldForm&&zv(this._oldForm,this)}_checkFormPresent(){}static#e=this.\u0275fac=function(i){return new(i||n)(T(cr,10),T(hl,10),T(Wd,8))};static#t=this.\u0275dir=le({type:n,selectors:[["","formGroup",""]],hostBindings:function(i,r){1&i&&Ct("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Wt([yX]),Le,ji]})}return n})(),FX=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=at({type:n});static#n=this.\u0275inj=mt({imports:[FL]})}return n})(),VX=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Wd,useValue:t.callSetDisabledState??Vv}]}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=at({type:n});static#n=this.\u0275inj=mt({imports:[FX]})}return n})();class BX extends F{constructor(e=1/0,t=1/0,i=Xx){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:o,_windowTime:s}=this;t||(i.push(e),!r&&i.push(o.now()+s)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:i,_buffer:r}=this,o=r.slice();for(let s=0;s<o.length&&!e.closed;s+=i?1:2)e.next(o[s]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:i,_infiniteTimeWindow:r}=this,o=(r?1:2)*e;if(e<1/0&&o<i.length&&i.splice(0,i.length-o),!r){const s=t.now();let a=0;for(let l=1;l<i.length&&i[l]<=s;l+=2)a=l;a&&i.splice(0,a+1)}}}function VC(n,e,t){let i,r=!1;return n&&"object"==typeof n?({bufferSize:i=1/0,windowTime:e=1/0,refCount:r=!1,scheduler:t}=n):i=n??1/0,Z({connector:()=>new BX(i,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}class UX{constructor(e){this._box=e,this._destroyed=new F,this._resizeSubject=new F,this._elementObservables=new Map,typeof ResizeObserver<"u"&&(this._resizeObserver=new ResizeObserver(t=>this._resizeSubject.next(t)))}observe(e){return this._elementObservables.has(e)||this._elementObservables.set(e,new Ke(t=>{const i=this._resizeSubject.subscribe(t);return this._resizeObserver?.observe(e,{box:this._box}),()=>{this._resizeObserver?.unobserve(e),i.unsubscribe(),this._elementObservables.delete(e)}}).pipe(_n(t=>t.some(i=>i.target===e)),VC({bufferSize:1,refCount:!0}),Yi(this._destroyed))),this._elementObservables.get(e)}destroy(){this._destroyed.next(),this._destroyed.complete(),this._resizeSubject.complete(),this._elementObservables.clear()}}let jX=(()=>{class n{constructor(){this._observers=new Map,this._ngZone=he(Ce)}ngOnDestroy(){for(const[,t]of this._observers)t.destroy();this._observers.clear()}observe(t,i){const r=i?.box||"content-box";return this._observers.has(r)||this._observers.set(r,new UX(r)),this._observers.get(r).observe(t)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class eV{}class zX{}const ma="*";function qd(n,e){return{type:7,name:n,definitions:e,options:{}}}function es(n,e=null){return{type:4,styles:e,timings:n}}function nV(n,e=null){return{type:2,steps:n,options:e}}function ai(n){return{type:6,styles:n,offset:null}}function Ds(n,e,t){return{type:0,name:n,styles:e,options:t}}function ts(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}class om{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class oV{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,i=0,r=0;const o=this.players.length;0==o?queueMicrotask(()=>this._onFinish()):this.players.forEach(s=>{s.onDone(()=>{++t==o&&this._onFinish()}),s.onDestroy(()=>{++i==o&&this._onDestroy()}),s.onStart(()=>{++r==o&&this._onStart()})}),this.totalTime=this.players.reduce((s,a)=>Math.max(s,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,t/i.totalTime):1;i.setPosition(r)})}getPosition(){const e=this.players.reduce((t,i)=>null===t||i.totalTime>t.totalTime?i:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}const HX=["notch"],$X=["matFormFieldNotchedOutline",""],WX=["*"],qX=["textField"],GX=["iconPrefixContainer"],ZX=["textPrefixContainer"];function KX(n,e){1&n&&Lt(0,"span",19)}function YX(n,e){if(1&n&&(pe(0,"label",17),zt(1,1),xt(2,KX,1,0,"span",18),ye()),2&n){const t=Jt(2);Ve("floating",t._shouldLabelFloat())("monitorResize",t._hasOutline())("id",t._labelId),Xt("for",t._control.id),He(2),Ve("ngIf",!t.hideRequiredMarker&&t._control.required)}}function QX(n,e){1&n&&xt(0,YX,3,5,"label",16),2&n&&Ve("ngIf",Jt()._hasFloatingLabel())}function XX(n,e){1&n&&Lt(0,"div",20)}function JX(n,e){}function eJ(n,e){1&n&&xt(0,JX,0,0,"ng-template",22),2&n&&(Jt(2),Ve("ngTemplateOutlet",gc(1)))}function tJ(n,e){if(1&n&&(pe(0,"div",21),xt(1,eJ,1,1,"ng-template",9),ye()),2&n){const t=Jt();Ve("matFormFieldNotchedOutlineOpen",t._shouldLabelFloat()),He(1),Ve("ngIf",!t._forceDisplayInfixLabel())}}function nJ(n,e){1&n&&(pe(0,"div",23,24),zt(2,2),ye())}function iJ(n,e){1&n&&(pe(0,"div",25,26),zt(2,3),ye())}function rJ(n,e){}function oJ(n,e){1&n&&xt(0,rJ,0,0,"ng-template",22),2&n&&(Jt(),Ve("ngTemplateOutlet",gc(1)))}function sJ(n,e){1&n&&(pe(0,"div",27),zt(1,4),ye())}function aJ(n,e){1&n&&(pe(0,"div",28),zt(1,5),ye())}function lJ(n,e){1&n&&Lt(0,"div",29)}function cJ(n,e){1&n&&(pe(0,"div",30),zt(1,6),ye()),2&n&&Ve("@transitionMessages",Jt()._subscriptAnimationState)}function uJ(n,e){if(1&n&&(pe(0,"mat-hint",34),Ot(1),ye()),2&n){const t=Jt(2);Ve("id",t._hintLabelId),He(1),nl(t.hintLabel)}}function dJ(n,e){if(1&n&&(pe(0,"div",31),xt(1,uJ,2,2,"mat-hint",32),zt(2,7),Lt(3,"div",33),zt(4,8),ye()),2&n){const t=Jt();Ve("@transitionMessages",t._subscriptAnimationState),He(1),Ve("ngIf",t.hintLabel)}}const hJ=["*",[["mat-label"]],[["","matPrefix",""],["","matIconPrefix",""]],[["","matTextPrefix",""]],[["","matTextSuffix",""]],[["","matSuffix",""],["","matIconSuffix",""]],[["mat-error"],["","matError",""]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],fJ=["*","mat-label","[matPrefix], [matIconPrefix]","[matTextPrefix]","[matTextSuffix]","[matSuffix], [matIconSuffix]","mat-error, [matError]","mat-hint:not([align='end'])","mat-hint[align='end']"];let sm=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=le({type:n,selectors:[["mat-label"]]})}return n})();const pJ=new G("MatError");let mJ=0,sV=(()=>{class n{constructor(){this.align="start",this.id="mat-mdc-hint-"+mJ++}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=le({type:n,selectors:[["mat-hint"]],hostAttrs:[1,"mat-mdc-form-field-hint","mat-mdc-form-field-bottom-align"],hostVars:4,hostBindings:function(i,r){2&i&&(Md("id",r.id),Xt("align",null),Ht("mat-mdc-form-field-hint-end","end"===r.align))},inputs:{align:"align",id:"id"}})}return n})();const gJ=new G("MatPrefix"),aV=new G("MatSuffix");let lV=(()=>{class n{constructor(){this._isText=!1}set _isTextSelector(t){this._isText=!0}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=le({type:n,selectors:[["","matSuffix",""],["","matIconSuffix",""],["","matTextSuffix",""]],inputs:{_isTextSelector:["matTextSuffix","_isTextSelector"]},features:[Wt([{provide:aV,useExisting:n}])]})}return n})();const cV=new G("FloatingLabelParent");let uV=(()=>{class n{get floating(){return this._floating}set floating(t){this._floating=t,this.monitorResize&&this._handleResize()}get monitorResize(){return this._monitorResize}set monitorResize(t){this._monitorResize=t,this._monitorResize?this._subscribeToResize():this._resizeSubscription.unsubscribe()}constructor(t){this._elementRef=t,this._floating=!1,this._monitorResize=!1,this._resizeObserver=he(jX),this._ngZone=he(Ce),this._parent=he(cV),this._resizeSubscription=new We}ngOnDestroy(){this._resizeSubscription.unsubscribe()}getWidth(){return function _J(n){if(null!==n.offsetParent)return n.scrollWidth;const t=n.cloneNode(!0);t.style.setProperty("position","absolute"),t.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(t);const i=t.scrollWidth;return t.remove(),i}(this._elementRef.nativeElement)}get element(){return this._elementRef.nativeElement}_handleResize(){setTimeout(()=>this._parent._handleLabelResized())}_subscribeToResize(){this._resizeSubscription.unsubscribe(),this._ngZone.runOutsideAngular(()=>{this._resizeSubscription=this._resizeObserver.observe(this._elementRef.nativeElement,{box:"border-box"}).subscribe(()=>this._handleResize())})}static#e=this.\u0275fac=function(i){return new(i||n)(T(Ye))};static#t=this.\u0275dir=le({type:n,selectors:[["label","matFormFieldFloatingLabel",""]],hostAttrs:[1,"mdc-floating-label","mat-mdc-floating-label"],hostVars:2,hostBindings:function(i,r){2&i&&Ht("mdc-floating-label--float-above",r.floating)},inputs:{floating:"floating",monitorResize:"monitorResize"}})}return n})();const dV="mdc-line-ripple--active",$v="mdc-line-ripple--deactivating";let hV=(()=>{class n{constructor(t,i){this._elementRef=t,this._handleTransitionEnd=r=>{const o=this._elementRef.nativeElement.classList,s=o.contains($v);"opacity"===r.propertyName&&s&&o.remove(dV,$v)},i.runOutsideAngular(()=>{t.nativeElement.addEventListener("transitionend",this._handleTransitionEnd)})}activate(){const t=this._elementRef.nativeElement.classList;t.remove($v),t.add(dV)}deactivate(){this._elementRef.nativeElement.classList.add($v)}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._handleTransitionEnd)}static#e=this.\u0275fac=function(i){return new(i||n)(T(Ye),T(Ce))};static#t=this.\u0275dir=le({type:n,selectors:[["div","matFormFieldLineRipple",""]],hostAttrs:[1,"mdc-line-ripple"]})}return n})(),fV=(()=>{class n{constructor(t,i){this._elementRef=t,this._ngZone=i,this.open=!1}ngAfterViewInit(){const t=this._elementRef.nativeElement.querySelector(".mdc-floating-label");t?(this._elementRef.nativeElement.classList.add("mdc-notched-outline--upgraded"),"function"==typeof requestAnimationFrame&&(t.style.transitionDuration="0s",this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>t.style.transitionDuration="")}))):this._elementRef.nativeElement.classList.add("mdc-notched-outline--no-label")}_setNotchWidth(t){this._notch.nativeElement.style.width=this.open&&t?`calc(${t}px * var(--mat-mdc-form-field-floating-label-scale, 0.75) + 9px)`:""}static#e=this.\u0275fac=function(i){return new(i||n)(T(Ye),T(Ce))};static#t=this.\u0275cmp=Ft({type:n,selectors:[["div","matFormFieldNotchedOutline",""]],viewQuery:function(i,r){if(1&i&&ii(HX,5),2&i){let o;Tt(o=Dt())&&(r._notch=o.first)}},hostAttrs:[1,"mdc-notched-outline"],hostVars:2,hostBindings:function(i,r){2&i&&Ht("mdc-notched-outline--notched",r.open)},inputs:{open:["matFormFieldNotchedOutlineOpen","open"]},attrs:$X,ngContentSelectors:WX,decls:5,vars:0,consts:[[1,"mdc-notched-outline__leading"],[1,"mdc-notched-outline__notch"],["notch",""],[1,"mdc-notched-outline__trailing"]],template:function(i,r){1&i&&(Mr(),Lt(0,"div",0),pe(1,"div",1,2),zt(3),ye(),Lt(4,"div",3))},encapsulation:2,changeDetection:0})}return n})();const yJ={transitionMessages:qd("transitionMessages",[Ds("enter",ai({opacity:1,transform:"translateY(0%)"})),ts("void => enter",[ai({opacity:0,transform:"translateY(-5px)"}),es("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let pV=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=le({type:n})}return n})();const mV=new G("MatFormField"),vJ=new G("MAT_FORM_FIELD_DEFAULT_OPTIONS");let gV=0,UC=(()=>{class n{get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(t){this._hideRequiredMarker=si(t)}get floatLabel(){return this._floatLabel||this._defaults?.floatLabel||"auto"}set floatLabel(t){t!==this._floatLabel&&(this._floatLabel=t,this._changeDetectorRef.markForCheck())}get appearance(){return this._appearance}set appearance(t){const i=this._appearance;this._appearance=t||this._defaults?.appearance||"fill","outline"===this._appearance&&this._appearance!==i&&(this._needsOutlineLabelOffsetUpdateOnStable=!0)}get subscriptSizing(){return this._subscriptSizing||this._defaults?.subscriptSizing||"fixed"}set subscriptSizing(t){this._subscriptSizing=t||this._defaults?.subscriptSizing||"fixed"}get hintLabel(){return this._hintLabel}set hintLabel(t){this._hintLabel=t,this._processHints()}get _control(){return this._explicitFormFieldControl||this._formFieldControl}set _control(t){this._explicitFormFieldControl=t}constructor(t,i,r,o,s,a,l,c){this._elementRef=t,this._changeDetectorRef=i,this._ngZone=r,this._dir=o,this._platform=s,this._defaults=a,this._animationMode=l,this._hideRequiredMarker=!1,this.color="primary",this._appearance="fill",this._subscriptSizing=null,this._hintLabel="",this._hasIconPrefix=!1,this._hasTextPrefix=!1,this._hasIconSuffix=!1,this._hasTextSuffix=!1,this._labelId="mat-mdc-form-field-label-"+gV++,this._hintLabelId="mat-mdc-hint-"+gV++,this._subscriptAnimationState="",this._destroyed=new F,this._isFocused=null,this._needsOutlineLabelOffsetUpdateOnStable=!1,a&&(a.appearance&&(this.appearance=a.appearance),this._hideRequiredMarker=!!a?.hideRequiredMarker,a.color&&(this.color=a.color))}ngAfterViewInit(){this._updateFocusState(),this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngAfterContentInit(){this._assertFormFieldControl(),this._initializeControl(),this._initializeSubscript(),this._initializePrefixAndSuffix(),this._initializeOutlineLabelOffsetSubscriptions()}ngAfterContentChecked(){this._assertFormFieldControl()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._textField||this._elementRef}_animateAndLockLabel(){this._hasFloatingLabel()&&(this.floatLabel="always")}_initializeControl(){const t=this._control;t.controlType&&this._elementRef.nativeElement.classList.add(`mat-mdc-form-field-type-${t.controlType}`),t.stateChanges.subscribe(()=>{this._updateFocusState(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),t.ngControl&&t.ngControl.valueChanges&&t.ngControl.valueChanges.pipe(Yi(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck())}_checkPrefixAndSuffixTypes(){this._hasIconPrefix=!!this._prefixChildren.find(t=>!t._isText),this._hasTextPrefix=!!this._prefixChildren.find(t=>t._isText),this._hasIconSuffix=!!this._suffixChildren.find(t=>!t._isText),this._hasTextSuffix=!!this._suffixChildren.find(t=>t._isText)}_initializePrefixAndSuffix(){this._checkPrefixAndSuffixTypes(),I(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._checkPrefixAndSuffixTypes(),this._changeDetectorRef.markForCheck()})}_initializeSubscript(){this._hintChildren.changes.subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._validateHints(),this._syncDescribedByIds()}_assertFormFieldControl(){}_updateFocusState(){this._control.focused&&!this._isFocused?(this._isFocused=!0,this._lineRipple?.activate()):!this._control.focused&&(this._isFocused||null===this._isFocused)&&(this._isFocused=!1,this._lineRipple?.deactivate()),this._textField?.nativeElement.classList.toggle("mdc-text-field--focused",this._control.focused)}_initializeOutlineLabelOffsetSubscriptions(){this._prefixChildren.changes.subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(Yi(this._destroyed)).subscribe(()=>{this._needsOutlineLabelOffsetUpdateOnStable&&(this._needsOutlineLabelOffsetUpdateOnStable=!1,this._updateOutlineLabelOffset())})}),this._dir.change.pipe(Yi(this._destroyed)).subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0)}_shouldAlwaysFloat(){return"always"===this.floatLabel}_hasOutline(){return"outline"===this.appearance}_forceDisplayInfixLabel(){return!this._platform.isBrowser&&this._prefixChildren.length&&!this._shouldLabelFloat()}_hasFloatingLabel(){return!!this._labelChildNonStatic||!!this._labelChildStatic}_shouldLabelFloat(){return this._control.shouldLabelFloat||this._shouldAlwaysFloat()}_shouldForward(t){const i=this._control?this._control.ngControl:null;return i&&i[t]}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_handleLabelResized(){this._refreshOutlineNotchWidth()}_refreshOutlineNotchWidth(){this._hasOutline()&&this._floatingLabel&&this._shouldLabelFloat()?this._notchedOutline?._setNotchWidth(this._floatingLabel.getWidth()):this._notchedOutline?._setNotchWidth(0)}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_syncDescribedByIds(){if(this._control){let t=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&t.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const i=this._hintChildren?this._hintChildren.find(o=>"start"===o.align):null,r=this._hintChildren?this._hintChildren.find(o=>"end"===o.align):null;i?t.push(i.id):this._hintLabel&&t.push(this._hintLabelId),r&&t.push(r.id)}else this._errorChildren&&t.push(...this._errorChildren.map(i=>i.id));this._control.setDescribedByIds(t)}}_updateOutlineLabelOffset(){if(!this._platform.isBrowser||!this._hasOutline()||!this._floatingLabel)return;const t=this._floatingLabel.element;if(!this._iconPrefixContainer&&!this._textPrefixContainer)return void(t.style.transform="");if(!this._isAttachedToDom())return void(this._needsOutlineLabelOffsetUpdateOnStable=!0);const i=this._iconPrefixContainer?.nativeElement,r=this._textPrefixContainer?.nativeElement,o=i?.getBoundingClientRect().width??0,s=r?.getBoundingClientRect().width??0;t.style.transform=`var(\n        --mat-mdc-form-field-label-transform,\n        translateY(-50%) translateX(calc(${"rtl"===this._dir.value?"-1":"1"} * (${o+s}px + var(--mat-mdc-form-field-label-offset-x, 0px))))\n    )`}_isAttachedToDom(){const t=this._elementRef.nativeElement;if(t.getRootNode){const i=t.getRootNode();return i&&i!==t}return document.documentElement.contains(t)}static#e=this.\u0275fac=function(i){return new(i||n)(T(Ye),T(Ki),T(Ce),T(Cs),T(zn),T(vJ,8),T(ar,8),T(nt))};static#t=this.\u0275cmp=Ft({type:n,selectors:[["mat-form-field"]],contentQueries:function(i,r,o){if(1&i&&(Zi(o,sm,5),Zi(o,sm,7),Zi(o,pV,5),Zi(o,gJ,5),Zi(o,aV,5),Zi(o,pJ,5),Zi(o,sV,5)),2&i){let s;Tt(s=Dt())&&(r._labelChildNonStatic=s.first),Tt(s=Dt())&&(r._labelChildStatic=s.first),Tt(s=Dt())&&(r._formFieldControl=s.first),Tt(s=Dt())&&(r._prefixChildren=s),Tt(s=Dt())&&(r._suffixChildren=s),Tt(s=Dt())&&(r._errorChildren=s),Tt(s=Dt())&&(r._hintChildren=s)}},viewQuery:function(i,r){if(1&i&&(ii(qX,5),ii(GX,5),ii(ZX,5),ii(uV,5),ii(fV,5),ii(hV,5)),2&i){let o;Tt(o=Dt())&&(r._textField=o.first),Tt(o=Dt())&&(r._iconPrefixContainer=o.first),Tt(o=Dt())&&(r._textPrefixContainer=o.first),Tt(o=Dt())&&(r._floatingLabel=o.first),Tt(o=Dt())&&(r._notchedOutline=o.first),Tt(o=Dt())&&(r._lineRipple=o.first)}},hostAttrs:[1,"mat-mdc-form-field"],hostVars:42,hostBindings:function(i,r){2&i&&Ht("mat-mdc-form-field-label-always-float",r._shouldAlwaysFloat())("mat-mdc-form-field-has-icon-prefix",r._hasIconPrefix)("mat-mdc-form-field-has-icon-suffix",r._hasIconSuffix)("mat-form-field-invalid",r._control.errorState)("mat-form-field-disabled",r._control.disabled)("mat-form-field-autofilled",r._control.autofilled)("mat-form-field-no-animations","NoopAnimations"===r._animationMode)("mat-form-field-appearance-fill","fill"==r.appearance)("mat-form-field-appearance-outline","outline"==r.appearance)("mat-form-field-hide-placeholder",r._hasFloatingLabel()&&!r._shouldLabelFloat())("mat-focused",r._control.focused)("mat-primary","accent"!==r.color&&"warn"!==r.color)("mat-accent","accent"===r.color)("mat-warn","warn"===r.color)("ng-untouched",r._shouldForward("untouched"))("ng-touched",r._shouldForward("touched"))("ng-pristine",r._shouldForward("pristine"))("ng-dirty",r._shouldForward("dirty"))("ng-valid",r._shouldForward("valid"))("ng-invalid",r._shouldForward("invalid"))("ng-pending",r._shouldForward("pending"))},inputs:{hideRequiredMarker:"hideRequiredMarker",color:"color",floatLabel:"floatLabel",appearance:"appearance",subscriptSizing:"subscriptSizing",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[Wt([{provide:mV,useExisting:n},{provide:cV,useExisting:n}])],ngContentSelectors:fJ,decls:18,vars:23,consts:[["labelTemplate",""],[1,"mat-mdc-text-field-wrapper","mdc-text-field",3,"click"],["textField",""],["class","mat-mdc-form-field-focus-overlay",4,"ngIf"],[1,"mat-mdc-form-field-flex"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen",4,"ngIf"],["class","mat-mdc-form-field-icon-prefix",4,"ngIf"],["class","mat-mdc-form-field-text-prefix",4,"ngIf"],[1,"mat-mdc-form-field-infix"],[3,"ngIf"],["class","mat-mdc-form-field-text-suffix",4,"ngIf"],["class","mat-mdc-form-field-icon-suffix",4,"ngIf"],["matFormFieldLineRipple","",4,"ngIf"],[1,"mat-mdc-form-field-subscript-wrapper","mat-mdc-form-field-bottom-align",3,"ngSwitch"],["class","mat-mdc-form-field-error-wrapper",4,"ngSwitchCase"],["class","mat-mdc-form-field-hint-wrapper",4,"ngSwitchCase"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id",4,"ngIf"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id"],["aria-hidden","true","class","mat-mdc-form-field-required-marker mdc-floating-label--required",4,"ngIf"],["aria-hidden","true",1,"mat-mdc-form-field-required-marker","mdc-floating-label--required"],[1,"mat-mdc-form-field-focus-overlay"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen"],[3,"ngTemplateOutlet"],[1,"mat-mdc-form-field-icon-prefix"],["iconPrefixContainer",""],[1,"mat-mdc-form-field-text-prefix"],["textPrefixContainer",""],[1,"mat-mdc-form-field-text-suffix"],[1,"mat-mdc-form-field-icon-suffix"],["matFormFieldLineRipple",""],[1,"mat-mdc-form-field-error-wrapper"],[1,"mat-mdc-form-field-hint-wrapper"],[3,"id",4,"ngIf"],[1,"mat-mdc-form-field-hint-spacer"],[3,"id"]],template:function(i,r){1&i&&(Mr(hJ),xt(0,QX,1,1,"ng-template",null,0,ZI),pe(2,"div",1,2),Ct("click",function(s){return r._control.onContainerClick(s)}),xt(4,XX,1,0,"div",3),pe(5,"div",4),xt(6,tJ,2,2,"div",5),xt(7,nJ,3,0,"div",6),xt(8,iJ,3,0,"div",7),pe(9,"div",8),xt(10,oJ,1,1,"ng-template",9),zt(11),ye(),xt(12,sJ,2,0,"div",10),xt(13,aJ,2,0,"div",11),ye(),xt(14,lJ,1,0,"div",12),ye(),pe(15,"div",13),xt(16,cJ,2,1,"div",14),xt(17,dJ,5,2,"div",15),ye()),2&i&&(He(2),Ht("mdc-text-field--filled",!r._hasOutline())("mdc-text-field--outlined",r._hasOutline())("mdc-text-field--no-label",!r._hasFloatingLabel())("mdc-text-field--disabled",r._control.disabled)("mdc-text-field--invalid",r._control.errorState),He(2),Ve("ngIf",!r._hasOutline()&&!r._control.disabled),He(2),Ve("ngIf",r._hasOutline()),He(1),Ve("ngIf",r._hasIconPrefix),He(1),Ve("ngIf",r._hasTextPrefix),He(2),Ve("ngIf",!r._hasOutline()||r._forceDisplayInfixLabel()),He(2),Ve("ngIf",r._hasTextSuffix),He(1),Ve("ngIf",r._hasIconSuffix),He(1),Ve("ngIf",!r._hasOutline()),He(1),Ht("mat-mdc-form-field-subscript-dynamic-size","dynamic"===r.subscriptSizing),Ve("ngSwitch",r._getDisplayedMessages()),He(1),Ve("ngSwitchCase","error"),He(1),Ve("ngSwitchCase","hint"))},dependencies:[xc,yN,sv,gN,sV,uV,fV,hV],styles:['.mdc-text-field{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:0;border-bottom-left-radius:0;display:inline-flex;align-items:baseline;padding:0 16px;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-text-field__input{height:28px;width:100%;min-width:0;border:none;border-radius:0;background:none;appearance:none;padding:0}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input::-webkit-calendar-picker-indicator{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}@media all{.mdc-text-field__input::placeholder{opacity:0}}@media all{.mdc-text-field__input:-ms-input-placeholder{opacity:0}}@media all{.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{opacity:1}}@media all{.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{opacity:1}}.mdc-text-field__affix{height:28px;opacity:0;white-space:nowrap}.mdc-text-field--label-floating .mdc-text-field__affix,.mdc-text-field--no-label .mdc-text-field__affix{opacity:1}@supports(-webkit-hyphens: none){.mdc-text-field--outlined .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field__affix--prefix,.mdc-text-field__affix--prefix[dir=rtl]{padding-left:2px;padding-right:0}.mdc-text-field--end-aligned .mdc-text-field__affix--prefix{padding-left:0;padding-right:12px}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--end-aligned .mdc-text-field__affix--prefix[dir=rtl]{padding-left:12px;padding-right:0}.mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field__affix--suffix,.mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:12px}.mdc-text-field--end-aligned .mdc-text-field__affix--suffix{padding-left:2px;padding-right:0}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--end-aligned .mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:2px}.mdc-text-field--filled{height:56px}.mdc-text-field--filled::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}.mdc-text-field--filled .mdc-floating-label{left:16px;right:initial}[dir=rtl] .mdc-text-field--filled .mdc-floating-label,.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:16px}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled.mdc-text-field--no-label::before{display:none}@supports(-webkit-hyphens: none){.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field--outlined{height:56px;overflow:visible}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1)}.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--outlined .mdc-text-field__input{height:100%}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:4px;border-bottom-left-radius:var(--mdc-shape-small, 4px)}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:4px;border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px, var(--mdc-shape-small, 4px))*2)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:4px;border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:4px;border-bottom-left-radius:var(--mdc-shape-small, 4px)}@supports(top: max(0%)){.mdc-text-field--outlined{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-right:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-left:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-right:max(16px, var(--mdc-shape-small, 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-right:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-right:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-right:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:initial}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:4px}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:rgba(0,0,0,0)}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mdc-text-field--textarea{flex-direction:column;align-items:center;width:auto;height:auto;padding:0}.mdc-text-field--textarea .mdc-floating-label{top:19px}.mdc-text-field--textarea .mdc-floating-label:not(.mdc-floating-label--float-above){transform:none}.mdc-text-field--textarea .mdc-text-field__input{flex-grow:1;height:auto;min-height:1.5rem;overflow-x:hidden;overflow-y:auto;box-sizing:border-box;resize:none;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--filled::before{display:none}.mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-10.25px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--filled .mdc-text-field__input{margin-top:23px;margin-bottom:9px}.mdc-text-field--textarea.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-27.25px) scale(1)}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-24.75px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label{top:18px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field__input{margin-bottom:2px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter{align-self:flex-end;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::after{display:inline-block;width:0;height:16px;content:"";vertical-align:-16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::before{display:none}.mdc-text-field__resizer{align-self:stretch;display:inline-flex;flex-direction:column;flex-grow:1;max-height:100%;max-width:100%;min-height:56px;min-width:fit-content;min-width:-moz-available;min-width:-webkit-fill-available;overflow:hidden;resize:both}.mdc-text-field--filled .mdc-text-field__resizer{transform:translateY(-1px)}.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateY(1px)}.mdc-text-field--outlined .mdc-text-field__resizer{transform:translateX(-1px) translateY(-1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer,.mdc-text-field--outlined .mdc-text-field__resizer[dir=rtl]{transform:translateX(1px) translateY(-1px)}.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateX(1px) translateY(1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input[dir=rtl],.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter[dir=rtl]{transform:translateX(-1px) translateY(1px)}.mdc-text-field--with-leading-icon{padding-left:0;padding-right:16px}[dir=rtl] .mdc-text-field--with-leading-icon,.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:16px;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 48px);left:48px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:48px}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label{left:36px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:36px}.mdc-text-field--with-leading-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) translateX(-32px) scale(1)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-37.25px) translateX(32px) scale(1)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) translateX(-32px) scale(0.75)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl],.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-34.75px) translateX(32px) scale(0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--with-trailing-icon{padding-left:16px;padding-right:0}[dir=rtl] .mdc-text-field--with-trailing-icon,.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0;padding-right:16px}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 64px)}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-trailing-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 96px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 96px / 0.75)}.mdc-text-field-helper-line{display:flex;justify-content:space-between;box-sizing:border-box}.mdc-text-field+.mdc-text-field-helper-line{padding-right:16px;padding-left:16px}.mdc-form-field>.mdc-text-field+label{align-self:flex-start}.mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--focused .mdc-notched-outline__trailing{border-width:2px}.mdc-text-field--focused+.mdc-text-field-helper-line .mdc-text-field-helper-text:not(.mdc-text-field-helper-text--validation-msg){opacity:1}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-text-field--focused.mdc-text-field--outlined.mdc-text-field--textarea .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--invalid+.mdc-text-field-helper-line .mdc-text-field-helper-text--validation-msg{opacity:1}.mdc-text-field--disabled{pointer-events:none}@media screen and (forced-colors: active){.mdc-text-field--disabled .mdc-text-field__input{background-color:Window}.mdc-text-field--disabled .mdc-floating-label{z-index:1}}.mdc-text-field--disabled .mdc-floating-label{cursor:default}.mdc-text-field--disabled.mdc-text-field--filled .mdc-text-field__ripple{display:none}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--end-aligned .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--end-aligned .mdc-text-field__input[dir=rtl]{text-align:left}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix{direction:ltr}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--leading,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--leading{order:1}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{order:2}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input{order:3}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{order:4}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--trailing,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--trailing{order:5}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--prefix{padding-right:12px}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--suffix{padding-left:2px}.mdc-floating-label{position:absolute;left:0;-webkit-transform-origin:left top;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform}[dir=rtl] .mdc-floating-label,.mdc-floating-label[dir=rtl]{right:0;left:auto;-webkit-transform-origin:right top;transform-origin:right top;text-align:right}.mdc-floating-label--float-above{cursor:auto}.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:1px;margin-right:0px;content:"*"}[dir=rtl] .mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after,.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)[dir=rtl]::after{margin-left:0;margin-right:1px}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline,.mdc-notched-outline[dir=rtl]{text-align:right}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{box-sizing:border-box;height:100%;pointer-events:none}.mdc-notched-outline__trailing{flex-grow:1}.mdc-notched-outline__notch{flex:0 0 auto;width:auto}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:133.3333333333%}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch,.mdc-notched-outline--notched .mdc-notched-outline__notch[dir=rtl]{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{z-index:1}.mdc-line-ripple::after{transform:scaleX(0);opacity:0;z-index:2}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{border-top:1px solid;border-bottom:1px solid}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;width:12px}[dir=rtl] .mdc-notched-outline__leading,.mdc-notched-outline__leading[dir=rtl]{border-left:none;border-right:1px solid}.mdc-notched-outline__trailing{border-left:none;border-right:1px solid}[dir=rtl] .mdc-notched-outline__trailing,.mdc-notched-outline__trailing[dir=rtl]{border-left:1px solid;border-right:none}.mdc-notched-outline__notch{max-width:calc(100% - 12px * 2)}.mdc-line-ripple::before{border-bottom-width:1px}.mdc-line-ripple::after{border-bottom-width:2px}.mdc-text-field--filled{--mdc-filled-text-field-active-indicator-height:1px;--mdc-filled-text-field-focus-active-indicator-height:2px;--mdc-filled-text-field-container-shape:4px;border-top-left-radius:var(--mdc-filled-text-field-container-shape);border-top-right-radius:var(--mdc-filled-text-field-container-shape);border-bottom-right-radius:0;border-bottom-left-radius:0}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-filled-text-field-caret-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-filled-text-field-error-caret-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-filled-text-field-input-text-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-filled-text-field-disabled-input-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-label-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-focus-label-text-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-disabled-label-text-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-error-label-text-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-error-focus-label-text-color)}.mdc-text-field--filled .mdc-floating-label{font-family:var(--mdc-filled-text-field-label-text-font);font-size:var(--mdc-filled-text-field-label-text-size);font-weight:var(--mdc-filled-text-field-label-text-weight);letter-spacing:var(--mdc-filled-text-field-label-text-tracking)}@media all{.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color)}}@media all{.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color)}}.mdc-text-field--filled:not(.mdc-text-field--disabled){background-color:var(--mdc-filled-text-field-container-color)}.mdc-text-field--filled.mdc-text-field--disabled{background-color:var(--mdc-filled-text-field-disabled-container-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-active-indicator-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-hover-active-indicator-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-focus-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-disabled-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-hover-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-error-focus-active-indicator-color)}.mdc-text-field--filled .mdc-line-ripple::before{border-bottom-width:var(--mdc-filled-text-field-active-indicator-height)}.mdc-text-field--filled .mdc-line-ripple::after{border-bottom-width:var(--mdc-filled-text-field-focus-active-indicator-height)}.mdc-text-field--outlined{--mdc-outlined-text-field-outline-width:1px;--mdc-outlined-text-field-focus-outline-width:2px;--mdc-outlined-text-field-container-shape:4px}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-outlined-text-field-caret-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-outlined-text-field-error-caret-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-outlined-text-field-input-text-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-outlined-text-field-disabled-input-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-label-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-focus-label-text-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--disabled .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-disabled-label-text-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-error-label-text-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-error-focus-label-text-color)}.mdc-text-field--outlined .mdc-floating-label{font-family:var(--mdc-outlined-text-field-label-text-font);font-size:var(--mdc-outlined-text-field-label-text-size);font-weight:var(--mdc-outlined-text-field-label-text-weight);letter-spacing:var(--mdc-outlined-text-field-label-text-tracking)}@media all{.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color)}}@media all{.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:var(--mdc-outlined-text-field-container-shape);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape)}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-left-radius:0}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px, var(--mdc-outlined-text-field-container-shape))}}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px, var(--mdc-outlined-text-field-container-shape))*2)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-left-radius:0}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:var(--mdc-outlined-text-field-container-shape);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape)}@supports(top: max(0%)){.mdc-text-field--outlined{padding-left:max(16px, calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px, var(--mdc-outlined-text-field-container-shape))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-left:max(16px, calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-right:max(16px, var(--mdc-outlined-text-field-container-shape))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-left:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-right:max(16px, var(--mdc-outlined-text-field-container-shape))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-right:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:max(16px, var(--mdc-outlined-text-field-container-shape))}}.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-right:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-left:max(16px, calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-right:max(16px, calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-hover-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-focus-outline-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--disabled .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--disabled .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-disabled-outline-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-error-outline-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-error-hover-outline-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-error-focus-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__trailing{border-width:var(--mdc-outlined-text-field-outline-width)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__trailing{border-width:var(--mdc-outlined-text-field-focus-outline-width)}.mat-mdc-form-field-textarea-control{vertical-align:middle;resize:vertical;box-sizing:border-box;height:auto;margin:0;padding:0;border:none;overflow:auto}.mat-mdc-form-field-input-control.mat-mdc-form-field-input-control{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font:inherit;letter-spacing:inherit;text-decoration:inherit;text-transform:inherit;border:none}.mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;line-height:normal;pointer-events:all}.mat-mdc-form-field:not(.mat-form-field-disabled) .mat-mdc-floating-label.mdc-floating-label{cursor:inherit}.mdc-text-field--no-label:not(.mdc-text-field--textarea) .mat-mdc-form-field-input-control.mdc-text-field__input,.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control{height:auto}.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control.mdc-text-field__input[type=color]{height:23px}.mat-mdc-text-field-wrapper{height:auto;flex:auto}.mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-left:0;--mat-mdc-form-field-label-offset-x: -16px}.mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-right:0}[dir=rtl] .mat-mdc-text-field-wrapper{padding-left:16px;padding-right:16px}[dir=rtl] .mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-left:0}[dir=rtl] .mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-right:0}.mat-form-field-disabled .mdc-text-field__input::placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-moz-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-webkit-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input:-ms-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-mdc-form-field-label-always-float .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}.mat-mdc-text-field-wrapper .mat-mdc-form-field-infix .mat-mdc-floating-label{left:auto;right:auto}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-text-field__input{display:inline-block}.mat-mdc-form-field .mat-mdc-text-field-wrapper.mdc-text-field .mdc-notched-outline__notch{padding-top:0}.mat-mdc-text-field-wrapper::before{content:none}.mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative}.mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-error-wrapper{position:absolute;top:0;left:0;right:0;padding:0 16px}.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-error-wrapper{position:static}.mat-mdc-form-field-bottom-align::before{content:"";display:inline-block;height:16px}.mat-mdc-form-field-bottom-align.mat-mdc-form-field-subscript-dynamic-size::before{content:unset}.mat-mdc-form-field-hint-end{order:1}.mat-mdc-form-field-hint-wrapper{display:flex}.mat-mdc-form-field-hint-spacer{flex:1 0 1em}.mat-mdc-form-field-error{display:block}.mat-mdc-form-field-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;opacity:0;pointer-events:none}select.mat-mdc-form-field-input-control{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box}select.mat-mdc-form-field-input-control:not(:disabled){cursor:pointer}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;right:0;top:50%;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{right:auto;left:0}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:15px}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:0;padding-left:15px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-mdc-text-field-wrapper{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-mdc-text-field-wrapper{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-mdc-text-field-wrapper{outline:dashed 3px}.cdk-high-contrast-active .mat-mdc-form-field.mat-focused .mdc-notched-outline{border:dashed 3px}.mat-mdc-form-field-input-control[type=date],.mat-mdc-form-field-input-control[type=datetime],.mat-mdc-form-field-input-control[type=datetime-local],.mat-mdc-form-field-input-control[type=month],.mat-mdc-form-field-input-control[type=week],.mat-mdc-form-field-input-control[type=time]{line-height:1}.mat-mdc-form-field-input-control::-webkit-datetime-edit{line-height:1;padding:0;margin-bottom:-2px}.mat-mdc-form-field{--mat-mdc-form-field-floating-label-scale: 0.75;display:inline-flex;flex-direction:column;min-width:0;text-align:left;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-container-text-font);line-height:var(--mat-form-field-container-text-line-height);font-size:var(--mat-form-field-container-text-size);letter-spacing:var(--mat-form-field-container-text-tracking);font-weight:var(--mat-form-field-container-text-weight)}[dir=rtl] .mat-mdc-form-field{text-align:right}.mat-mdc-form-field .mdc-text-field--outlined .mdc-floating-label--float-above{font-size:calc(var(--mat-form-field-outlined-label-text-populated-size) * var(--mat-mdc-form-field-floating-label-scale))}.mat-mdc-form-field .mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:var(--mat-form-field-outlined-label-text-populated-size)}.mat-mdc-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-mdc-text-field-wrapper{width:100%}.mat-mdc-form-field-icon-prefix,.mat-mdc-form-field-icon-suffix{align-self:center;line-height:0;pointer-events:auto;position:relative;z-index:1}.mat-mdc-form-field-icon-prefix,[dir=rtl] .mat-mdc-form-field-icon-suffix{padding:0 4px 0 0}.mat-mdc-form-field-icon-suffix,[dir=rtl] .mat-mdc-form-field-icon-prefix{padding:0 0 0 4px}.mat-mdc-form-field-icon-prefix>.mat-icon,.mat-mdc-form-field-icon-suffix>.mat-icon{padding:12px;box-sizing:content-box}.mat-mdc-form-field-subscript-wrapper .mat-icon,.mat-mdc-form-field label .mat-icon{width:1em;height:1em;font-size:inherit}.mat-mdc-form-field-infix{flex:auto;min-width:0;width:180px;position:relative;box-sizing:border-box}.mat-mdc-form-field .mdc-notched-outline__notch{margin-left:-1px;-webkit-clip-path:inset(-9em -999em -9em 1px);clip-path:inset(-9em -999em -9em 1px)}[dir=rtl] .mat-mdc-form-field .mdc-notched-outline__notch{margin-left:0;margin-right:-1px;-webkit-clip-path:inset(-9em 1px -9em -999em);clip-path:inset(-9em 1px -9em -999em)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__affix{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled.mdc-ripple-upgraded--background-focused .mdc-text-field__ripple::before,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea{transition:none}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-filled 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-filled{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-outlined{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon{0%{transform:translateX(calc(0% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}}[dir=rtl] .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined[dir=rtl] .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon-rtl{0%{transform:translateX(calc(0% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-floating-label{transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-standard 250ms 1}@keyframes mdc-floating-label-shake-float-above-standard{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-notched-outline .mdc-floating-label{max-width:calc(100% + 1px)}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:calc(133.3333333333% + 1px)}'],encapsulation:2,data:{animation:[yJ.transitionMessages]},changeDetection:0})}return n})(),jC=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=at({type:n});static#n=this.\u0275inj=mt({imports:[Gn,Ld,tC,Gn]})}return n})();const wJ=new G("MAT_INPUT_VALUE_ACCESSOR"),IJ=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let xJ=0;const CJ=xY(class{constructor(n,e,t,i){this._defaultErrorStateMatcher=n,this._parentForm=e,this._parentFormGroup=t,this.ngControl=i,this.stateChanges=new F}});let zC=(()=>{class n extends CJ{get disabled(){return this._disabled}set disabled(t){this._disabled=si(t),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(t){this._id=t||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(GQ.required)??!1}set required(t){this._required=si(t)}get type(){return this._type}set type(t){this._type=t||"text",this._validateType(),!this._isTextarea&&$N().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(t){t!==this.value&&(this._inputValueAccessor.value=t,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(t){this._readonly=si(t)}constructor(t,i,r,o,s,a,l,c,h,p){super(a,o,s,r),this._elementRef=t,this._platform=i,this._autofillMonitor=c,this._formField=p,this._uid="mat-input-"+xJ++,this.focused=!1,this.stateChanges=new F,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(w=>$N().has(w)),this._iOSKeyupListener=w=>{const x=w.target;!x.value&&0===x.selectionStart&&0===x.selectionEnd&&(x.setSelectionRange(1,1),x.setSelectionRange(0,0))};const g=this._elementRef.nativeElement,y=g.nodeName.toLowerCase();this._inputValueAccessor=l||g,this._previousNativeValue=this.value,this.id=this.id,i.IOS&&h.runOutsideAngular(()=>{t.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===y,this._isTextarea="textarea"===y,this._isInFormField=!!p,this._isNativeSelect&&(this.controlType=g.multiple?"mat-native-select-multiple":"mat-native-select")}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(t=>{this.autofilled=t.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&(this.updateErrorState(),null!==this.ngControl.disabled&&this.ngControl.disabled!==this.disabled&&(this.disabled=this.ngControl.disabled,this.stateChanges.next())),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(t){this._elementRef.nativeElement.focus(t)}_focusChanged(t){t!==this.focused&&(this.focused=t,this.stateChanges.next())}_onInput(){}_dirtyCheckNativeValue(){const t=this._elementRef.nativeElement.value;this._previousNativeValue!==t&&(this._previousNativeValue=t,this.stateChanges.next())}_dirtyCheckPlaceholder(){const t=this._getPlaceholder();if(t!==this._previousPlaceholder){const i=this._elementRef.nativeElement;this._previousPlaceholder=t,t?i.setAttribute("placeholder",t):i.removeAttribute("placeholder")}}_getPlaceholder(){return this.placeholder||null}_validateType(){IJ.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let t=this._elementRef.nativeElement.validity;return t&&t.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const t=this._elementRef.nativeElement,i=t.options[0];return this.focused||t.multiple||!this.empty||!!(t.selectedIndex>-1&&i&&i.label)}return this.focused||!this.empty}setDescribedByIds(t){t.length?this._elementRef.nativeElement.setAttribute("aria-describedby",t.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const t=this._elementRef.nativeElement;return this._isNativeSelect&&(t.multiple||t.size>1)}static#e=this.\u0275fac=function(i){return new(i||n)(T(Ye),T(zn),T(pa,10),T(rm,8),T(Hv,8),T(TY),T(wJ,10),T(UQ),T(Ce),T(mV,8))};static#t=this.\u0275dir=le({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-mdc-input-element"],hostVars:18,hostBindings:function(i,r){1&i&&Ct("focus",function(){return r._focusChanged(!0)})("blur",function(){return r._focusChanged(!1)})("input",function(){return r._onInput()}),2&i&&(Md("id",r.id)("disabled",r.disabled)("required",r.required),Xt("name",r.name||null)("readonly",r.readonly&&!r._isNativeSelect||null)("aria-invalid",r.empty&&r.required?null:r.errorState)("aria-required",r.required)("id",r.id),Ht("mat-input-server",r._isServer)("mat-mdc-form-field-textarea-control",r._isInFormField&&r._isTextarea)("mat-mdc-form-field-input-control",r._isInFormField)("mdc-text-field__input",r._isInFormField)("mat-mdc-native-select-inline",r._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[Wt([{provide:pV,useExisting:n}]),Le,ji]})}return n})(),TJ=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=at({type:n});static#n=this.\u0275inj=mt({imports:[Gn,jC,jC,jQ,Gn]})}return n})();class HC{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;null!=e&&(this._attachedHost=null,e.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class am extends HC{constructor(e,t,i,r,o){super(),this.component=e,this.viewContainerRef=t,this.injector=i,this.componentFactoryResolver=r,this.projectableNodes=o}}class Gd extends HC{constructor(e,t,i,r){super(),this.templateRef=e,this.viewContainerRef=t,this.context=i,this.injector=r}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}}class DJ extends HC{constructor(e){super(),this.element=e instanceof Ye?e.nativeElement:e}}class Wv{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){return e instanceof am?(this._attachedPortal=e,this.attachComponentPortal(e)):e instanceof Gd?(this._attachedPortal=e,this.attachTemplatePortal(e)):this.attachDomPortal&&e instanceof DJ?(this._attachedPortal=e,this.attachDomPortal(e)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class AJ extends Wv{constructor(e,t,i,r,o){super(),this.outletElement=e,this._componentFactoryResolver=t,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=s=>{const a=s.element,l=this._document.createComment("dom-portal");a.parentNode.insertBefore(l,a),this.outletElement.appendChild(a),this._attachedPortal=s,super.setDisposeFn(()=>{l.parentNode&&l.parentNode.replaceChild(a,l)})},this._document=o}attachComponentPortal(e){const i=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component);let r;return e.viewContainerRef?(r=e.viewContainerRef.createComponent(i,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector,e.projectableNodes||void 0),this.setDisposeFn(()=>r.destroy())):(r=i.create(e.injector||this._defaultInjector||pn.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=e,r}attachTemplatePortal(e){let t=e.viewContainerRef,i=t.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=t.indexOf(i);-1!==r&&t.remove(r)}),this._attachedPortal=e,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}let SJ=(()=>{class n extends Gd{constructor(t,i){super(t,i)}static#e=this.\u0275fac=function(i){return new(i||n)(T(qi),T(Gi))};static#t=this.\u0275dir=le({type:n,selectors:[["","cdkPortal",""]],exportAs:["cdkPortal"],features:[Le]})}return n})(),fl=(()=>{class n extends Wv{constructor(t,i,r){super(),this._componentFactoryResolver=t,this._viewContainerRef=i,this._isInitialized=!1,this.attached=new lt,this.attachDomPortal=o=>{const s=o.element,a=this._document.createComment("dom-portal");o.setAttachedHost(this),s.parentNode.insertBefore(a,s),this._getRootNode().appendChild(s),this._attachedPortal=o,super.setDisposeFn(()=>{a.parentNode&&a.parentNode.replaceChild(s,a)})},this._document=r}get portal(){return this._attachedPortal}set portal(t){this.hasAttached()&&!t&&!this._isInitialized||(this.hasAttached()&&super.detach(),t&&super.attach(t),this._attachedPortal=t||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(t){t.setAttachedHost(this);const i=null!=t.viewContainerRef?t.viewContainerRef:this._viewContainerRef,o=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),s=i.createComponent(o,i.length,t.injector||i.injector,t.projectableNodes||void 0);return i!==this._viewContainerRef&&this._getRootNode().appendChild(s.hostView.rootNodes[0]),super.setDisposeFn(()=>s.destroy()),this._attachedPortal=t,this._attachedRef=s,this.attached.emit(s),s}attachTemplatePortal(t){t.setAttachedHost(this);const i=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=t,this._attachedRef=i,this.attached.emit(i),i}_getRootNode(){const t=this._viewContainerRef.element.nativeElement;return t.nodeType===t.ELEMENT_NODE?t:t.parentNode}static#e=this.\u0275fac=function(i){return new(i||n)(T(pc),T(Gi),T(nt))};static#t=this.\u0275dir=le({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[Le]})}return n})(),Zd=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=at({type:n});static#n=this.\u0275inj=mt({})}return n})();const MJ=["addListener","removeListener"],RJ=["addEventListener","removeEventListener"],PJ=["on","off"];function Kd(n,e,t,i){if(C(t)&&(i=t,t=void 0),i)return Kd(n,e,t).pipe(nC(i));const[r,o]=function NJ(n){return C(n.addEventListener)&&C(n.removeEventListener)}(n)?RJ.map(s=>a=>n[s](e,a,t)):function kJ(n){return C(n.addListener)&&C(n.removeListener)}(n)?MJ.map(vV(n,e)):function OJ(n){return C(n.on)&&C(n.off)}(n)?PJ.map(vV(n,e)):[];if(!r&&It(n))return Ut(s=>Kd(s,e,t))(_t(n));if(!r)throw new TypeError("Invalid event target");return new Ke(s=>{const a=(...l)=>s.next(1<l.length?l:l[0]);return r(a),()=>o(a)})}function vV(n,e){return t=>i=>n[t](e,i)}function $C(n=0,e,t=PK){let i=-1;return null!=e&&(On(e)?t=e:i=e),new Ke(r=>{let o=function FJ(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;o<0&&(o=0);let s=0;return t.schedule(function(){r.closed||(r.next(s++),0<=i?this.schedule(void 0,i):r.complete())},o)})}const lm={schedule(n){let e=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:i}=lm;i&&(e=i.requestAnimationFrame,t=i.cancelAnimationFrame);const r=e(o=>{t=void 0,n(o)});return new We(()=>t?.(r))},requestAnimationFrame(...n){const{delegate:e}=lm;return(e?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:e}=lm;return(e?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0};new class VJ extends pv{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;e=e||i.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=i[0])&&e.id===t&&i.shift());if(this._active=!1,r){for(;(e=i[0])&&e.id===t&&i.shift();)e.unsubscribe();throw r}}}(class LJ extends fv{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=lm.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(e,t,i);const{actions:o}=e;null!=t&&(null===(r=o[o.length-1])||void 0===r?void 0:r.id)!==t&&(lm.cancelAnimationFrame(t),e._scheduled=void 0)}});let WC,UJ=1;const qv={};function bV(n){return n in qv&&(delete qv[n],!0)}const jJ={setImmediate(n){const e=UJ++;return qv[e]=!0,WC||(WC=Promise.resolve()),WC.then(()=>bV(e)&&n()),e},clearImmediate(n){bV(n)}},{setImmediate:zJ,clearImmediate:HJ}=jJ,Gv={setImmediate(...n){const{delegate:e}=Gv;return(e?.setImmediate||zJ)(...n)},clearImmediate(n){const{delegate:e}=Gv;return(e?.clearImmediate||HJ)(n)},delegate:void 0},qC=new class WJ extends pv{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;e=e||i.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=i[0])&&e.id===t&&i.shift());if(this._active=!1,r){for(;(e=i[0])&&e.id===t&&i.shift();)e.unsubscribe();throw r}}}(class $J extends fv{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=Gv.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,t,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(e,t,i);const{actions:o}=e;null!=t&&(null===(r=o[o.length-1])||void 0===r?void 0:r.id)!==t&&(Gv.clearImmediate(t),e._scheduled===t&&(e._scheduled=void 0))}});function EV(n,e=Bd){return function qJ(n){return X((e,t)=>{let i=!1,r=null,o=null,s=!1;const a=()=>{if(o?.unsubscribe(),o=null,i){i=!1;const c=r;r=null,t.next(c)}s&&t.complete()},l=()=>{o=null,s&&t.complete()};e.subscribe(fe(t,c=>{i=!0,r=c,o||_t(n(c)).subscribe(o=fe(t,a,l))},()=>{s=!0,(!i||!o||o.closed)&&t.complete()}))})}(()=>$C(n,e))}let ZJ=(()=>{class n{constructor(t,i,r){this._ngZone=t,this._platform=i,this._scrolled=new F,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const i=this.scrollContainers.get(t);i&&(i.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new Ke(i=>{this._globalSubscription||this._addGlobalListener();const r=t>0?this._scrolled.pipe(EV(t)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):A()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(t,i){const r=this.getAncestorScrollContainers(t);return this.scrolled(i).pipe(_n(o=>!o||r.indexOf(o)>-1))}getAncestorScrollContainers(t){const i=[];return this.scrollContainers.forEach((r,o)=>{this._scrollableContainsElement(o,t)&&i.push(o)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,i){let r=ha(i),o=t.getElementRef().nativeElement;do{if(r==o)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>Kd(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}static#e=this.\u0275fac=function(i){return new(i||n)(O(Ce),O(zn),O(nt,8))};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),cm=(()=>{class n{constructor(t,i,r){this._platform=t,this._change=new F,this._changeListener=o=>{this._change.next(o)},this._document=r,i.runOutsideAngular(()=>{if(t.isBrowser){const o=this._getWindow();o.addEventListener("resize",this._changeListener),o.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+r,right:t.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,i=this._getWindow(),r=t.documentElement,o=r.getBoundingClientRect();return{top:-o.top||t.body.scrollTop||i.scrollY||r.scrollTop||0,left:-o.left||t.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(EV(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}static#e=this.\u0275fac=function(i){return new(i||n)(O(zn),O(Ce),O(nt,8))};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),GC=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=at({type:n});static#n=this.\u0275inj=mt({})}return n})(),wV=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=at({type:n});static#n=this.\u0275inj=mt({imports:[Gp,GC,Gp,GC]})}return n})();function YJ(n,e){}const QJ=function(n){return{animationDuration:n}},XJ=function(n,e){return{value:n,params:e}};function JJ(n,e){1&n&&zt(0)}const IV=["*"],eee=["tabListContainer"],tee=["tabList"],nee=["tabListInner"],iee=["nextPaginator"],ree=["previousPaginator"],oee=["tabBodyWrapper"],see=["tabHeader"];function aee(n,e){}function lee(n,e){1&n&&xt(0,aee,0,0,"ng-template",14),2&n&&Ve("cdkPortalOutlet",Jt().$implicit.templateLabel)}function cee(n,e){1&n&&Ot(0),2&n&&nl(Jt().$implicit.textLabel)}function uee(n,e){if(1&n){const t=el();pe(0,"div",6,7),Ct("click",function(){const r=rr(t),o=r.$implicit,s=r.index,a=Jt(),l=gc(1);return Ri(a._handleClick(o,l,s))})("cdkFocusChange",function(r){const s=rr(t).index;return Ri(Jt()._tabFocusChanged(r,s))}),Lt(2,"span",8)(3,"div",9),pe(4,"span",10)(5,"span",11),xt(6,lee,1,1,"ng-template",12),xt(7,cee,1,1,"ng-template",null,13,ZI),ye()()()}if(2&n){const t=e.$implicit,i=e.index,r=gc(1),o=gc(8),s=Jt();Ht("mdc-tab--active",s.selectedIndex===i),Ve("id",s._getTabLabelId(i))("ngClass",t.labelClass)("disabled",t.disabled)("fitInkBarToContent",s.fitInkBarToContent),Xt("tabIndex",s._getTabIndex(i))("aria-posinset",i+1)("aria-setsize",s._tabs.length)("aria-controls",s._getTabContentId(i))("aria-selected",s.selectedIndex===i)("aria-label",t.ariaLabel||null)("aria-labelledby",!t.ariaLabel&&t.ariaLabelledby?t.ariaLabelledby:null),He(3),Ve("matRippleTrigger",r)("matRippleDisabled",t.disabled||s.disableRipple),He(3),Ve("ngIf",t.templateLabel)("ngIfElse",o)}}function dee(n,e){if(1&n){const t=el();pe(0,"mat-tab-body",15),Ct("_onCentered",function(){return rr(t),Ri(Jt()._removeTabBodyWrapperHeight())})("_onCentering",function(r){return rr(t),Ri(Jt()._setTabBodyWrapperHeight(r))}),ye()}if(2&n){const t=e.$implicit,i=e.index,r=Jt();Ht("mat-mdc-tab-body-active",r.selectedIndex===i),Ve("id",r._getTabContentId(i))("ngClass",t.bodyClass)("content",t.content)("position",t.position)("origin",t.origin)("animationDuration",r.animationDuration)("preserveContent",r.preserveContent),Xt("tabindex",null!=r.contentTabIndex&&r.selectedIndex===i?r.contentTabIndex:null)("aria-labelledby",r._getTabLabelId(i))("aria-hidden",r.selectedIndex!==i)}}const hee={translateTab:qd("translateTab",[Ds("center, void, left-origin-center, right-origin-center",ai({transform:"none"})),Ds("left",ai({transform:"translate3d(-100%, 0, 0)",minHeight:"1px",visibility:"hidden"})),Ds("right",ai({transform:"translate3d(100%, 0, 0)",minHeight:"1px",visibility:"hidden"})),ts("* => left, * => right, left => center, right => center",es("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")),ts("void => left-origin-center",[ai({transform:"translate3d(-100%, 0, 0)",visibility:"hidden"}),es("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")]),ts("void => right-origin-center",[ai({transform:"translate3d(100%, 0, 0)",visibility:"hidden"}),es("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")])])};let fee=(()=>{class n extends fl{constructor(t,i,r,o){super(t,i,o),this._host=r,this._centeringSub=We.EMPTY,this._leavingSub=We.EMPTY}ngOnInit(){super.ngOnInit(),this._centeringSub=this._host._beforeCentering.pipe(lo(this._host._isCenterPosition(this._host._position))).subscribe(t=>{t&&!this.hasAttached()&&this.attach(this._host._content)}),this._leavingSub=this._host._afterLeavingCenter.subscribe(()=>{this._host.preserveContent||this.detach()})}ngOnDestroy(){super.ngOnDestroy(),this._centeringSub.unsubscribe(),this._leavingSub.unsubscribe()}static#e=this.\u0275fac=function(i){return new(i||n)(T(pc),T(Gi),T(U(()=>xV)),T(nt))};static#t=this.\u0275dir=le({type:n,selectors:[["","matTabBodyHost",""]],features:[Le]})}return n})(),pee=(()=>{class n{set position(t){this._positionIndex=t,this._computePositionAnimationState()}constructor(t,i,r){this._elementRef=t,this._dir=i,this._dirChangeSubscription=We.EMPTY,this._translateTabComplete=new F,this._onCentering=new lt,this._beforeCentering=new lt,this._afterLeavingCenter=new lt,this._onCentered=new lt(!0),this.animationDuration="500ms",this.preserveContent=!1,i&&(this._dirChangeSubscription=i.change.subscribe(o=>{this._computePositionAnimationState(o),r.markForCheck()})),this._translateTabComplete.pipe(Ue((o,s)=>o.fromState===s.fromState&&o.toState===s.toState)).subscribe(o=>{this._isCenterPosition(o.toState)&&this._isCenterPosition(this._position)&&this._onCentered.emit(),this._isCenterPosition(o.fromState)&&!this._isCenterPosition(this._position)&&this._afterLeavingCenter.emit()})}ngOnInit(){"center"==this._position&&null!=this.origin&&(this._position=this._computePositionFromOrigin(this.origin))}ngOnDestroy(){this._dirChangeSubscription.unsubscribe(),this._translateTabComplete.complete()}_onTranslateTabStarted(t){const i=this._isCenterPosition(t.toState);this._beforeCentering.emit(i),i&&this._onCentering.emit(this._elementRef.nativeElement.clientHeight)}_getLayoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_isCenterPosition(t){return"center"==t||"left-origin-center"==t||"right-origin-center"==t}_computePositionAnimationState(t=this._getLayoutDirection()){this._position=this._positionIndex<0?"ltr"==t?"left":"right":this._positionIndex>0?"ltr"==t?"right":"left":"center"}_computePositionFromOrigin(t){const i=this._getLayoutDirection();return"ltr"==i&&t<=0||"rtl"==i&&t>0?"left-origin-center":"right-origin-center"}static#e=this.\u0275fac=function(i){return new(i||n)(T(Ye),T(Cs,8),T(Ki))};static#t=this.\u0275dir=le({type:n,inputs:{_content:["content","_content"],origin:"origin",animationDuration:"animationDuration",preserveContent:"preserveContent",position:"position"},outputs:{_onCentering:"_onCentering",_beforeCentering:"_beforeCentering",_afterLeavingCenter:"_afterLeavingCenter",_onCentered:"_onCentered"}})}return n})(),xV=(()=>{class n extends pee{constructor(t,i,r){super(t,i,r)}static#e=this.\u0275fac=function(i){return new(i||n)(T(Ye),T(Cs,8),T(Ki))};static#t=this.\u0275cmp=Ft({type:n,selectors:[["mat-tab-body"]],viewQuery:function(i,r){if(1&i&&ii(fl,5),2&i){let o;Tt(o=Dt())&&(r._portalHost=o.first)}},hostAttrs:[1,"mat-mdc-tab-body"],features:[Le],decls:3,vars:6,consts:[["cdkScrollable","",1,"mat-mdc-tab-body-content"],["content",""],["matTabBodyHost",""]],template:function(i,r){1&i&&(pe(0,"div",0,1),Ct("@translateTab.start",function(s){return r._onTranslateTabStarted(s)})("@translateTab.done",function(s){return r._translateTabComplete.next(s)}),xt(2,YJ,0,0,"ng-template",2),ye()),2&i&&Ve("@translateTab",O1(3,XJ,r._position,k1(1,QJ,r.animationDuration)))},dependencies:[fee],styles:['.mat-mdc-tab-body{top:0;left:0;right:0;bottom:0;position:absolute;display:block;overflow:hidden;outline:0;flex-basis:100%}.mat-mdc-tab-body.mat-mdc-tab-body-active{position:relative;overflow-x:hidden;overflow-y:auto;z-index:1;flex-grow:1}.mat-mdc-tab-group.mat-mdc-tab-group-dynamic-height .mat-mdc-tab-body.mat-mdc-tab-body-active{overflow-y:hidden}.mat-mdc-tab-body-content{height:100%;overflow:auto}.mat-mdc-tab-group-dynamic-height .mat-mdc-tab-body-content{overflow:hidden}.mat-mdc-tab-body-content[style*="visibility: hidden"]{display:none}'],encapsulation:2,data:{animation:[hee.translateTab]}})}return n})();const mee=new G("MatTabContent");let gee=(()=>{class n{constructor(t){this.template=t}static#e=this.\u0275fac=function(i){return new(i||n)(T(qi))};static#t=this.\u0275dir=le({type:n,selectors:[["","matTabContent",""]],features:[Wt([{provide:mee,useExisting:n}])]})}return n})();const _ee=new G("MatTabLabel"),CV=new G("MAT_TAB");let yee=(()=>{class n extends SJ{constructor(t,i,r){super(t,i),this._closestTab=r}static#e=this.\u0275fac=function(i){return new(i||n)(T(qi),T(Gi),T(CV,8))};static#t=this.\u0275dir=le({type:n,selectors:[["","mat-tab-label",""],["","matTabLabel",""]],features:[Wt([{provide:_ee,useExisting:n}]),Le]})}return n})();const ZC="mdc-tab-indicator--active",TV="mdc-tab-indicator--no-transition";class vee{constructor(e){this._items=e}hide(){this._items.forEach(e=>e.deactivateInkBar())}alignToElement(e){const t=this._items.find(r=>r.elementRef.nativeElement===e),i=this._currentItem;if(t!==i&&(i?.deactivateInkBar(),t)){const r=i?.elementRef.nativeElement.getBoundingClientRect?.();t.activateInkBar(r),this._currentItem=t}}}function bee(n){return class extends n{constructor(...e){super(...e),this._fitToContent=!1}get fitInkBarToContent(){return this._fitToContent}set fitInkBarToContent(e){const t=si(e);this._fitToContent!==t&&(this._fitToContent=t,this._inkBarElement&&this._appendInkBarElement())}activateInkBar(e){const t=this.elementRef.nativeElement;if(!e||!t.getBoundingClientRect||!this._inkBarContentElement)return void t.classList.add(ZC);const i=t.getBoundingClientRect(),r=e.width/i.width,o=e.left-i.left;t.classList.add(TV),this._inkBarContentElement.style.setProperty("transform",`translateX(${o}px) scaleX(${r})`),t.getBoundingClientRect(),t.classList.remove(TV),t.classList.add(ZC),this._inkBarContentElement.style.setProperty("transform","")}deactivateInkBar(){this.elementRef.nativeElement.classList.remove(ZC)}ngOnInit(){this._createInkBarElement()}ngOnDestroy(){this._inkBarElement?.remove(),this._inkBarElement=this._inkBarContentElement=null}_createInkBarElement(){const e=this.elementRef.nativeElement.ownerDocument||document;this._inkBarElement=e.createElement("span"),this._inkBarContentElement=e.createElement("span"),this._inkBarElement.className="mdc-tab-indicator",this._inkBarContentElement.className="mdc-tab-indicator__content mdc-tab-indicator__content--underline",this._inkBarElement.appendChild(this._inkBarContentElement),this._appendInkBarElement()}_appendInkBarElement(){(this._fitToContent?this.elementRef.nativeElement.querySelector(".mdc-tab__content"):this.elementRef.nativeElement).appendChild(this._inkBarElement)}}}const wee=vv(class{}),Iee=bee((()=>{class n extends wee{constructor(t){super(),this.elementRef=t}focus(){this.elementRef.nativeElement.focus()}getOffsetLeft(){return this.elementRef.nativeElement.offsetLeft}getOffsetWidth(){return this.elementRef.nativeElement.offsetWidth}static#e=this.\u0275fac=function(i){return new(i||n)(T(Ye))};static#t=this.\u0275dir=le({type:n,features:[Le]})}return n})());let DV=(()=>{class n extends Iee{static#e=this.\u0275fac=function(){let t;return function(r){return(t||(t=An(n)))(r||n)}}();static#t=this.\u0275dir=le({type:n,selectors:[["","matTabLabelWrapper",""]],hostVars:3,hostBindings:function(i,r){2&i&&(Xt("aria-disabled",!!r.disabled),Ht("mat-mdc-tab-disabled",r.disabled))},inputs:{disabled:"disabled",fitInkBarToContent:"fitInkBarToContent"},features:[Le]})}return n})();const xee=vv(class{}),AV=new G("MAT_TAB_GROUP");let Cee=(()=>{class n extends xee{get content(){return this._contentPortal}constructor(t,i){super(),this._viewContainerRef=t,this._closestTabGroup=i,this.textLabel="",this._contentPortal=null,this._stateChanges=new F,this.position=null,this.origin=null,this.isActive=!1}ngOnChanges(t){(t.hasOwnProperty("textLabel")||t.hasOwnProperty("disabled"))&&this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}ngOnInit(){this._contentPortal=new Gd(this._explicitContent||this._implicitContent,this._viewContainerRef)}_setTemplateLabelInput(t){t&&t._closestTab===this&&(this._templateLabel=t)}static#e=this.\u0275fac=function(i){return new(i||n)(T(Gi),T(AV,8))};static#t=this.\u0275dir=le({type:n,viewQuery:function(i,r){if(1&i&&ii(qi,7),2&i){let o;Tt(o=Dt())&&(r._implicitContent=o.first)}},inputs:{textLabel:["label","textLabel"],ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],labelClass:"labelClass",bodyClass:"bodyClass"},features:[Le,ji]})}return n})(),SV=(()=>{class n extends Cee{constructor(){super(...arguments),this._explicitContent=void 0}get templateLabel(){return this._templateLabel}set templateLabel(t){this._setTemplateLabelInput(t)}static#e=this.\u0275fac=function(){let t;return function(r){return(t||(t=An(n)))(r||n)}}();static#t=this.\u0275cmp=Ft({type:n,selectors:[["mat-tab"]],contentQueries:function(i,r,o){if(1&i&&(Zi(o,gee,7,qi),Zi(o,yee,5)),2&i){let s;Tt(s=Dt())&&(r._explicitContent=s.first),Tt(s=Dt())&&(r.templateLabel=s.first)}},inputs:{disabled:"disabled"},exportAs:["matTab"],features:[Wt([{provide:CV,useExisting:n}]),Le],ngContentSelectors:IV,decls:1,vars:0,template:function(i,r){1&i&&(Mr(),xt(0,JJ,1,0,"ng-template"))},encapsulation:2})}return n})();const MV=Cc({passive:!0});let Aee=(()=>{class n{get disablePagination(){return this._disablePagination}set disablePagination(t){this._disablePagination=si(t)}get selectedIndex(){return this._selectedIndex}set selectedIndex(t){t=Ud(t),this._selectedIndex!=t&&(this._selectedIndexChanged=!0,this._selectedIndex=t,this._keyManager&&this._keyManager.updateActiveItem(t))}constructor(t,i,r,o,s,a,l){this._elementRef=t,this._changeDetectorRef=i,this._viewportRuler=r,this._dir=o,this._ngZone=s,this._platform=a,this._animationMode=l,this._scrollDistance=0,this._selectedIndexChanged=!1,this._destroyed=new F,this._showPaginationControls=!1,this._disableScrollAfter=!0,this._disableScrollBefore=!0,this._stopScrolling=new F,this._disablePagination=!1,this._selectedIndex=0,this.selectFocusedIndex=new lt,this.indexFocused=new lt,s.runOutsideAngular(()=>{Kd(t.nativeElement,"mouseleave").pipe(Yi(this._destroyed)).subscribe(()=>{this._stopInterval()})})}ngAfterViewInit(){Kd(this._previousPaginator.nativeElement,"touchstart",MV).pipe(Yi(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("before")}),Kd(this._nextPaginator.nativeElement,"touchstart",MV).pipe(Yi(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("after")})}ngAfterContentInit(){const t=this._dir?this._dir.change:A("ltr"),i=this._viewportRuler.change(150),r=()=>{this.updatePagination(),this._alignInkBarToSelectedTab()};this._keyManager=new iF(this._items).withHorizontalOrientation(this._getLayoutDirection()).withHomeAndEnd().withWrap().skipPredicate(()=>!1),this._keyManager.updateActiveItem(this._selectedIndex),this._ngZone.onStable.pipe(fi(1)).subscribe(r),I(t,i,this._items.changes,this._itemsResized()).pipe(Yi(this._destroyed)).subscribe(()=>{this._ngZone.run(()=>{Promise.resolve().then(()=>{this._scrollDistance=Math.max(0,Math.min(this._getMaxScrollDistance(),this._scrollDistance)),r()})}),this._keyManager.withHorizontalOrientation(this._getLayoutDirection())}),this._keyManager.change.subscribe(o=>{this.indexFocused.emit(o),this._setTabFocus(o)})}_itemsResized(){return"function"!=typeof ResizeObserver?In:this._items.changes.pipe(lo(this._items),Ee(t=>new Ke(i=>this._ngZone.runOutsideAngular(()=>{const r=new ResizeObserver(o=>i.next(o));return t.forEach(o=>r.observe(o.elementRef.nativeElement)),()=>{r.disconnect()}}))),eC(1),_n(t=>t.some(i=>i.contentRect.width>0&&i.contentRect.height>0)))}ngAfterContentChecked(){this._tabLabelCount!=this._items.length&&(this.updatePagination(),this._tabLabelCount=this._items.length,this._changeDetectorRef.markForCheck()),this._selectedIndexChanged&&(this._scrollToLabel(this._selectedIndex),this._checkScrollingControls(),this._alignInkBarToSelectedTab(),this._selectedIndexChanged=!1,this._changeDetectorRef.markForCheck()),this._scrollDistanceChanged&&(this._updateTabScrollPosition(),this._scrollDistanceChanged=!1,this._changeDetectorRef.markForCheck())}ngOnDestroy(){this._keyManager?.destroy(),this._destroyed.next(),this._destroyed.complete(),this._stopScrolling.complete()}_handleKeydown(t){if(!$p(t))switch(t.keyCode){case 13:case 32:if(this.focusIndex!==this.selectedIndex){const i=this._items.get(this.focusIndex);i&&!i.disabled&&(this.selectFocusedIndex.emit(this.focusIndex),this._itemSelected(t))}break;default:this._keyManager.onKeydown(t)}}_onContentChanges(){const t=this._elementRef.nativeElement.textContent;t!==this._currentTextContent&&(this._currentTextContent=t||"",this._ngZone.run(()=>{this.updatePagination(),this._alignInkBarToSelectedTab(),this._changeDetectorRef.markForCheck()}))}updatePagination(){this._checkPaginationEnabled(),this._checkScrollingControls(),this._updateTabScrollPosition()}get focusIndex(){return this._keyManager?this._keyManager.activeItemIndex:0}set focusIndex(t){!this._isValidIndex(t)||this.focusIndex===t||!this._keyManager||this._keyManager.setActiveItem(t)}_isValidIndex(t){return!this._items||!!this._items.toArray()[t]}_setTabFocus(t){if(this._showPaginationControls&&this._scrollToLabel(t),this._items&&this._items.length){this._items.toArray()[t].focus();const i=this._tabListContainer.nativeElement;i.scrollLeft="ltr"==this._getLayoutDirection()?0:i.scrollWidth-i.offsetWidth}}_getLayoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_updateTabScrollPosition(){if(this.disablePagination)return;const t=this.scrollDistance,i="ltr"===this._getLayoutDirection()?-t:t;this._tabList.nativeElement.style.transform=`translateX(${Math.round(i)}px)`,(this._platform.TRIDENT||this._platform.EDGE)&&(this._tabListContainer.nativeElement.scrollLeft=0)}get scrollDistance(){return this._scrollDistance}set scrollDistance(t){this._scrollTo(t)}_scrollHeader(t){return this._scrollTo(this._scrollDistance+("before"==t?-1:1)*this._tabListContainer.nativeElement.offsetWidth/3)}_handlePaginatorClick(t){this._stopInterval(),this._scrollHeader(t)}_scrollToLabel(t){if(this.disablePagination)return;const i=this._items?this._items.toArray()[t]:null;if(!i)return;const r=this._tabListContainer.nativeElement.offsetWidth,{offsetLeft:o,offsetWidth:s}=i.elementRef.nativeElement;let a,l;"ltr"==this._getLayoutDirection()?(a=o,l=a+s):(l=this._tabListInner.nativeElement.offsetWidth-o,a=l-s);const c=this.scrollDistance,h=this.scrollDistance+r;a<c?this.scrollDistance-=c-a:l>h&&(this.scrollDistance+=Math.min(l-h,a-c))}_checkPaginationEnabled(){if(this.disablePagination)this._showPaginationControls=!1;else{const t=this._tabListInner.nativeElement.scrollWidth>this._elementRef.nativeElement.offsetWidth;t||(this.scrollDistance=0),t!==this._showPaginationControls&&this._changeDetectorRef.markForCheck(),this._showPaginationControls=t}}_checkScrollingControls(){this.disablePagination?this._disableScrollAfter=this._disableScrollBefore=!0:(this._disableScrollBefore=0==this.scrollDistance,this._disableScrollAfter=this.scrollDistance==this._getMaxScrollDistance(),this._changeDetectorRef.markForCheck())}_getMaxScrollDistance(){return this._tabListInner.nativeElement.scrollWidth-this._tabListContainer.nativeElement.offsetWidth||0}_alignInkBarToSelectedTab(){const t=this._items&&this._items.length?this._items.toArray()[this.selectedIndex]:null,i=t?t.elementRef.nativeElement:null;i?this._inkBar.alignToElement(i):this._inkBar.hide()}_stopInterval(){this._stopScrolling.next()}_handlePaginatorPress(t,i){i&&null!=i.button&&0!==i.button||(this._stopInterval(),$C(650,100).pipe(Yi(I(this._stopScrolling,this._destroyed))).subscribe(()=>{const{maxScrollDistance:r,distance:o}=this._scrollHeader(t);(0===o||o>=r)&&this._stopInterval()}))}_scrollTo(t){if(this.disablePagination)return{maxScrollDistance:0,distance:0};const i=this._getMaxScrollDistance();return this._scrollDistance=Math.max(0,Math.min(i,t)),this._scrollDistanceChanged=!0,this._checkScrollingControls(),{maxScrollDistance:i,distance:this._scrollDistance}}static#e=this.\u0275fac=function(i){return new(i||n)(T(Ye),T(Ki),T(cm),T(Cs,8),T(Ce),T(zn),T(ar,8))};static#t=this.\u0275dir=le({type:n,inputs:{disablePagination:"disablePagination"}})}return n})(),See=(()=>{class n extends Aee{get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=si(t)}constructor(t,i,r,o,s,a,l){super(t,i,r,o,s,a,l),this._disableRipple=!1}_itemSelected(t){t.preventDefault()}static#e=this.\u0275fac=function(i){return new(i||n)(T(Ye),T(Ki),T(cm),T(Cs,8),T(Ce),T(zn),T(ar,8))};static#t=this.\u0275dir=le({type:n,inputs:{disableRipple:"disableRipple"},features:[Le]})}return n})(),Mee=(()=>{class n extends See{constructor(t,i,r,o,s,a,l){super(t,i,r,o,s,a,l)}ngAfterContentInit(){this._inkBar=new vee(this._items),super.ngAfterContentInit()}static#e=this.\u0275fac=function(i){return new(i||n)(T(Ye),T(Ki),T(cm),T(Cs,8),T(Ce),T(zn),T(ar,8))};static#t=this.\u0275cmp=Ft({type:n,selectors:[["mat-tab-header"]],contentQueries:function(i,r,o){if(1&i&&Zi(o,DV,4),2&i){let s;Tt(s=Dt())&&(r._items=s)}},viewQuery:function(i,r){if(1&i&&(ii(eee,7),ii(tee,7),ii(nee,7),ii(iee,5),ii(ree,5)),2&i){let o;Tt(o=Dt())&&(r._tabListContainer=o.first),Tt(o=Dt())&&(r._tabList=o.first),Tt(o=Dt())&&(r._tabListInner=o.first),Tt(o=Dt())&&(r._nextPaginator=o.first),Tt(o=Dt())&&(r._previousPaginator=o.first)}},hostAttrs:[1,"mat-mdc-tab-header"],hostVars:4,hostBindings:function(i,r){2&i&&Ht("mat-mdc-tab-header-pagination-controls-enabled",r._showPaginationControls)("mat-mdc-tab-header-rtl","rtl"==r._getLayoutDirection())},inputs:{selectedIndex:"selectedIndex"},outputs:{selectFocusedIndex:"selectFocusedIndex",indexFocused:"indexFocused"},features:[Le],ngContentSelectors:IV,decls:13,vars:10,consts:[["aria-hidden","true","type","button","mat-ripple","","tabindex","-1",1,"mat-mdc-tab-header-pagination","mat-mdc-tab-header-pagination-before",3,"matRippleDisabled","disabled","click","mousedown","touchend"],["previousPaginator",""],[1,"mat-mdc-tab-header-pagination-chevron"],[1,"mat-mdc-tab-label-container",3,"keydown"],["tabListContainer",""],["role","tablist",1,"mat-mdc-tab-list",3,"cdkObserveContent"],["tabList",""],[1,"mat-mdc-tab-labels"],["tabListInner",""],["aria-hidden","true","type","button","mat-ripple","","tabindex","-1",1,"mat-mdc-tab-header-pagination","mat-mdc-tab-header-pagination-after",3,"matRippleDisabled","disabled","mousedown","click","touchend"],["nextPaginator",""]],template:function(i,r){1&i&&(Mr(),pe(0,"button",0,1),Ct("click",function(){return r._handlePaginatorClick("before")})("mousedown",function(s){return r._handlePaginatorPress("before",s)})("touchend",function(){return r._stopInterval()}),Lt(2,"div",2),ye(),pe(3,"div",3,4),Ct("keydown",function(s){return r._handleKeydown(s)}),pe(5,"div",5,6),Ct("cdkObserveContent",function(){return r._onContentChanges()}),pe(7,"div",7,8),zt(9),ye()()(),pe(10,"button",9,10),Ct("mousedown",function(s){return r._handlePaginatorPress("after",s)})("click",function(){return r._handlePaginatorClick("after")})("touchend",function(){return r._stopInterval()}),Lt(12,"div",2),ye()),2&i&&(Ht("mat-mdc-tab-header-pagination-disabled",r._disableScrollBefore),Ve("matRippleDisabled",r._disableScrollBefore||r.disableRipple)("disabled",r._disableScrollBefore||null),He(3),Ht("_mat-animation-noopable","NoopAnimations"===r._animationMode),He(7),Ht("mat-mdc-tab-header-pagination-disabled",r._disableScrollAfter),Ve("matRippleDisabled",r._disableScrollAfter||r.disableRipple)("disabled",r._disableScrollAfter||null))},dependencies:[wv,NK],styles:[".mat-mdc-tab-header{display:flex;overflow:hidden;position:relative;flex-shrink:0;--mdc-tab-indicator-active-indicator-height:2px;--mdc-tab-indicator-active-indicator-shape:0;--mdc-secondary-navigation-tab-container-height:48px}.mdc-tab-indicator .mdc-tab-indicator__content{transition-duration:var(--mat-tab-animation-duration, 250ms)}.mat-mdc-tab-header-pagination{-webkit-user-select:none;user-select:none;position:relative;display:none;justify-content:center;align-items:center;min-width:32px;cursor:pointer;z-index:2;-webkit-tap-highlight-color:rgba(0,0,0,0);touch-action:none;box-sizing:content-box;background:none;border:none;outline:0;padding:0}.mat-mdc-tab-header-pagination::-moz-focus-inner{border:0}.mat-mdc-tab-header-pagination .mat-ripple-element{opacity:.12;background-color:var(--mat-tab-header-inactive-ripple-color)}.mat-mdc-tab-header-pagination-controls-enabled .mat-mdc-tab-header-pagination{display:flex}.mat-mdc-tab-header-pagination-before,.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-after{padding-left:4px}.mat-mdc-tab-header-pagination-before .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-after .mat-mdc-tab-header-pagination-chevron{transform:rotate(-135deg)}.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-before,.mat-mdc-tab-header-pagination-after{padding-right:4px}.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-before .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-header-pagination-after .mat-mdc-tab-header-pagination-chevron{transform:rotate(45deg)}.mat-mdc-tab-header-pagination-chevron{border-style:solid;border-width:2px 2px 0 0;height:8px;width:8px;border-color:var(--mat-tab-header-pagination-icon-color)}.mat-mdc-tab-header-pagination-disabled{box-shadow:none;cursor:default;pointer-events:none}.mat-mdc-tab-header-pagination-disabled .mat-mdc-tab-header-pagination-chevron{opacity:.4}.mat-mdc-tab-list{flex-grow:1;position:relative;transition:transform 500ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-mdc-tab-list{transition:none}._mat-animation-noopable span.mdc-tab-indicator__content,._mat-animation-noopable span.mdc-tab__text-label{transition:none}.mat-mdc-tab-label-container{display:flex;flex-grow:1;overflow:hidden;z-index:1}.mat-mdc-tab-labels{display:flex;flex:1 0 auto}[mat-align-tabs=center]>.mat-mdc-tab-header .mat-mdc-tab-labels{justify-content:center}[mat-align-tabs=end]>.mat-mdc-tab-header .mat-mdc-tab-labels{justify-content:flex-end}.mat-mdc-tab::before{margin:5px}.cdk-high-contrast-active .mat-mdc-tab[aria-disabled=true]{color:GrayText}"],encapsulation:2})}return n})();const RV=new G("MAT_TABS_CONFIG");let Ree=0;const Pee=bv(lC(class{constructor(n){this._elementRef=n}}),"primary");let kee=(()=>{class n extends Pee{get dynamicHeight(){return this._dynamicHeight}set dynamicHeight(t){this._dynamicHeight=si(t)}get selectedIndex(){return this._selectedIndex}set selectedIndex(t){this._indexToSelect=Ud(t,null)}get animationDuration(){return this._animationDuration}set animationDuration(t){this._animationDuration=/^\d+$/.test(t+"")?t+"ms":t}get contentTabIndex(){return this._contentTabIndex}set contentTabIndex(t){this._contentTabIndex=Ud(t,null)}get disablePagination(){return this._disablePagination}set disablePagination(t){this._disablePagination=si(t)}get preserveContent(){return this._preserveContent}set preserveContent(t){this._preserveContent=si(t)}get backgroundColor(){return this._backgroundColor}set backgroundColor(t){const i=this._elementRef.nativeElement.classList;i.remove("mat-tabs-with-background",`mat-background-${this.backgroundColor}`),t&&i.add("mat-tabs-with-background",`mat-background-${t}`),this._backgroundColor=t}constructor(t,i,r,o){super(t),this._changeDetectorRef=i,this._animationMode=o,this._tabs=new Ec,this._indexToSelect=0,this._lastFocusedTabIndex=null,this._tabBodyWrapperHeight=0,this._tabsSubscription=We.EMPTY,this._tabLabelSubscription=We.EMPTY,this._dynamicHeight=!1,this._selectedIndex=null,this.headerPosition="above",this._disablePagination=!1,this._preserveContent=!1,this.selectedIndexChange=new lt,this.focusChange=new lt,this.animationDone=new lt,this.selectedTabChange=new lt(!0),this._groupId=Ree++,this.animationDuration=r&&r.animationDuration?r.animationDuration:"500ms",this.disablePagination=!(!r||null==r.disablePagination)&&r.disablePagination,this.dynamicHeight=!(!r||null==r.dynamicHeight)&&r.dynamicHeight,this.contentTabIndex=r?.contentTabIndex??null,this.preserveContent=!!r?.preserveContent}ngAfterContentChecked(){const t=this._indexToSelect=this._clampTabIndex(this._indexToSelect);if(this._selectedIndex!=t){const i=null==this._selectedIndex;if(!i){this.selectedTabChange.emit(this._createChangeEvent(t));const r=this._tabBodyWrapper.nativeElement;r.style.minHeight=r.clientHeight+"px"}Promise.resolve().then(()=>{this._tabs.forEach((r,o)=>r.isActive=o===t),i||(this.selectedIndexChange.emit(t),this._tabBodyWrapper.nativeElement.style.minHeight="")})}this._tabs.forEach((i,r)=>{i.position=r-t,null!=this._selectedIndex&&0==i.position&&!i.origin&&(i.origin=t-this._selectedIndex)}),this._selectedIndex!==t&&(this._selectedIndex=t,this._lastFocusedTabIndex=null,this._changeDetectorRef.markForCheck())}ngAfterContentInit(){this._subscribeToAllTabChanges(),this._subscribeToTabLabels(),this._tabsSubscription=this._tabs.changes.subscribe(()=>{const t=this._clampTabIndex(this._indexToSelect);if(t===this._selectedIndex){const i=this._tabs.toArray();let r;for(let o=0;o<i.length;o++)if(i[o].isActive){this._indexToSelect=this._selectedIndex=o,this._lastFocusedTabIndex=null,r=i[o];break}!r&&i[t]&&Promise.resolve().then(()=>{i[t].isActive=!0,this.selectedTabChange.emit(this._createChangeEvent(t))})}this._changeDetectorRef.markForCheck()})}_subscribeToAllTabChanges(){this._allTabs.changes.pipe(lo(this._allTabs)).subscribe(t=>{this._tabs.reset(t.filter(i=>i._closestTabGroup===this||!i._closestTabGroup)),this._tabs.notifyOnChanges()})}ngOnDestroy(){this._tabs.destroy(),this._tabsSubscription.unsubscribe(),this._tabLabelSubscription.unsubscribe()}realignInkBar(){this._tabHeader&&this._tabHeader._alignInkBarToSelectedTab()}updatePagination(){this._tabHeader&&this._tabHeader.updatePagination()}focusTab(t){const i=this._tabHeader;i&&(i.focusIndex=t)}_focusChanged(t){this._lastFocusedTabIndex=t,this.focusChange.emit(this._createChangeEvent(t))}_createChangeEvent(t){const i=new Nee;return i.index=t,this._tabs&&this._tabs.length&&(i.tab=this._tabs.toArray()[t]),i}_subscribeToTabLabels(){this._tabLabelSubscription&&this._tabLabelSubscription.unsubscribe(),this._tabLabelSubscription=I(...this._tabs.map(t=>t._stateChanges)).subscribe(()=>this._changeDetectorRef.markForCheck())}_clampTabIndex(t){return Math.min(this._tabs.length-1,Math.max(t||0,0))}_getTabLabelId(t){return`mat-tab-label-${this._groupId}-${t}`}_getTabContentId(t){return`mat-tab-content-${this._groupId}-${t}`}_setTabBodyWrapperHeight(t){if(!this._dynamicHeight||!this._tabBodyWrapperHeight)return;const i=this._tabBodyWrapper.nativeElement;i.style.height=this._tabBodyWrapperHeight+"px",this._tabBodyWrapper.nativeElement.offsetHeight&&(i.style.height=t+"px")}_removeTabBodyWrapperHeight(){const t=this._tabBodyWrapper.nativeElement;this._tabBodyWrapperHeight=t.clientHeight,t.style.height="",this.animationDone.emit()}_handleClick(t,i,r){i.focusIndex=r,t.disabled||(this.selectedIndex=r)}_getTabIndex(t){return t===(this._lastFocusedTabIndex??this.selectedIndex)?0:-1}_tabFocusChanged(t,i){t&&"mouse"!==t&&"touch"!==t&&(this._tabHeader.focusIndex=i)}static#e=this.\u0275fac=function(i){return new(i||n)(T(Ye),T(Ki),T(RV,8),T(ar,8))};static#t=this.\u0275dir=le({type:n,inputs:{dynamicHeight:"dynamicHeight",selectedIndex:"selectedIndex",headerPosition:"headerPosition",animationDuration:"animationDuration",contentTabIndex:"contentTabIndex",disablePagination:"disablePagination",preserveContent:"preserveContent",backgroundColor:"backgroundColor"},outputs:{selectedIndexChange:"selectedIndexChange",focusChange:"focusChange",animationDone:"animationDone",selectedTabChange:"selectedTabChange"},features:[Le]})}return n})(),Oee=(()=>{class n extends kee{get fitInkBarToContent(){return this._fitInkBarToContent}set fitInkBarToContent(t){this._fitInkBarToContent=si(t),this._changeDetectorRef.markForCheck()}get stretchTabs(){return this._stretchTabs}set stretchTabs(t){this._stretchTabs=si(t)}constructor(t,i,r,o){super(t,i,r,o),this._fitInkBarToContent=!1,this._stretchTabs=!0,this.fitInkBarToContent=!(!r||null==r.fitInkBarToContent)&&r.fitInkBarToContent,this.stretchTabs=!r||null==r.stretchTabs||r.stretchTabs}static#e=this.\u0275fac=function(i){return new(i||n)(T(Ye),T(Ki),T(RV,8),T(ar,8))};static#t=this.\u0275cmp=Ft({type:n,selectors:[["mat-tab-group"]],contentQueries:function(i,r,o){if(1&i&&Zi(o,SV,5),2&i){let s;Tt(s=Dt())&&(r._allTabs=s)}},viewQuery:function(i,r){if(1&i&&(ii(oee,5),ii(see,5)),2&i){let o;Tt(o=Dt())&&(r._tabBodyWrapper=o.first),Tt(o=Dt())&&(r._tabHeader=o.first)}},hostAttrs:["ngSkipHydration","",1,"mat-mdc-tab-group"],hostVars:8,hostBindings:function(i,r){2&i&&(SI("--mat-tab-animation-duration",r.animationDuration),Ht("mat-mdc-tab-group-dynamic-height",r.dynamicHeight)("mat-mdc-tab-group-inverted-header","below"===r.headerPosition)("mat-mdc-tab-group-stretch-tabs",r.stretchTabs))},inputs:{color:"color",disableRipple:"disableRipple",fitInkBarToContent:"fitInkBarToContent",stretchTabs:["mat-stretch-tabs","stretchTabs"]},exportAs:["matTabGroup"],features:[Wt([{provide:AV,useExisting:n}]),Le],decls:6,vars:7,consts:[[3,"selectedIndex","disableRipple","disablePagination","indexFocused","selectFocusedIndex"],["tabHeader",""],["class","mdc-tab mat-mdc-tab mat-mdc-focus-indicator","role","tab","matTabLabelWrapper","","cdkMonitorElementFocus","",3,"id","mdc-tab--active","ngClass","disabled","fitInkBarToContent","click","cdkFocusChange",4,"ngFor","ngForOf"],[1,"mat-mdc-tab-body-wrapper"],["tabBodyWrapper",""],["role","tabpanel",3,"id","mat-mdc-tab-body-active","ngClass","content","position","origin","animationDuration","preserveContent","_onCentered","_onCentering",4,"ngFor","ngForOf"],["role","tab","matTabLabelWrapper","","cdkMonitorElementFocus","",1,"mdc-tab","mat-mdc-tab","mat-mdc-focus-indicator",3,"id","ngClass","disabled","fitInkBarToContent","click","cdkFocusChange"],["tabNode",""],[1,"mdc-tab__ripple"],["mat-ripple","",1,"mat-mdc-tab-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mdc-tab__content"],[1,"mdc-tab__text-label"],[3,"ngIf","ngIfElse"],["tabTextLabel",""],[3,"cdkPortalOutlet"],["role","tabpanel",3,"id","ngClass","content","position","origin","animationDuration","preserveContent","_onCentered","_onCentering"]],template:function(i,r){1&i&&(pe(0,"mat-tab-header",0,1),Ct("indexFocused",function(s){return r._focusChanged(s)})("selectFocusedIndex",function(s){return r.selectedIndex=s}),xt(2,uee,9,17,"div",2),ye(),pe(3,"div",3,4),xt(5,dee,1,12,"mat-tab-body",5),ye()),2&i&&(Ve("selectedIndex",r.selectedIndex||0)("disableRipple",r.disableRipple)("disablePagination",r.disablePagination),He(2),Ve("ngForOf",r._tabs),He(1),Ht("_mat-animation-noopable","NoopAnimations"===r._animationMode),He(2),Ve("ngForOf",r._tabs))},dependencies:[Ax,Sx,xc,fl,wv,_Y,xV,DV,Mee],styles:['.mdc-tab{min-width:90px;padding-right:24px;padding-left:24px;display:flex;flex:1 0 auto;justify-content:center;box-sizing:border-box;margin:0;padding-top:0;padding-bottom:0;border:none;outline:none;text-align:center;white-space:nowrap;cursor:pointer;-webkit-appearance:none;z-index:1}.mdc-tab::-moz-focus-inner{padding:0;border:0}.mdc-tab[hidden]{display:none}.mdc-tab--min-width{flex:0 1 auto}.mdc-tab__content{display:flex;align-items:center;justify-content:center;height:inherit;pointer-events:none}.mdc-tab__text-label{transition:150ms color linear;display:inline-block;line-height:1;z-index:2}.mdc-tab__icon{transition:150ms color linear;z-index:2}.mdc-tab--stacked .mdc-tab__content{flex-direction:column;align-items:center;justify-content:center}.mdc-tab--stacked .mdc-tab__text-label{padding-top:6px;padding-bottom:4px}.mdc-tab--active .mdc-tab__text-label,.mdc-tab--active .mdc-tab__icon{transition-delay:100ms}.mdc-tab:not(.mdc-tab--stacked) .mdc-tab__icon+.mdc-tab__text-label{padding-left:8px;padding-right:0}[dir=rtl] .mdc-tab:not(.mdc-tab--stacked) .mdc-tab__icon+.mdc-tab__text-label,.mdc-tab:not(.mdc-tab--stacked) .mdc-tab__icon+.mdc-tab__text-label[dir=rtl]{padding-left:0;padding-right:8px}.mdc-tab-indicator{display:flex;position:absolute;top:0;left:0;justify-content:center;width:100%;height:100%;pointer-events:none;z-index:1}.mdc-tab-indicator__content{transform-origin:left;opacity:0}.mdc-tab-indicator__content--underline{align-self:flex-end;box-sizing:border-box;width:100%;border-top-style:solid}.mdc-tab-indicator__content--icon{align-self:center;margin:0 auto}.mdc-tab-indicator--active .mdc-tab-indicator__content{opacity:1}.mdc-tab-indicator .mdc-tab-indicator__content{transition:250ms transform cubic-bezier(0.4, 0, 0.2, 1)}.mdc-tab-indicator--no-transition .mdc-tab-indicator__content{transition:none}.mdc-tab-indicator--fade .mdc-tab-indicator__content{transition:150ms opacity linear}.mdc-tab-indicator--active.mdc-tab-indicator--fade .mdc-tab-indicator__content{transition-delay:100ms}.mat-mdc-tab-ripple{position:absolute;top:0;left:0;bottom:0;right:0;pointer-events:none}.mat-mdc-tab{-webkit-tap-highlight-color:rgba(0,0,0,0);-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;text-decoration:none;background:none;font-family:var(--mat-tab-header-label-text-font);font-size:var(--mat-tab-header-label-text-size);letter-spacing:var(--mat-tab-header-label-text-tracking);line-height:var(--mat-tab-header-label-text-line-height);font-weight:var(--mat-tab-header-label-text-weight)}.mat-mdc-tab .mdc-tab-indicator__content--underline{border-color:var(--mdc-tab-indicator-active-indicator-color)}.mat-mdc-tab .mdc-tab-indicator__content--underline{border-top-width:var(--mdc-tab-indicator-active-indicator-height)}.mat-mdc-tab .mdc-tab-indicator__content--underline{border-radius:var(--mdc-tab-indicator-active-indicator-shape)}.mat-mdc-tab:not(.mdc-tab--stacked){height:var(--mdc-secondary-navigation-tab-container-height)}.mat-mdc-tab:not(:disabled).mdc-tab--active .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:not(:disabled):hover.mdc-tab--active .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:not(:disabled):focus.mdc-tab--active .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:not(:disabled):active.mdc-tab--active .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:disabled.mdc-tab--active .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:not(:disabled):not(.mdc-tab--active) .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:not(:disabled):hover:not(.mdc-tab--active) .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:not(:disabled):focus:not(.mdc-tab--active) .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:not(:disabled):active:not(.mdc-tab--active) .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:disabled:not(.mdc-tab--active) .mdc-tab__icon{fill:currentColor}.mat-mdc-tab.mdc-tab{flex-grow:0}.mat-mdc-tab:hover .mdc-tab__text-label{color:var(--mat-tab-header-inactive-hover-label-text-color)}.mat-mdc-tab:focus .mdc-tab__text-label{color:var(--mat-tab-header-inactive-focus-label-text-color)}.mat-mdc-tab.mdc-tab--active .mdc-tab__text-label{color:var(--mat-tab-header-active-label-text-color)}.mat-mdc-tab.mdc-tab--active .mdc-tab__ripple::before,.mat-mdc-tab.mdc-tab--active .mat-ripple-element{background-color:var(--mat-tab-header-active-ripple-color)}.mat-mdc-tab.mdc-tab--active:hover .mdc-tab__text-label{color:var(--mat-tab-header-active-hover-label-text-color)}.mat-mdc-tab.mdc-tab--active:hover .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-active-hover-indicator-color)}.mat-mdc-tab.mdc-tab--active:focus .mdc-tab__text-label{color:var(--mat-tab-header-active-focus-label-text-color)}.mat-mdc-tab.mdc-tab--active:focus .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-active-focus-indicator-color)}.mat-mdc-tab.mat-mdc-tab-disabled{opacity:.4;pointer-events:none}.mat-mdc-tab.mat-mdc-tab-disabled .mdc-tab__content{pointer-events:none}.mat-mdc-tab.mat-mdc-tab-disabled .mdc-tab__ripple::before,.mat-mdc-tab.mat-mdc-tab-disabled .mat-ripple-element{background-color:var(--mat-tab-header-disabled-ripple-color)}.mat-mdc-tab .mdc-tab__ripple::before{content:"";display:block;position:absolute;top:0;left:0;right:0;bottom:0;opacity:0;pointer-events:none;background-color:var(--mat-tab-header-inactive-ripple-color)}.mat-mdc-tab .mdc-tab__text-label{color:var(--mat-tab-header-inactive-label-text-color);display:inline-flex;align-items:center}.mat-mdc-tab .mdc-tab__content{position:relative;pointer-events:auto}.mat-mdc-tab:hover .mdc-tab__ripple::before{opacity:.04}.mat-mdc-tab.cdk-program-focused .mdc-tab__ripple::before,.mat-mdc-tab.cdk-keyboard-focused .mdc-tab__ripple::before{opacity:.12}.mat-mdc-tab .mat-ripple-element{opacity:.12;background-color:var(--mat-tab-header-inactive-ripple-color)}.mat-mdc-tab-group.mat-mdc-tab-group-stretch-tabs>.mat-mdc-tab-header .mat-mdc-tab{flex-grow:1}.mat-mdc-tab-group{display:flex;flex-direction:column;max-width:100%}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination{background-color:var(--mat-tab-header-with-background-background-color)}.mat-mdc-tab-group.mat-tabs-with-background.mat-primary>.mat-mdc-tab-header .mat-mdc-tab .mdc-tab__text-label{color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background.mat-primary>.mat-mdc-tab-header .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background:not(.mat-primary)>.mat-mdc-tab-header .mat-mdc-tab:not(.mdc-tab--active) .mdc-tab__text-label{color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background:not(.mat-primary)>.mat-mdc-tab-header .mat-mdc-tab:not(.mdc-tab--active) .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-mdc-focus-indicator::before,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-mdc-focus-indicator::before{border-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-ripple-element,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mdc-tab__ripple::before,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-ripple-element,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mdc-tab__ripple::before{background-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-mdc-tab-header-pagination-chevron{color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-mdc-tab-group-inverted-header{flex-direction:column-reverse}.mat-mdc-tab-group.mat-mdc-tab-group-inverted-header .mdc-tab-indicator__content--underline{align-self:flex-start}.mat-mdc-tab-body-wrapper{position:relative;overflow:hidden;display:flex;transition:height 500ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-mdc-tab-body-wrapper._mat-animation-noopable{transition:none !important;animation:none !important}'],encapsulation:2})}return n})();class Nee{}let Fee=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=at({type:n});static#n=this.\u0275inj=mt({imports:[Ld,Gn,Zd,cC,tC,dF,Gn]})}return n})();const PV=pK();class Lee{constructor(e,t){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=t}attach(){}enable(){if(this._canBeEnabled()){const e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=pi(-this._previousScrollPosition.left),e.style.top=pi(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const e=this._document.documentElement,i=e.style,r=this._document.body.style,o=i.scrollBehavior||"",s=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),PV&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),PV&&(i.scrollBehavior=o,r.scrollBehavior=s)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,i=this._viewportRuler.getViewportSize();return t.scrollHeight>i.height||t.scrollWidth>i.width}}class Vee{constructor(e,t,i,r){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef=e}enable(){if(this._scrollSubscription)return;const e=this._scrollDispatcher.scrolled(0).pipe(_n(t=>!t||!this._overlayRef.overlayElement.contains(t.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class kV{enable(){}disable(){}attach(){}}function KC(n,e){return e.some(t=>n.bottom<t.top||n.top>t.bottom||n.right<t.left||n.left>t.right)}function OV(n,e){return e.some(t=>n.top<t.top||n.bottom>t.bottom||n.left<t.left||n.right>t.right)}class Bee{constructor(e,t,i,r){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=i,this._config=r,this._scrollSubscription=null}attach(e){this._overlayRef=e}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();KC(t,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let Uee=(()=>{class n{constructor(t,i,r,o){this._scrollDispatcher=t,this._viewportRuler=i,this._ngZone=r,this.noop=()=>new kV,this.close=s=>new Vee(this._scrollDispatcher,this._ngZone,this._viewportRuler,s),this.block=()=>new Lee(this._viewportRuler,this._document),this.reposition=s=>new Bee(this._scrollDispatcher,this._viewportRuler,this._ngZone,s),this._document=o}static#e=this.\u0275fac=function(i){return new(i||n)(O(ZJ),O(cm),O(Ce),O(nt))};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class Zv{constructor(e){if(this.scrollStrategy=new kV,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){const t=Object.keys(e);for(const i of t)void 0!==e[i]&&(this[i]=e[i])}}}class jee{constructor(e,t){this.connectionPair=e,this.scrollableViewProperties=t}}let NV=(()=>{class n{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const i=this._attachedOverlays.indexOf(t);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}static#e=this.\u0275fac=function(i){return new(i||n)(O(nt))};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),zee=(()=>{class n extends NV{constructor(t,i){super(t),this._ngZone=i,this._keydownListener=r=>{const o=this._attachedOverlays;for(let s=o.length-1;s>-1;s--)if(o[s]._keydownEvents.observers.length>0){const a=o[s]._keydownEvents;this._ngZone?this._ngZone.run(()=>a.next(r)):a.next(r);break}}}add(t){super.add(t),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}static#e=this.\u0275fac=function(i){return new(i||n)(O(nt),O(Ce,8))};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Hee=(()=>{class n extends NV{constructor(t,i,r){super(t),this._platform=i,this._ngZone=r,this._cursorStyleIsSet=!1,this._pointerDownListener=o=>{this._pointerDownEventTarget=al(o)},this._clickListener=o=>{const s=al(o),a="click"===o.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:s;this._pointerDownEventTarget=null;const l=this._attachedOverlays.slice();for(let c=l.length-1;c>-1;c--){const h=l[c];if(h._outsidePointerEvents.observers.length<1||!h.hasAttached())continue;if(h.overlayElement.contains(s)||h.overlayElement.contains(a))break;const p=h._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>p.next(o)):p.next(o)}}}add(t){if(super.add(t),!this._isAttached){const i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const t=this._document.body;t.removeEventListener("pointerdown",this._pointerDownListener,!0),t.removeEventListener("click",this._clickListener,!0),t.removeEventListener("auxclick",this._clickListener,!0),t.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(t.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(t){t.addEventListener("pointerdown",this._pointerDownListener,!0),t.addEventListener("click",this._clickListener,!0),t.addEventListener("auxclick",this._clickListener,!0),t.addEventListener("contextmenu",this._clickListener,!0)}static#e=this.\u0275fac=function(i){return new(i||n)(O(nt),O(zn),O(Ce,8))};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Kv=(()=>{class n{constructor(t,i){this._platform=i,this._document=t}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t="cdk-overlay-container";if(this._platform.isBrowser||Zx()){const r=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let o=0;o<r.length;o++)r[o].remove()}const i=this._document.createElement("div");i.classList.add(t),Zx()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}static#e=this.\u0275fac=function(i){return new(i||n)(O(nt),O(zn))};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class um{constructor(e,t,i,r,o,s,a,l,c,h=!1){this._portalOutlet=e,this._host=t,this._pane=i,this._config=r,this._ngZone=o,this._keyboardDispatcher=s,this._document=a,this._location=l,this._outsideClickDispatcher=c,this._animationsDisabled=h,this._backdropElement=null,this._backdropClick=new F,this._attachments=new F,this._detachments=new F,this._locationChanges=We.EMPTY,this._backdropClickHandler=p=>this._backdropClick.next(p),this._backdropTransitionendHandler=p=>{this._disposeBackdrop(p.target)},this._keydownEvents=new F,this._outsidePointerEvents=new F,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const t=this._portalOutlet.attach(e);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(fi(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof t?.onDestroy&&t.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){const e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,e&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config={...this._config,...e},this._updateElementSize()}setDirection(e){this._config={...this._config,direction:e},this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){const e=this._config.direction;return e?"string"==typeof e?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const e=this._pane.style;e.width=pi(this._config.width),e.height=pi(this._config.height),e.minWidth=pi(this._config.minWidth),e.minHeight=pi(this._config.minHeight),e.maxWidth=pi(this._config.maxWidth),e.maxHeight=pi(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){const e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})}):this._backdropElement.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const e=this._backdropElement;if(e){if(this._animationsDisabled)return void this._disposeBackdrop(e);e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",this._backdropTransitionendHandler)}),e.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(e)},500))}}_toggleClasses(e,t,i){const r=mv(t||[]).filter(o=>!!o);r.length&&(i?e.classList.add(...r):e.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const e=this._ngZone.onStable.pipe(Yi(I(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),e.unsubscribe())})})}_disposeScrollStrategy(){const e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}_disposeBackdrop(e){e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",this._backdropTransitionendHandler),e.remove(),this._backdropElement===e&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const FV="cdk-overlay-connected-position-bounding-box",$ee=/([A-Za-z%]+)$/;class Wee{get positions(){return this._preferredPositions}constructor(e,t,i,r,o){this._viewportRuler=t,this._document=i,this._platform=r,this._overlayContainer=o,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new F,this._resizeSubscription=We.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}attach(e){this._validatePositions(),e.hostElement.classList.add(FV),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._originRect,t=this._overlayRect,i=this._viewportRect,r=this._containerRect,o=[];let s;for(let a of this._preferredPositions){let l=this._getOriginPoint(e,r,a),c=this._getOverlayPoint(l,t,a),h=this._getOverlayFit(c,t,i,a);if(h.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(a,l);this._canFitWithFlexibleDimensions(h,c,i)?o.push({position:a,origin:l,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(l,a)}):(!s||s.overlayFit.visibleArea<h.visibleArea)&&(s={overlayFit:h,overlayPoint:c,originPoint:l,position:a,overlayRect:t})}if(o.length){let a=null,l=-1;for(const c of o){const h=c.boundingBoxRect.width*c.boundingBoxRect.height*(c.position.weight||1);h>l&&(l=h,a=c)}return this._isPushed=!1,void this._applyPosition(a.position,a.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(s.position,s.originPoint);this._applyPosition(s.position,s.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&kc(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(FV),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const e=this._lastPosition;if(e){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._getOriginPoint(this._originRect,this._containerRect,e);this._applyPosition(e,t)}else this.apply()}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,-1===e.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,t,i){let r,o;if("center"==i.originX)r=e.left+e.width/2;else{const s=this._isRtl()?e.right:e.left,a=this._isRtl()?e.left:e.right;r="start"==i.originX?s:a}return t.left<0&&(r-=t.left),o="center"==i.originY?e.top+e.height/2:"top"==i.originY?e.top:e.bottom,t.top<0&&(o-=t.top),{x:r,y:o}}_getOverlayPoint(e,t,i){let r,o;return r="center"==i.overlayX?-t.width/2:"start"===i.overlayX?this._isRtl()?-t.width:0:this._isRtl()?0:-t.width,o="center"==i.overlayY?-t.height/2:"top"==i.overlayY?0:-t.height,{x:e.x+r,y:e.y+o}}_getOverlayFit(e,t,i,r){const o=VV(t);let{x:s,y:a}=e,l=this._getOffset(r,"x"),c=this._getOffset(r,"y");l&&(s+=l),c&&(a+=c);let g=0-a,y=a+o.height-i.height,w=this._subtractOverflows(o.width,0-s,s+o.width-i.width),x=this._subtractOverflows(o.height,g,y),S=w*x;return{visibleArea:S,isCompletelyWithinViewport:o.width*o.height===S,fitsInViewportVertically:x===o.height,fitsInViewportHorizontally:w==o.width}}_canFitWithFlexibleDimensions(e,t,i){if(this._hasFlexibleDimensions){const r=i.bottom-t.y,o=i.right-t.x,s=LV(this._overlayRef.getConfig().minHeight),a=LV(this._overlayRef.getConfig().minWidth);return(e.fitsInViewportVertically||null!=s&&s<=r)&&(e.fitsInViewportHorizontally||null!=a&&a<=o)}return!1}_pushOverlayOnScreen(e,t,i){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};const r=VV(t),o=this._viewportRect,s=Math.max(e.x+r.width-o.width,0),a=Math.max(e.y+r.height-o.height,0),l=Math.max(o.top-i.top-e.y,0),c=Math.max(o.left-i.left-e.x,0);let h=0,p=0;return h=r.width<=o.width?c||-s:e.x<this._viewportMargin?o.left-i.left-e.x:0,p=r.height<=o.height?l||-a:e.y<this._viewportMargin?o.top-i.top-e.y:0,this._previousPushAmount={x:h,y:p},{x:e.x+h,y:e.y+p}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._lastPosition=e,this._positionChanges.observers.length){const i=this._getScrollVisibility(),r=new jee(e,i);this._positionChanges.next(r)}this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;const t=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,r=e.overlayY;i="center"===e.overlayX?"center":this._isRtl()?"start"===e.overlayX?"right":"left":"start"===e.overlayX?"left":"right";for(let o=0;o<t.length;o++)t[o].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(e,t){const i=this._viewportRect,r=this._isRtl();let o,s,a,h,p,g;if("top"===t.overlayY)s=e.y,o=i.height-s+this._viewportMargin;else if("bottom"===t.overlayY)a=i.height-e.y+2*this._viewportMargin,o=i.height-a+this._viewportMargin;else{const y=Math.min(i.bottom-e.y+i.top,e.y),w=this._lastBoundingBoxSize.height;o=2*y,s=e.y-y,o>w&&!this._isInitialRender&&!this._growAfterOpen&&(s=e.y-w/2)}if("end"===t.overlayX&&!r||"start"===t.overlayX&&r)g=i.width-e.x+this._viewportMargin,h=e.x-this._viewportMargin;else if("start"===t.overlayX&&!r||"end"===t.overlayX&&r)p=e.x,h=i.right-e.x;else{const y=Math.min(i.right-e.x+i.left,e.x),w=this._lastBoundingBoxSize.width;h=2*y,p=e.x-y,h>w&&!this._isInitialRender&&!this._growAfterOpen&&(p=e.x-w/2)}return{top:s,left:p,bottom:a,right:g,width:h,height:o}}_setBoundingBoxStyles(e,t){const i=this._calculateBoundingBoxRect(e,t);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const o=this._overlayRef.getConfig().maxHeight,s=this._overlayRef.getConfig().maxWidth;r.height=pi(i.height),r.top=pi(i.top),r.bottom=pi(i.bottom),r.width=pi(i.width),r.left=pi(i.left),r.right=pi(i.right),r.alignItems="center"===t.overlayX?"center":"end"===t.overlayX?"flex-end":"flex-start",r.justifyContent="center"===t.overlayY?"center":"bottom"===t.overlayY?"flex-end":"flex-start",o&&(r.maxHeight=pi(o)),s&&(r.maxWidth=pi(s))}this._lastBoundingBoxSize=i,kc(this._boundingBox.style,r)}_resetBoundingBoxStyles(){kc(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){kc(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){const i={},r=this._hasExactPosition(),o=this._hasFlexibleDimensions,s=this._overlayRef.getConfig();if(r){const h=this._viewportRuler.getViewportScrollPosition();kc(i,this._getExactOverlayY(t,e,h)),kc(i,this._getExactOverlayX(t,e,h))}else i.position="static";let a="",l=this._getOffset(t,"x"),c=this._getOffset(t,"y");l&&(a+=`translateX(${l}px) `),c&&(a+=`translateY(${c}px)`),i.transform=a.trim(),s.maxHeight&&(r?i.maxHeight=pi(s.maxHeight):o&&(i.maxHeight="")),s.maxWidth&&(r?i.maxWidth=pi(s.maxWidth):o&&(i.maxWidth="")),kc(this._pane.style,i)}_getExactOverlayY(e,t,i){let r={top:"",bottom:""},o=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i)),"bottom"===e.overlayY?r.bottom=this._document.documentElement.clientHeight-(o.y+this._overlayRect.height)+"px":r.top=pi(o.y),r}_getExactOverlayX(e,t,i){let s,r={left:"",right:""},o=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i)),s=this._isRtl()?"end"===e.overlayX?"left":"right":"end"===e.overlayX?"right":"left","right"===s?r.right=this._document.documentElement.clientWidth-(o.x+this._overlayRect.width)+"px":r.left=pi(o.x),r}_getScrollVisibility(){const e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:OV(e,i),isOriginOutsideView:KC(e,i),isOverlayClipped:OV(t,i),isOverlayOutsideView:KC(t,i)}}_subtractOverflows(e,...t){return t.reduce((i,r)=>i-Math.max(r,0),e)}_getNarrowedViewportRect(){const e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+e-this._viewportMargin,bottom:i.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return"x"===t?null==e.offsetX?this._offsetX:e.offsetX:null==e.offsetY?this._offsetY:e.offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&mv(e).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){const e=this._origin;if(e instanceof Ye)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();const t=e.width||0,i=e.height||0;return{top:e.y,bottom:e.y+i,left:e.x,right:e.x+t,height:i,width:t}}}function kc(n,e){for(let t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function LV(n){if("number"!=typeof n&&null!=n){const[e,t]=n.split($ee);return t&&"px"!==t?null:parseFloat(e)}return n||null}function VV(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const BV="cdk-global-overlay-wrapper";class qee{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(e){const t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(BV),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._xOffset=e,this._xPosition="left",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._xOffset=e,this._xPosition="right",this}start(e=""){return this._xOffset=e,this._xPosition="start",this}end(e=""){return this._xOffset=e,this._xPosition="end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._xPosition="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:o,maxWidth:s,maxHeight:a}=i,l=!("100%"!==r&&"100vw"!==r||s&&"100%"!==s&&"100vw"!==s),c=!("100%"!==o&&"100vh"!==o||a&&"100%"!==a&&"100vh"!==a),h=this._xPosition,p=this._xOffset,g="rtl"===this._overlayRef.getConfig().direction;let y="",w="",x="";l?x="flex-start":"center"===h?(x="center",g?w=p:y=p):g?"left"===h||"end"===h?(x="flex-end",y=p):("right"===h||"start"===h)&&(x="flex-start",w=p):"left"===h||"start"===h?(x="flex-start",y=p):("right"===h||"end"===h)&&(x="flex-end",w=p),e.position=this._cssPosition,e.marginLeft=l?"0":y,e.marginTop=c?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=l?"0":w,t.justifyContent=x,t.alignItems=c?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,i=t.style;t.classList.remove(BV),i.justifyContent=i.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}}let Gee=(()=>{class n{constructor(t,i,r,o){this._viewportRuler=t,this._document=i,this._platform=r,this._overlayContainer=o}global(){return new qee}flexibleConnectedTo(t){return new Wee(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}static#e=this.\u0275fac=function(i){return new(i||n)(O(cm),O(nt),O(zn),O(Kv))};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Zee=0,As=(()=>{class n{constructor(t,i,r,o,s,a,l,c,h,p,g,y){this.scrollStrategies=t,this._overlayContainer=i,this._componentFactoryResolver=r,this._positionBuilder=o,this._keyboardDispatcher=s,this._injector=a,this._ngZone=l,this._document=c,this._directionality=h,this._location=p,this._outsideClickDispatcher=g,this._animationsModuleType=y}create(t){const i=this._createHostElement(),r=this._createPaneElement(i),o=this._createPortalOutlet(r),s=new Zv(t);return s.direction=s.direction||this._directionality.value,new um(o,i,r,s,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(t){const i=this._document.createElement("div");return i.id="cdk-overlay-"+Zee++,i.classList.add("cdk-overlay-pane"),t.appendChild(i),i}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(rl)),new AJ(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}static#e=this.\u0275fac=function(i){return new(i||n)(O(Uee),O(Kv),O(pc),O(Gee),O(zee),O(pn),O(Ce),O(nt),O(Cs),O(Vp),O(Hee),O(ar,8))};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const Qee={provide:new G("cdk-connected-overlay-scroll-strategy"),deps:[As],useFactory:function Yee(n){return()=>n.scrollStrategies.reposition()}};let Yv=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=at({type:n});static#n=this.\u0275inj=mt({providers:[As,Qee],imports:[Gp,Zd,wV,wV]})}return n})();function Qv(n){return new Ke(e=>{_t(n()).subscribe(e)})}function Xee(n,e){}class Xv{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0,this.closeOnOverlayDetachments=!0}}let UV=(()=>{class n extends Wv{constructor(t,i,r,o,s,a,l,c){super(),this._elementRef=t,this._focusTrapFactory=i,this._config=o,this._interactivityChecker=s,this._ngZone=a,this._overlayRef=l,this._focusMonitor=c,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this._ariaLabelledByQueue=[],this.attachDomPortal=h=>{this._portalOutlet.hasAttached();const p=this._portalOutlet.attachDomPortal(h);return this._contentAttached(),p},this._document=r,this._config.ariaLabelledBy&&this._ariaLabelledByQueue.push(this._config.ariaLabelledBy)}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._restoreFocus()}attachComponentPortal(t){this._portalOutlet.hasAttached();const i=this._portalOutlet.attachComponentPortal(t);return this._contentAttached(),i}attachTemplatePortal(t){this._portalOutlet.hasAttached();const i=this._portalOutlet.attachTemplatePortal(t);return this._contentAttached(),i}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(t,i){this._interactivityChecker.isFocusable(t)||(t.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const r=()=>{t.removeEventListener("blur",r),t.removeEventListener("mousedown",r),t.removeAttribute("tabindex")};t.addEventListener("blur",r),t.addEventListener("mousedown",r)})),t.focus(i)}_focusByCssSelector(t,i){let r=this._elementRef.nativeElement.querySelector(t);r&&this._forceFocus(r,i)}_trapFocus(){const t=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||t.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(i=>{i||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const t=this._config.restoreFocus;let i=null;if("string"==typeof t?i=this._document.querySelector(t):"boolean"==typeof t?i=t?this._elementFocusedBeforeDialogWasOpened:null:t&&(i=t),this._config.restoreFocus&&i&&"function"==typeof i.focus){const r=Gx(),o=this._elementRef.nativeElement;(!r||r===this._document.body||r===o||o.contains(r))&&(this._focusMonitor?(this._focusMonitor.focusVia(i,this._closeInteractionType),this._closeInteractionType=null):i.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const t=this._elementRef.nativeElement,i=Gx();return t===i||t.contains(i)}_initializeFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=Gx())}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}static#e=this.\u0275fac=function(i){return new(i||n)(T(Ye),T(rC),T(nt,8),T(Xv),T(_v),T(Ce),T(um),T(Ac))};static#t=this.\u0275cmp=Ft({type:n,selectors:[["cdk-dialog-container"]],viewQuery:function(i,r){if(1&i&&ii(fl,7),2&i){let o;Tt(o=Dt())&&(r._portalOutlet=o.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(i,r){2&i&&Xt("id",r._config.id||null)("role",r._config.role)("aria-modal",r._config.ariaModal)("aria-labelledby",r._config.ariaLabel?null:r._ariaLabelledByQueue[0])("aria-label",r._config.ariaLabel)("aria-describedby",r._config.ariaDescribedBy||null)},features:[Le],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(i,r){1&i&&xt(0,Xee,0,0,"ng-template",0)},dependencies:[fl],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2})}return n})();class YC{constructor(e,t){this.overlayRef=e,this.config=t,this.closed=new F,this.disableClose=t.disableClose,this.backdropClick=e.backdropClick(),this.keydownEvents=e.keydownEvents(),this.outsidePointerEvents=e.outsidePointerEvents(),this.id=t.id,this.keydownEvents.subscribe(i=>{27===i.keyCode&&!this.disableClose&&!$p(i)&&(i.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})}),this._detachSubscription=e.detachments().subscribe(()=>{!1!==t.closeOnOverlayDetachments&&this.close()})}close(e,t){if(this.containerInstance){const i=this.closed;this.containerInstance._closeInteractionType=t?.focusOrigin||"program",this._detachSubscription.unsubscribe(),this.overlayRef.dispose(),i.next(e),i.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(e="",t=""){return this.overlayRef.updateSize({width:e,height:t}),this}addPanelClass(e){return this.overlayRef.addPanelClass(e),this}removePanelClass(e){return this.overlayRef.removePanelClass(e),this}}const jV=new G("DialogScrollStrategy"),Jee=new G("DialogData"),ete=new G("DefaultDialogConfig"),nte={provide:jV,deps:[As],useFactory:function tte(n){return()=>n.scrollStrategies.block()}};let ite=0,zV=(()=>{class n{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}constructor(t,i,r,o,s,a){this._overlay=t,this._injector=i,this._defaultOptions=r,this._parentDialog=o,this._overlayContainer=s,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new F,this._afterOpenedAtThisLevel=new F,this._ariaHiddenElements=new Map,this.afterAllClosed=Qv(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(lo(void 0))),this._scrollStrategy=a}open(t,i){(i={...this._defaultOptions||new Xv,...i}).id=i.id||"cdk-dialog-"+ite++,i.id&&this.getDialogById(i.id);const o=this._getOverlayConfig(i),s=this._overlay.create(o),a=new YC(s,i),l=this._attachContainer(s,a,i);return a.containerInstance=l,this._attachDialogContent(t,a,l,i),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(a),a.closed.subscribe(()=>this._removeOpenDialog(a,!0)),this.afterOpened.next(a),a}closeAll(){QC(this.openDialogs,t=>t.close())}getDialogById(t){return this.openDialogs.find(i=>i.id===t)}ngOnDestroy(){QC(this._openDialogsAtThisLevel,t=>{!1===t.config.closeOnDestroy&&this._removeOpenDialog(t,!1)}),QC(this._openDialogsAtThisLevel,t=>t.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(t){const i=new Zv({positionStrategy:t.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:t.scrollStrategy||this._scrollStrategy(),panelClass:t.panelClass,hasBackdrop:t.hasBackdrop,direction:t.direction,minWidth:t.minWidth,minHeight:t.minHeight,maxWidth:t.maxWidth,maxHeight:t.maxHeight,width:t.width,height:t.height,disposeOnNavigation:t.closeOnNavigation});return t.backdropClass&&(i.backdropClass=t.backdropClass),i}_attachContainer(t,i,r){const o=r.injector||r.viewContainerRef?.injector,s=[{provide:Xv,useValue:r},{provide:YC,useValue:i},{provide:um,useValue:t}];let a;r.container?"function"==typeof r.container?a=r.container:(a=r.container.type,s.push(...r.container.providers(r))):a=UV;const l=new am(a,r.viewContainerRef,pn.create({parent:o||this._injector,providers:s}),r.componentFactoryResolver);return t.attach(l).instance}_attachDialogContent(t,i,r,o){if(t instanceof qi){const s=this._createInjector(o,i,r,void 0);let a={$implicit:o.data,dialogRef:i};o.templateContext&&(a={...a,..."function"==typeof o.templateContext?o.templateContext():o.templateContext}),r.attachTemplatePortal(new Gd(t,null,a,s))}else{const s=this._createInjector(o,i,r,this._injector),a=r.attachComponentPortal(new am(t,o.viewContainerRef,s,o.componentFactoryResolver));i.componentRef=a,i.componentInstance=a.instance}}_createInjector(t,i,r,o){const s=t.injector||t.viewContainerRef?.injector,a=[{provide:Jee,useValue:t.data},{provide:YC,useValue:i}];return t.providers&&("function"==typeof t.providers?a.push(...t.providers(i,t,r)):a.push(...t.providers)),t.direction&&(!s||!s.get(Cs,null,{optional:!0}))&&a.push({provide:Cs,useValue:{value:t.direction,change:A()}}),pn.create({parent:s||o,providers:a})}_removeOpenDialog(t,i){const r=this.openDialogs.indexOf(t);r>-1&&(this.openDialogs.splice(r,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((o,s)=>{o?s.setAttribute("aria-hidden",o):s.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),i&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const t=this._overlayContainer.getContainerElement();if(t.parentElement){const i=t.parentElement.children;for(let r=i.length-1;r>-1;r--){const o=i[r];o!==t&&"SCRIPT"!==o.nodeName&&"STYLE"!==o.nodeName&&!o.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(o,o.getAttribute("aria-hidden")),o.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){const t=this._parentDialog;return t?t._getAfterAllClosed():this._afterAllClosedAtThisLevel}static#e=this.\u0275fac=function(i){return new(i||n)(O(As),O(pn),O(ete,8),O(n,12),O(Kv),O(jV))};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac})}return n})();function QC(n,e){let t=n.length;for(;t--;)e(n[t])}let rte=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=at({type:n});static#n=this.\u0275inj=mt({providers:[zV,nte],imports:[Yv,Zd,dF,Zd]})}return n})();function ote(n,e){}class Jv{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0}}const XC="mdc-dialog--open",HV="mdc-dialog--opening",$V="mdc-dialog--closing";let lte=(()=>{class n extends UV{constructor(t,i,r,o,s,a,l,c){super(t,i,r,o,s,a,l,c),this._animationStateChanged=new lt}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(t){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:t})}static#e=this.\u0275fac=function(i){return new(i||n)(T(Ye),T(rC),T(nt,8),T(Jv),T(_v),T(Ce),T(um),T(Ac))};static#t=this.\u0275cmp=Ft({type:n,selectors:[["ng-component"]],features:[Le],decls:0,vars:0,template:function(i,r){},encapsulation:2})}return n})();const WV="--mat-dialog-transition-duration";function qV(n){return null==n?null:"number"==typeof n?n:n.endsWith("ms")?Ud(n.substring(0,n.length-2)):n.endsWith("s")?1e3*Ud(n.substring(0,n.length-1)):"0"===n?0:null}let cte=(()=>{class n extends lte{constructor(t,i,r,o,s,a,l,c,h){super(t,i,r,o,s,a,l,h),this._animationMode=c,this._animationsEnabled="NoopAnimations"!==this._animationMode,this._hostElement=this._elementRef.nativeElement,this._enterAnimationDuration=this._animationsEnabled?qV(this._config.enterAnimationDuration)??150:0,this._exitAnimationDuration=this._animationsEnabled?qV(this._config.exitAnimationDuration)??75:0,this._animationTimer=null,this._finishDialogOpen=()=>{this._clearAnimationClasses(),this._openAnimationDone(this._enterAnimationDuration)},this._finishDialogClose=()=>{this._clearAnimationClasses(),this._animationStateChanged.emit({state:"closed",totalTime:this._exitAnimationDuration})}}_contentAttached(){super._contentAttached(),this._startOpenAnimation()}ngOnDestroy(){super.ngOnDestroy(),null!==this._animationTimer&&clearTimeout(this._animationTimer)}_startOpenAnimation(){this._animationStateChanged.emit({state:"opening",totalTime:this._enterAnimationDuration}),this._animationsEnabled?(this._hostElement.style.setProperty(WV,`${this._enterAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(HV,XC)),this._waitForAnimationToComplete(this._enterAnimationDuration,this._finishDialogOpen)):(this._hostElement.classList.add(XC),Promise.resolve().then(()=>this._finishDialogOpen()))}_startExitAnimation(){this._animationStateChanged.emit({state:"closing",totalTime:this._exitAnimationDuration}),this._hostElement.classList.remove(XC),this._animationsEnabled?(this._hostElement.style.setProperty(WV,`${this._exitAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add($V)),this._waitForAnimationToComplete(this._exitAnimationDuration,this._finishDialogClose)):Promise.resolve().then(()=>this._finishDialogClose())}_clearAnimationClasses(){this._hostElement.classList.remove(HV,$V)}_waitForAnimationToComplete(t,i){null!==this._animationTimer&&clearTimeout(this._animationTimer),this._animationTimer=setTimeout(i,t)}_requestAnimationFrame(t){this._ngZone.runOutsideAngular(()=>{"function"==typeof requestAnimationFrame?requestAnimationFrame(t):t()})}static#e=this.\u0275fac=function(i){return new(i||n)(T(Ye),T(rC),T(nt,8),T(Jv),T(_v),T(Ce),T(um),T(ar,8),T(Ac))};static#t=this.\u0275cmp=Ft({type:n,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-mdc-dialog-container","mdc-dialog"],hostVars:8,hostBindings:function(i,r){2&i&&(Md("id",r._config.id),Xt("aria-modal",r._config.ariaModal)("role",r._config.role)("aria-labelledby",r._config.ariaLabel?null:r._ariaLabelledByQueue[0])("aria-label",r._config.ariaLabel)("aria-describedby",r._config.ariaDescribedBy||null),Ht("_mat-animation-noopable",!r._animationsEnabled))},features:[Le],decls:3,vars:0,consts:[[1,"mdc-dialog__container"],[1,"mat-mdc-dialog-surface","mdc-dialog__surface"],["cdkPortalOutlet",""]],template:function(i,r){1&i&&(pe(0,"div",0)(1,"div",1),xt(2,ote,0,0,"ng-template",2),ye()())},dependencies:[fl],styles:['.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-dialog,.mdc-dialog__scrim{position:fixed;top:0;left:0;align-items:center;justify-content:center;box-sizing:border-box;width:100%;height:100%}.mdc-dialog{display:none;z-index:var(--mdc-dialog-z-index, 7)}.mdc-dialog .mdc-dialog__content{padding:20px 24px 20px 24px}.mdc-dialog .mdc-dialog__surface{min-width:280px}@media(max-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:calc(100vw - 32px)}}@media(min-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:560px}}.mdc-dialog .mdc-dialog__surface{max-height:calc(100% - 32px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-width:none}@media(max-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px;width:560px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 112px)}}@media(max-width: 720px)and (min-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:560px}}@media(max-width: 720px)and (max-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:calc(100vh - 160px)}}@media(max-width: 720px)and (min-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px}}@media(max-width: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-height: 400px),(max-width: 600px),(min-width: 720px)and (max-height: 400px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{height:100%;max-height:100vh;max-width:100vw;width:100vw;border-radius:0}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{order:-1;left:-12px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__header{padding:0 16px 9px;justify-content:flex-start}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__title{margin-left:calc(16px - 2 * 12px)}}@media(min-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 400px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}.mdc-dialog.mdc-dialog__scrim--hidden .mdc-dialog__scrim{opacity:0}.mdc-dialog__scrim{opacity:0;z-index:-1}.mdc-dialog__container{display:flex;flex-direction:row;align-items:center;justify-content:space-around;box-sizing:border-box;height:100%;transform:scale(0.8);opacity:0;pointer-events:none}.mdc-dialog__surface{position:relative;display:flex;flex-direction:column;flex-grow:0;flex-shrink:0;box-sizing:border-box;max-width:100%;max-height:100%;pointer-events:auto;overflow-y:auto;outline:0}.mdc-dialog__surface .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}[dir=rtl] .mdc-dialog__surface,.mdc-dialog__surface[dir=rtl]{text-align:right}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mdc-dialog__surface{outline:2px solid windowText}}.mdc-dialog__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:2px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-dialog__surface::before{border-color:CanvasText}}@media screen and (-ms-high-contrast: active),screen and (-ms-high-contrast: none){.mdc-dialog__surface::before{content:none}}.mdc-dialog__title{display:block;margin-top:0;position:relative;flex-shrink:0;box-sizing:border-box;margin:0 0 1px;padding:0 24px 9px}.mdc-dialog__title::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}[dir=rtl] .mdc-dialog__title,.mdc-dialog__title[dir=rtl]{text-align:right}.mdc-dialog--scrollable .mdc-dialog__title{margin-bottom:1px;padding-bottom:15px}.mdc-dialog--fullscreen .mdc-dialog__header{align-items:baseline;border-bottom:1px solid rgba(0,0,0,0);display:inline-flex;justify-content:space-between;padding:0 24px 9px;z-index:1}@media screen and (forced-colors: active){.mdc-dialog--fullscreen .mdc-dialog__header{border-bottom-color:CanvasText}}.mdc-dialog--fullscreen .mdc-dialog__header .mdc-dialog__close{right:-12px}.mdc-dialog--fullscreen .mdc-dialog__title{margin-bottom:0;padding:0;border-bottom:0}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__title{border-bottom:0;margin-bottom:0}.mdc-dialog--fullscreen .mdc-dialog__close{top:5px}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--fullscreen--titleless .mdc-dialog__close{margin-top:4px}.mdc-dialog--fullscreen--titleless.mdc-dialog--scrollable .mdc-dialog__close{margin-top:0}.mdc-dialog__content{flex-grow:1;box-sizing:border-box;margin:0;overflow:auto}.mdc-dialog__content>:first-child{margin-top:0}.mdc-dialog__content>:last-child{margin-bottom:0}.mdc-dialog__title+.mdc-dialog__content,.mdc-dialog__header+.mdc-dialog__content{padding-top:0}.mdc-dialog--scrollable .mdc-dialog__title+.mdc-dialog__content{padding-top:8px;padding-bottom:8px}.mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:6px 0 0}.mdc-dialog--scrollable .mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:0}.mdc-dialog__actions{display:flex;position:relative;flex-shrink:0;flex-wrap:wrap;align-items:center;justify-content:flex-end;box-sizing:border-box;min-height:52px;margin:0;padding:8px;border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--stacked .mdc-dialog__actions{flex-direction:column;align-items:flex-end}.mdc-dialog__button{margin-left:8px;margin-right:0;max-width:100%;text-align:right}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{margin-left:0;margin-right:8px}.mdc-dialog__button:first-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button:first-child,.mdc-dialog__button:first-child[dir=rtl]{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{text-align:left}.mdc-dialog--stacked .mdc-dialog__button:not(:first-child){margin-top:12px}.mdc-dialog--open,.mdc-dialog--opening,.mdc-dialog--closing{display:flex}.mdc-dialog--opening .mdc-dialog__scrim{transition:opacity 150ms linear}.mdc-dialog--opening .mdc-dialog__container{transition:opacity 75ms linear,transform 150ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-dialog--closing .mdc-dialog__scrim,.mdc-dialog--closing .mdc-dialog__container{transition:opacity 75ms linear}.mdc-dialog--closing .mdc-dialog__container{transform:none}.mdc-dialog--open .mdc-dialog__scrim{opacity:1}.mdc-dialog--open .mdc-dialog__container{transform:none;opacity:1}.mdc-dialog--open.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim{opacity:1}.mdc-dialog--open.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{transition:opacity 75ms linear}.mdc-dialog--open.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim{transition:opacity 150ms linear}.mdc-dialog__surface-scrim{display:none;opacity:0;position:absolute;width:100%;height:100%;z-index:1}.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{display:block}.mdc-dialog-scroll-lock{overflow:hidden}.mdc-dialog--no-content-padding .mdc-dialog__content{padding:0}.mdc-dialog--sheet .mdc-dialog__container .mdc-dialog__close{right:12px;top:9px;position:absolute;z-index:1}.mdc-dialog__scrim--removed{pointer-events:none}.mdc-dialog__scrim--removed .mdc-dialog__scrim,.mdc-dialog__scrim--removed .mdc-dialog__surface-scrim{display:none}.mat-mdc-dialog-content{max-height:65vh}.mat-mdc-dialog-container{position:static;display:block}.mat-mdc-dialog-container,.mat-mdc-dialog-container .mdc-dialog__container,.mat-mdc-dialog-container .mdc-dialog__surface{max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit}.mat-mdc-dialog-container .mdc-dialog__surface{display:block;width:100%;height:100%}.mat-mdc-dialog-container{--mdc-dialog-container-elevation-shadow:0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12);--mdc-dialog-container-shadow-color:#000;--mdc-dialog-container-shape:4px;--mdc-dialog-container-elevation: var(--mdc-dialog-container-elevation-shadow);outline:0}.mat-mdc-dialog-container .mdc-dialog__surface{background-color:var(--mdc-dialog-container-color, white)}.mat-mdc-dialog-container .mdc-dialog__surface{box-shadow:var(--mdc-dialog-container-elevation, 0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12))}.mat-mdc-dialog-container .mdc-dialog__surface{border-radius:var(--mdc-dialog-container-shape, 4px)}.mat-mdc-dialog-container .mdc-dialog__title{font-family:var(--mdc-dialog-subhead-font, Roboto, sans-serif);line-height:var(--mdc-dialog-subhead-line-height, 1.5rem);font-size:var(--mdc-dialog-subhead-size, 1rem);font-weight:var(--mdc-dialog-subhead-weight, 400);letter-spacing:var(--mdc-dialog-subhead-tracking, 0.03125em)}.mat-mdc-dialog-container .mdc-dialog__title{color:var(--mdc-dialog-subhead-color, rgba(0, 0, 0, 0.87))}.mat-mdc-dialog-container .mdc-dialog__content{font-family:var(--mdc-dialog-supporting-text-font, Roboto, sans-serif);line-height:var(--mdc-dialog-supporting-text-line-height, 1.5rem);font-size:var(--mdc-dialog-supporting-text-size, 1rem);font-weight:var(--mdc-dialog-supporting-text-weight, 400);letter-spacing:var(--mdc-dialog-supporting-text-tracking, 0.03125em)}.mat-mdc-dialog-container .mdc-dialog__content{color:var(--mdc-dialog-supporting-text-color, rgba(0, 0, 0, 0.6))}.mat-mdc-dialog-container .mdc-dialog__container{transition-duration:var(--mat-dialog-transition-duration, 0ms)}.mat-mdc-dialog-container._mat-animation-noopable .mdc-dialog__container{transition:none}.mat-mdc-dialog-content{display:block}.mat-mdc-dialog-actions{justify-content:start}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-center,.mat-mdc-dialog-actions[align=center]{justify-content:center}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-end,.mat-mdc-dialog-actions[align=end]{justify-content:flex-end}.mat-mdc-dialog-actions .mat-button-base+.mat-button-base,.mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-mdc-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}'],encapsulation:2})}return n})();class Yd{constructor(e,t,i){this._ref=e,this._containerInstance=i,this._afterOpened=new F,this._beforeClosed=new F,this._state=0,this.disableClose=t.disableClose,this.id=e.id,i._animationStateChanged.pipe(_n(r=>"opened"===r.state),fi(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),i._animationStateChanged.pipe(_n(r=>"closed"===r.state),fi(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),e.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),I(this.backdropClick(),this.keydownEvents().pipe(_n(r=>27===r.keyCode&&!this.disableClose&&!$p(r)))).subscribe(r=>{this.disableClose||(r.preventDefault(),GV(this,"keydown"===r.type?"keyboard":"mouse"))})}close(e){this._result=e,this._containerInstance._animationStateChanged.pipe(_n(t=>"closing"===t.state),fi(1)).subscribe(t=>{this._beforeClosed.next(e),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),t.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(e){let t=this._ref.config.positionStrategy;return e&&(e.left||e.right)?e.left?t.left(e.left):t.right(e.right):t.centerHorizontally(),e&&(e.top||e.bottom)?e.top?t.top(e.top):t.bottom(e.bottom):t.centerVertically(),this._ref.updatePosition(),this}updateSize(e="",t=""){return this._ref.updateSize(e,t),this}addPanelClass(e){return this._ref.addPanelClass(e),this}removePanelClass(e){return this._ref.removePanelClass(e),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}}function GV(n,e,t){return n._closeInteractionType=e,n.close(t)}const eb=new G("MatMdcDialogData"),ute=new G("mat-mdc-dialog-default-options"),ZV=new G("mat-mdc-dialog-scroll-strategy"),hte={provide:ZV,deps:[As],useFactory:function dte(n){return()=>n.scrollStrategies.block()}};let fte=0,pte=(()=>{class n{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const t=this._parentDialog;return t?t._getAfterAllClosed():this._afterAllClosedAtThisLevel}constructor(t,i,r,o,s,a,l,c,h,p){this._overlay=t,this._defaultOptions=r,this._parentDialog=o,this._dialogRefConstructor=l,this._dialogContainerType=c,this._dialogDataToken=h,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new F,this._afterOpenedAtThisLevel=new F,this._idPrefix="mat-dialog-",this.dialogConfigClass=Jv,this.afterAllClosed=Qv(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(lo(void 0))),this._scrollStrategy=a,this._dialog=i.get(zV)}open(t,i){let r;(i={...this._defaultOptions||new Jv,...i}).id=i.id||`${this._idPrefix}${fte++}`,i.scrollStrategy=i.scrollStrategy||this._scrollStrategy();const o=this._dialog.open(t,{...i,positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,closeOnOverlayDetachments:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:this.dialogConfigClass,useValue:i},{provide:Xv,useValue:i}]},templateContext:()=>({dialogRef:r}),providers:(s,a,l)=>(r=new this._dialogRefConstructor(s,i,l),r.updatePosition(i?.position),[{provide:this._dialogContainerType,useValue:l},{provide:this._dialogDataToken,useValue:a.data},{provide:this._dialogRefConstructor,useValue:r}])});return r.componentRef=o.componentRef,r.componentInstance=o.componentInstance,this.openDialogs.push(r),this.afterOpened.next(r),r.afterClosed().subscribe(()=>{const s=this.openDialogs.indexOf(r);s>-1&&(this.openDialogs.splice(s,1),this.openDialogs.length||this._getAfterAllClosed().next())}),r}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(t){return this.openDialogs.find(i=>i.id===t)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(t){let i=t.length;for(;i--;)t[i].close()}static#e=this.\u0275fac=function(i){Iy()};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac})}return n})(),tb=(()=>{class n extends pte{constructor(t,i,r,o,s,a,l,c){super(t,i,o,a,l,s,Yd,cte,eb,c),this._idPrefix="mat-mdc-dialog-"}static#e=this.\u0275fac=function(i){return new(i||n)(O(As),O(pn),O(Vp,8),O(ute,8),O(ZV),O(n,12),O(Kv),O(ar,8))};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac})}return n})(),mte=0,KV=(()=>{class n{constructor(t,i,r){this.dialogRef=t,this._elementRef=i,this._dialog=r,this.type="button"}ngOnInit(){this.dialogRef||(this.dialogRef=XV(this._elementRef,this._dialog.openDialogs))}ngOnChanges(t){const i=t._matDialogClose||t._matDialogCloseResult;i&&(this.dialogResult=i.currentValue)}_onButtonClick(t){GV(this.dialogRef,0===t.screenX&&0===t.screenY?"keyboard":"mouse",this.dialogResult)}static#e=this.\u0275fac=function(i){return new(i||n)(T(Yd,8),T(Ye),T(tb))};static#t=this.\u0275dir=le({type:n,selectors:[["","mat-dialog-close",""],["","matDialogClose",""]],hostVars:2,hostBindings:function(i,r){1&i&&Ct("click",function(s){return r._onButtonClick(s)}),2&i&&Xt("aria-label",r.ariaLabel||null)("type",r.type)},inputs:{ariaLabel:["aria-label","ariaLabel"],type:"type",dialogResult:["mat-dialog-close","dialogResult"],_matDialogClose:["matDialogClose","_matDialogClose"]},exportAs:["matDialogClose"],features:[ji]})}return n})(),YV=(()=>{class n{constructor(t,i,r){this._dialogRef=t,this._elementRef=i,this._dialog=r,this.id="mat-mdc-dialog-title-"+mte++}ngOnInit(){this._dialogRef||(this._dialogRef=XV(this._elementRef,this._dialog.openDialogs)),this._dialogRef&&Promise.resolve().then(()=>{this._dialogRef._containerInstance?._ariaLabelledByQueue?.push(this.id)})}ngOnDestroy(){const t=this._dialogRef?._containerInstance?._ariaLabelledByQueue;t&&Promise.resolve().then(()=>{const i=t.indexOf(this.id);i>-1&&t.splice(i,1)})}static#e=this.\u0275fac=function(i){return new(i||n)(T(Yd,8),T(Ye),T(tb))};static#t=this.\u0275dir=le({type:n,selectors:[["","mat-dialog-title",""],["","matDialogTitle",""]],hostAttrs:[1,"mat-mdc-dialog-title","mdc-dialog__title"],hostVars:1,hostBindings:function(i,r){2&i&&Md("id",r.id)},inputs:{id:"id"},exportAs:["matDialogTitle"]})}return n})(),QV=(()=>{class n{constructor(){this.align="start"}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=le({type:n,selectors:[["","mat-dialog-actions",""],["mat-dialog-actions"],["","matDialogActions",""]],hostAttrs:[1,"mat-mdc-dialog-actions","mdc-dialog__actions"],hostVars:4,hostBindings:function(i,r){2&i&&Ht("mat-mdc-dialog-actions-align-center","center"===r.align)("mat-mdc-dialog-actions-align-end","end"===r.align)},inputs:{align:"align"}})}return n})();function XV(n,e){let t=n.nativeElement.parentElement;for(;t&&!t.classList.contains("mat-mdc-dialog-container");)t=t.parentElement;return t?e.find(i=>i.id===t.id):null}let gte=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=at({type:n});static#n=this.\u0275inj=mt({providers:[tb,hte],imports:[rte,Yv,Zd,Gn,Gn]})}return n})();function _te(n,e){if(1&n){const t=el();pe(0,"div",2)(1,"button",3),Ct("click",function(){return rr(t),Ri(Jt().action())}),Ot(2),ye()()}if(2&n){const t=Jt();He(2),yc(" ",t.data.action," ")}}const yte=["label"];function vte(n,e){}const bte=Math.pow(2,31)-1;class JC{constructor(e,t){this._overlayRef=t,this._afterDismissed=new F,this._afterOpened=new F,this._onAction=new F,this._dismissedByAction=!1,this.containerInstance=e,e._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete(),this.dismiss()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(e){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(e,bte))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}}const e2=new G("MatSnackBarData");class nb{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}}let Ete=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=le({type:n,selectors:[["","matSnackBarLabel",""]],hostAttrs:[1,"mat-mdc-snack-bar-label","mdc-snackbar__label"]})}return n})(),wte=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=le({type:n,selectors:[["","matSnackBarActions",""]],hostAttrs:[1,"mat-mdc-snack-bar-actions","mdc-snackbar__actions"]})}return n})(),Ite=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=le({type:n,selectors:[["","matSnackBarAction",""]],hostAttrs:[1,"mat-mdc-snack-bar-action","mdc-snackbar__action"]})}return n})(),xte=(()=>{class n{constructor(t,i){this.snackBarRef=t,this.data=i}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}static#e=this.\u0275fac=function(i){return new(i||n)(T(JC),T(e2))};static#t=this.\u0275cmp=Ft({type:n,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-mdc-simple-snack-bar"],exportAs:["matSnackBar"],decls:3,vars:2,consts:[["matSnackBarLabel",""],["matSnackBarActions","",4,"ngIf"],["matSnackBarActions",""],["mat-button","","matSnackBarAction","",3,"click"]],template:function(i,r){1&i&&(pe(0,"div",0),Ot(1),ye(),xt(2,_te,3,1,"div",1)),2&i&&(He(1),yc(" ",r.data.message,"\n"),He(1),Ve("ngIf",r.hasAction))},dependencies:[xc,Jp,Ete,wte,Ite],styles:[".mat-mdc-simple-snack-bar{display:flex}"],encapsulation:2,changeDetection:0})}return n})();const Cte={snackBarState:qd("state",[Ds("void, hidden",ai({transform:"scale(0.8)",opacity:0})),Ds("visible",ai({transform:"scale(1)",opacity:1})),ts("* => visible",es("150ms cubic-bezier(0, 0, 0.2, 1)")),ts("* => void, * => hidden",es("75ms cubic-bezier(0.4, 0.0, 1, 1)",ai({opacity:0})))])};let Tte=0,Dte=(()=>{class n extends Wv{constructor(t,i,r,o,s){super(),this._ngZone=t,this._elementRef=i,this._changeDetectorRef=r,this._platform=o,this.snackBarConfig=s,this._document=he(nt),this._trackedModals=new Set,this._announceDelay=150,this._destroyed=!1,this._onAnnounce=new F,this._onExit=new F,this._onEnter=new F,this._animationState="void",this._liveElementId="mat-snack-bar-container-live-"+Tte++,this.attachDomPortal=a=>{this._assertNotAttached();const l=this._portalOutlet.attachDomPortal(a);return this._afterPortalAttached(),l},this._live="assertive"!==s.politeness||s.announcementMessage?"off"===s.politeness?"off":"polite":"assertive",this._platform.FIREFOX&&("polite"===this._live&&(this._role="status"),"assertive"===this._live&&(this._role="alert"))}attachComponentPortal(t){this._assertNotAttached();const i=this._portalOutlet.attachComponentPortal(t);return this._afterPortalAttached(),i}attachTemplatePortal(t){this._assertNotAttached();const i=this._portalOutlet.attachTemplatePortal(t);return this._afterPortalAttached(),i}onAnimationEnd(t){const{fromState:i,toState:r}=t;if(("void"===r&&"void"!==i||"hidden"===r)&&this._completeExit(),"visible"===r){const o=this._onEnter;this._ngZone.run(()=>{o.next(),o.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce())}exit(){return this._ngZone.run(()=>{this._animationState="hidden",this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId)}),this._onExit}ngOnDestroy(){this._destroyed=!0,this._clearFromModals(),this._completeExit()}_completeExit(){this._ngZone.onMicrotaskEmpty.pipe(fi(1)).subscribe(()=>{this._ngZone.run(()=>{this._onExit.next(),this._onExit.complete()})})}_afterPortalAttached(){const t=this._elementRef.nativeElement,i=this.snackBarConfig.panelClass;i&&(Array.isArray(i)?i.forEach(r=>t.classList.add(r)):t.classList.add(i)),this._exposeToModals()}_exposeToModals(){const t=this._liveElementId,i=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let r=0;r<i.length;r++){const o=i[r],s=o.getAttribute("aria-owns");this._trackedModals.add(o),s?-1===s.indexOf(t)&&o.setAttribute("aria-owns",s+" "+t):o.setAttribute("aria-owns",t)}}_clearFromModals(){this._trackedModals.forEach(t=>{const i=t.getAttribute("aria-owns");if(i){const r=i.replace(this._liveElementId,"").trim();r.length>0?t.setAttribute("aria-owns",r):t.removeAttribute("aria-owns")}}),this._trackedModals.clear()}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{const t=this._elementRef.nativeElement.querySelector("[aria-hidden]"),i=this._elementRef.nativeElement.querySelector("[aria-live]");if(t&&i){let r=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&t.contains(document.activeElement)&&(r=document.activeElement),t.removeAttribute("aria-hidden"),i.appendChild(t),r?.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}static#e=this.\u0275fac=function(i){return new(i||n)(T(Ce),T(Ye),T(Ki),T(zn),T(nb))};static#t=this.\u0275dir=le({type:n,viewQuery:function(i,r){if(1&i&&ii(fl,7),2&i){let o;Tt(o=Dt())&&(r._portalOutlet=o.first)}},features:[Le]})}return n})(),Ate=(()=>{class n extends Dte{_afterPortalAttached(){super._afterPortalAttached();const t=this._label.nativeElement,i="mdc-snackbar__label";t.classList.toggle(i,!t.querySelector(`.${i}`))}static#e=this.\u0275fac=function(){let t;return function(r){return(t||(t=An(n)))(r||n)}}();static#t=this.\u0275cmp=Ft({type:n,selectors:[["mat-snack-bar-container"]],viewQuery:function(i,r){if(1&i&&ii(yte,7),2&i){let o;Tt(o=Dt())&&(r._label=o.first)}},hostAttrs:[1,"mdc-snackbar","mat-mdc-snack-bar-container","mdc-snackbar--open"],hostVars:1,hostBindings:function(i,r){1&i&&II("@state.done",function(s){return r.onAnimationEnd(s)}),2&i&&RI("@state",r._animationState)},features:[Le],decls:6,vars:3,consts:[[1,"mdc-snackbar__surface"],[1,"mat-mdc-snack-bar-label"],["label",""],["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(i,r){1&i&&(pe(0,"div",0)(1,"div",1,2)(3,"div",3),xt(4,vte,0,0,"ng-template",4),ye(),Lt(5,"div"),ye()()),2&i&&(He(5),Xt("aria-live",r._live)("role",r._role)("id",r._liveElementId))},dependencies:[fl],styles:['.mdc-snackbar{display:none;position:fixed;right:0;bottom:0;left:0;align-items:center;justify-content:center;box-sizing:border-box;pointer-events:none;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mdc-snackbar--opening,.mdc-snackbar--open,.mdc-snackbar--closing{display:flex}.mdc-snackbar--open .mdc-snackbar__label,.mdc-snackbar--open .mdc-snackbar__actions{visibility:visible}.mdc-snackbar__surface{padding-left:0;padding-right:8px;display:flex;align-items:center;justify-content:flex-start;box-sizing:border-box;transform:scale(0.8);opacity:0}.mdc-snackbar__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-snackbar__surface::before{border-color:CanvasText}}[dir=rtl] .mdc-snackbar__surface,.mdc-snackbar__surface[dir=rtl]{padding-left:8px;padding-right:0}.mdc-snackbar--open .mdc-snackbar__surface{transform:scale(1);opacity:1;pointer-events:auto}.mdc-snackbar--closing .mdc-snackbar__surface{transform:scale(1)}.mdc-snackbar__label{padding-left:16px;padding-right:8px;width:100%;flex-grow:1;box-sizing:border-box;margin:0;visibility:hidden;padding-top:14px;padding-bottom:14px}[dir=rtl] .mdc-snackbar__label,.mdc-snackbar__label[dir=rtl]{padding-left:8px;padding-right:16px}.mdc-snackbar__label::before{display:inline;content:attr(data-mdc-snackbar-label-text)}.mdc-snackbar__actions{display:flex;flex-shrink:0;align-items:center;box-sizing:border-box;visibility:hidden}.mdc-snackbar__action+.mdc-snackbar__dismiss{margin-left:8px;margin-right:0}[dir=rtl] .mdc-snackbar__action+.mdc-snackbar__dismiss,.mdc-snackbar__action+.mdc-snackbar__dismiss[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-snack-bar-container{margin:8px;--mdc-snackbar-container-shape:4px;position:static}.mat-mdc-snack-bar-container .mdc-snackbar__surface{min-width:344px}@media(max-width: 480px),(max-width: 344px){.mat-mdc-snack-bar-container .mdc-snackbar__surface{min-width:100%}}@media(max-width: 480px),(max-width: 344px){.mat-mdc-snack-bar-container{width:100vw}}.mat-mdc-snack-bar-container .mdc-snackbar__surface{max-width:672px}.mat-mdc-snack-bar-container .mdc-snackbar__surface{box-shadow:0px 3px 5px -1px rgba(0, 0, 0, 0.2), 0px 6px 10px 0px rgba(0, 0, 0, 0.14), 0px 1px 18px 0px rgba(0, 0, 0, 0.12)}.mat-mdc-snack-bar-container .mdc-snackbar__surface{background-color:var(--mdc-snackbar-container-color)}.mat-mdc-snack-bar-container .mdc-snackbar__surface{border-radius:var(--mdc-snackbar-container-shape)}.mat-mdc-snack-bar-container .mdc-snackbar__label{color:var(--mdc-snackbar-supporting-text-color)}.mat-mdc-snack-bar-container .mdc-snackbar__label{font-size:var(--mdc-snackbar-supporting-text-size);font-family:var(--mdc-snackbar-supporting-text-font);font-weight:var(--mdc-snackbar-supporting-text-weight);line-height:var(--mdc-snackbar-supporting-text-line-height)}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled){color:var(--mat-snack-bar-button-color);--mat-mdc-button-persistent-ripple-color: currentColor}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled) .mat-ripple-element{background-color:currentColor;opacity:.1}.mat-mdc-snack-bar-container .mdc-snackbar__label::before{display:none}.mat-mdc-snack-bar-handset,.mat-mdc-snack-bar-container,.mat-mdc-snack-bar-label{flex:1 1 auto}.mat-mdc-snack-bar-handset .mdc-snackbar__surface{width:100%}'],encapsulation:2,data:{animation:[Cte.snackBarState]}})}return n})(),t2=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=at({type:n});static#n=this.\u0275inj=mt({imports:[Yv,Zd,Ld,qF,Gn,Gn]})}return n})();const n2=new G("mat-snack-bar-default-options",{providedIn:"root",factory:function Ste(){return new nb}});let Mte=(()=>{class n{get _openedSnackBarRef(){const t=this._parentSnackBar;return t?t._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(t){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=t:this._snackBarRefAtThisLevel=t}constructor(t,i,r,o,s,a){this._overlay=t,this._live=i,this._injector=r,this._breakpointObserver=o,this._parentSnackBar=s,this._defaultConfig=a,this._snackBarRefAtThisLevel=null}openFromComponent(t,i){return this._attach(t,i)}openFromTemplate(t,i){return this._attach(t,i)}open(t,i="",r){const o={...this._defaultConfig,...r};return o.data={message:t,action:i},o.announcementMessage===t&&(o.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,o)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(t,i){const o=pn.create({parent:i&&i.viewContainerRef&&i.viewContainerRef.injector||this._injector,providers:[{provide:nb,useValue:i}]}),s=new am(this.snackBarContainerComponent,i.viewContainerRef,o),a=t.attach(s);return a.instance.snackBarConfig=i,a.instance}_attach(t,i){const r={...new nb,...this._defaultConfig,...i},o=this._createOverlay(r),s=this._attachSnackBarContainer(o,r),a=new JC(s,o);if(t instanceof qi){const l=new Gd(t,null,{$implicit:r.data,snackBarRef:a});a.instance=s.attachTemplatePortal(l)}else{const l=this._createInjector(r,a),c=new am(t,void 0,l),h=s.attachComponentPortal(c);a.instance=h.instance}return this._breakpointObserver.observe("(max-width: 599.98px) and (orientation: portrait)").pipe(Yi(o.detachments())).subscribe(l=>{o.overlayElement.classList.toggle(this.handsetCssClass,l.matches)}),r.announcementMessage&&s._onAnnounce.subscribe(()=>{this._live.announce(r.announcementMessage,r.politeness)}),this._animateSnackBar(a,r),this._openedSnackBarRef=a,this._openedSnackBarRef}_animateSnackBar(t,i){t.afterDismissed().subscribe(()=>{this._openedSnackBarRef==t&&(this._openedSnackBarRef=null),i.announcementMessage&&this._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{t.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):t.containerInstance.enter(),i.duration&&i.duration>0&&t.afterOpened().subscribe(()=>t._dismissAfter(i.duration))}_createOverlay(t){const i=new Zv;i.direction=t.direction;let r=this._overlay.position().global();const o="rtl"===t.direction,s="left"===t.horizontalPosition||"start"===t.horizontalPosition&&!o||"end"===t.horizontalPosition&&o,a=!s&&"center"!==t.horizontalPosition;return s?r.left("0"):a?r.right("0"):r.centerHorizontally(),"top"===t.verticalPosition?r.top("0"):r.bottom("0"),i.positionStrategy=r,this._overlay.create(i)}_createInjector(t,i){return pn.create({parent:t&&t.viewContainerRef&&t.viewContainerRef.injector||this._injector,providers:[{provide:JC,useValue:i},{provide:e2,useValue:t.data}]})}static#e=this.\u0275fac=function(i){return new(i||n)(O(As),O(aF),O(pn),O(iC),O(n,12),O(n2))};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac})}return n})(),Rte=(()=>{class n extends Mte{constructor(t,i,r,o,s,a){super(t,i,r,o,s,a),this.simpleSnackBarComponent=xte,this.snackBarContainerComponent=Ate,this.handsetCssClass="mat-mdc-snack-bar-handset"}static#e=this.\u0275fac=function(i){return new(i||n)(O(As),O(aF),O(pn),O(iC),O(n,12),O(n2))};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:t2})}return n})();var Nr=Be(534);(0,Nr.registerVersion)("firebase","10.6.0","app");const Fte=new class Nte extends pv{}(class Ote extends fv{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,i=0){return null!=i&&i>0||null==i&&this.delay>0?super.requestAsyncId(e,t,i):(e.flush(this),0)}}),Qd=new Ja("ANGULARFIRE2_VERSION");const eT=(n,e)=>{const t=e?[e]:(0,Nr.getApps)(),i=[];return t.forEach(r=>{r.container.getProvider(n).instances.forEach(s=>{i.includes(s)||i.push(s)})}),i};class tT{constructor(){return eT(Lte)}}const Lte="app-check";function Xd(){}class o2{zone;delegate;constructor(e,t=Fte){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,i){const r=this.zone;return this.delegate.schedule(function(s){r.runGuarded(()=>{e.apply(this,[s])})},t,i)}}class Vte{zone;task=null;constructor(e){this.zone=e}call(e,t){const i=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Xd,{},Xd,Xd)),t.pipe(oi({next:i,complete:i,error:i})).subscribe(e).add(i)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let ib=(()=>{class n{ngZone;outsideAngular;insideAngular;constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new o2(Zone.current)),this.insideAngular=t.run(()=>new o2(Zone.current,Bd)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(i){return new(i||n)(O(Ce))};static \u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function co(n){return function Ute(n){return function(t){return(t=t.lift(new Vte(n.ngZone))).pipe(Bi(n.outsideAngular),ni(n.insideAngular))}}(function Jd(){const n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return n}())(n)}var pl=Be(106);pl.Z.registerVersion("firebase","10.6.0","app-compat");const $te=["ngOnDestroy"];class s2{constructor(e){return e}}const rb=new G("angularfire2.app.options"),ob=new G("angularfire2.app.name");function nT(n,e,t){const r="object"==typeof t&&t||{};r.name=r.name||"string"==typeof t&&t||"[DEFAULT]";const s=pl.Z.apps.filter(a=>a&&a.name===r.name)[0]||e.runOutsideAngular(()=>pl.Z.initializeApp(n,r));try{if(JSON.stringify(n)!==JSON.stringify(s.options)){const a=!!module.hot;Gte("error",`${s.name} Firebase App already initialized with different options${a?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new s2(s)}const Gte=(n,...e)=>{},Zte={provide:s2,useFactory:nT,deps:[rb,Ce,[new or,ob]]};let Kte=(()=>{class n{static initializeApp(t,i){return{ngModule:n,providers:[{provide:rb,useValue:t},{provide:ob,useValue:i}]}}constructor(t){pl.Z.registerVersion("angularfire",Qd.full,"core"),pl.Z.registerVersion("angularfire",Qd.full,"app-compat"),pl.Z.registerVersion("angular",Zw.full,t.toString())}static \u0275fac=function(i){return new(i||n)(O(Ko))};static \u0275mod=at({type:n});static \u0275inj=mt({providers:[Zte]})}return n})();function a2(n,e,t,i,r){const[,o,s]=globalThis.\u0275AngularfireInstanceCache.find(a=>a[0]===n)||[];if(o)return function Yte(n,e){try{return n.toString()===e.toString()}catch{return n===e}}(r,s)||(l2("error",`${e} was already initialized on the ${t} Firebase App with different settings.${Qte?" You may need to reload as Firebase is not HMR aware.":""}`),l2("warn",{is:r,was:s})),o;{const a=i();return globalThis.\u0275AngularfireInstanceCache.push([n,a,r]),a}}const Qte=typeof module<"u"&&!!module.hot,l2=(n,...e)=>{};globalThis.\u0275AngularfireInstanceCache||=[],Be(365);const sb=K(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function ab(n){return X((e,t)=>{let i=!1;e.subscribe(fe(t,r=>{i=!0,t.next(r)},()=>{i||t.next(n),t.complete()}))})}function c2(n=Xte){return X((e,t)=>{let i=!1;e.subscribe(fe(t,r=>{i=!0,t.next(r)},()=>i?t.complete():t.error(n())))})}function Xte(){return new sb}function ml(n,e){const t=arguments.length>=2;return i=>i.pipe(n?_n((r,o)=>n(r,o,i)):Vn,fi(1),t?ab(e):c2(()=>new sb))}function u2(n,e){return C(e)?Ee(()=>n,e):Ee(()=>n)}const d2=new G("angularfire2.auth.use-emulator"),h2=new G("angularfire2.auth.settings"),f2=new G("angularfire2.auth.tenant-id"),p2=new G("angularfire2.auth.langugage-code"),m2=new G("angularfire2.auth.use-device-language"),g2=new G("angularfire.auth.persistence"),_2=(n,e,t,i,r,o,s,a)=>a2(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const l=e.runOutsideAngular(()=>n.auth());if(t&&l.useEmulator(...t),i&&(l.tenantId=i),l.languageCode=r,o&&l.useDeviceLanguage(),s)for(const[c,h]of Object.entries(s))l.settings[c]=h;return a&&l.setPersistence(a),l},[t,i,r,o,s,a]);let y2=(()=>{class n{authState;idToken;user;idTokenResult;credential;constructor(t,i,r,o,s,a,l,c,h,p,g,y){const w=new F,x=A(void 0).pipe(ni(s.outsideAngular),Ee(()=>o.runOutsideAngular(()=>Promise.resolve().then(Be.bind(Be,365)))),de(()=>nT(t,o,i)),de(S=>_2(S,o,a,c,h,p,l,g)),VC({bufferSize:1,refCount:!1}));if(av(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=A(null);else{x.pipe(ml()).subscribe();const S=x.pipe(Ee(z=>z.getRedirectResult().then(Q=>Q,()=>null)),co,VC({bufferSize:1,refCount:!1})),L=x.pipe(Ee(z=>new Ke(Q=>({unsubscribe:o.runOutsideAngular(()=>z.onAuthStateChanged(ue=>Q.next(ue),ue=>Q.error(ue),()=>Q.complete()))})))),R=x.pipe(Ee(z=>new Ke(Q=>({unsubscribe:o.runOutsideAngular(()=>z.onIdTokenChanged(ue=>Q.next(ue),ue=>Q.error(ue),()=>Q.complete()))}))));this.authState=S.pipe(u2(L),Bi(s.outsideAngular),ni(s.insideAngular)),this.user=S.pipe(u2(R),Bi(s.outsideAngular),ni(s.insideAngular)),this.idToken=this.user.pipe(Ee(z=>z?b(z.getIdToken()):A(null))),this.idTokenResult=this.user.pipe(Ee(z=>z?b(z.getIdTokenResult()):A(null))),this.credential=I(S,w,this.authState.pipe(_n(z=>!z))).pipe(de(z=>z?.user?z:null),Bi(s.outsideAngular),ni(s.insideAngular))}return((n,e,t,i={})=>new Proxy(n,{get:(r,o)=>t.runOutsideAngular(()=>{if(n[o])return i?.spy?.get&&i.spy.get(o,n[o]),n[o];if($te.indexOf(o)>-1)return()=>{};const s=e.toPromise().then(a=>{const l=a?.[o];return"function"==typeof l?l.bind(a):l?.then?l.then(c=>t.run(()=>c)):t.run(()=>l)});return new Proxy(()=>{},{get:(a,l)=>s[l],apply:(a,l,c)=>s.then(h=>{const p=h?.(...c);return i?.spy?.apply&&i.spy.apply(o,c,p),p})})})}))(this,x,o,{spy:{apply:(S,L,R)=>{(S.startsWith("signIn")||S.startsWith("createUser"))&&R.then(z=>w.next(z))}}})}static \u0275fac=function(i){return new(i||n)(O(rb),O(ob,8),O(Ko),O(Ce),O(ib),O(d2,8),O(h2,8),O(f2,8),O(p2,8),O(m2,8),O(g2,8),O(tT,8))};static \u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"any"})}return n})();function iT(){return X((n,e)=>{let t,i=!1;n.subscribe(fe(e,r=>{const o=t;t=r,i&&e.next([o,r]),i=!0}))})}function lb(n,e){return X(function ene(n,e,t,i,r){return(o,s)=>{let a=t,l=e,c=0;o.subscribe(fe(s,h=>{const p=c++;l=a?n(l,h,p):(a=!0,h),i&&s.next(l)},r&&(()=>{a&&s.next(l),s.complete()})))}}(n,e,arguments.length>=2,!0))}var be,Y=Be(861),v2=Be(537),Ss=Be(879),sn=Be(58),tne=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ns={},rT=rT||{},it=tne||self;function cb(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function dm(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var oT="closure_uid_"+(1e9*Math.random()>>>0),ine=0;function rne(n,e,t){return n.call.apply(n.bind,arguments)}function one(n,e,t){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),n.apply(e,r)}}return function(){return n.apply(e,arguments)}}function ur(n,e,t){return(ur=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?rne:one).apply(null,arguments)}function ub(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var i=t.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function ki(n,e){function t(){}t.prototype=e.prototype,n.$=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.ac=function(i,r,o){for(var s=Array(arguments.length-2),a=2;a<arguments.length;a++)s[a-2]=arguments[a];return e.prototype[r].apply(i,s)}}function gl(){this.s=this.s,this.o=this.o}gl.prototype.s=!1,gl.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function nne(n){Object.prototype.hasOwnProperty.call(n,oT)&&n[oT]||(n[oT]=++ine)}(this)},gl.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const b2=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function sT(n){const e=n.length;if(0<e){const t=Array(e);for(let i=0;i<e;i++)t[i]=n[i];return t}return[]}function E2(n,e){for(let t=1;t<arguments.length;t++){const i=arguments[t];if(cb(i)){const r=n.length||0,o=i.length||0;n.length=r+o;for(let s=0;s<o;s++)n[r+s]=i[s]}else n.push(i)}}function dr(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}dr.prototype.h=function(){this.defaultPrevented=!0};var ane=function(){if(!it.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{it.addEventListener("test",()=>{},e),it.removeEventListener("test",()=>{},e)}catch{}return n}();function hm(n){return/^[\s\xa0]*$/.test(n)}function db(){var n=it.navigator;return n&&(n=n.userAgent)?n:""}function Ms(n){return-1!=db().indexOf(n)}function aT(n){return aT[" "](n),n}aT[" "]=function(){};var cT,n,cne=Ms("Opera"),eh=Ms("Trident")||Ms("MSIE"),w2=Ms("Edge"),lT=w2||eh,I2=Ms("Gecko")&&!(-1!=db().toLowerCase().indexOf("webkit")&&!Ms("Edge"))&&!(Ms("Trident")||Ms("MSIE"))&&!Ms("Edge"),une=-1!=db().toLowerCase().indexOf("webkit")&&!Ms("Edge");function x2(){var n=it.document;return n?n.documentMode:void 0}e:{var uT="",dT=(n=db(),I2?/rv:([^\);]+)(\)|;)/.exec(n):w2?/Edge\/([\d\.]+)/.exec(n):eh?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):une?/WebKit\/(\S+)/.exec(n):cne?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(dT&&(uT=dT?dT[1]:""),eh){var hT=x2();if(null!=hT&&hT>parseFloat(uT)){cT=String(hT);break e}}cT=uT}var dne=it.document&&eh&&(x2()||parseInt(cT,10))||void 0;function fm(n,e){if(dr.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(I2){e:{try{aT(e.nodeName);var r=!0;break e}catch{}r=!1}r||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:hne[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&fm.$.h.call(this)}}ki(fm,dr);var hne={2:"touch",3:"pen",4:"mouse"};fm.prototype.h=function(){fm.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var pm="closure_listenable_"+(1e6*Math.random()|0),fne=0;function pne(n,e,t,i,r){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!i,this.la=r,this.key=++fne,this.fa=this.ia=!1}function hb(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function pT(n,e,t){for(const i in n)e.call(t,n[i],i,n)}function T2(n){const e={};for(const t in n)e[t]=n[t];return e}const D2="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function A2(n,e){let t,i;for(let r=1;r<arguments.length;r++){for(t in i=arguments[r],i)n[t]=i[t];for(let o=0;o<D2.length;o++)t=D2[o],Object.prototype.hasOwnProperty.call(i,t)&&(n[t]=i[t])}}function fb(n){this.src=n,this.g={},this.h=0}function mT(n,e){var t=e.type;if(t in n.g){var o,i=n.g[t],r=b2(i,e);(o=0<=r)&&Array.prototype.splice.call(i,r,1),o&&(hb(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function gT(n,e,t,i){for(var r=0;r<n.length;++r){var o=n[r];if(!o.fa&&o.listener==e&&o.capture==!!t&&o.la==i)return r}return-1}fb.prototype.add=function(n,e,t,i,r){var o=n.toString();(n=this.g[o])||(n=this.g[o]=[],this.h++);var s=gT(n,e,i,r);return-1<s?(e=n[s],t||(e.ia=!1)):((e=new pne(e,this.src,o,!!i,r)).ia=t,n.push(e)),e};var _T="closure_lm_"+(1e6*Math.random()|0),yT={};function S2(n,e,t,i,r){if(i&&i.once)return R2(n,e,t,i,r);if(Array.isArray(e)){for(var o=0;o<e.length;o++)S2(n,e[o],t,i,r);return null}return t=wT(t),n&&n[pm]?n.O(e,t,dm(i)?!!i.capture:!!i,r):M2(n,e,t,!1,i,r)}function M2(n,e,t,i,r,o){if(!e)throw Error("Invalid event type");var s=dm(r)?!!r.capture:!!r,a=bT(n);if(a||(n[_T]=a=new fb(n)),(t=a.add(e,t,i,s,o)).proxy)return t;if(i=function gne(){const e=_ne;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=i,i.src=n,i.listener=t,n.addEventListener)ane||(r=s),void 0===r&&(r=!1),n.addEventListener(e.toString(),i,r);else if(n.attachEvent)n.attachEvent(k2(e.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return t}function R2(n,e,t,i,r){if(Array.isArray(e)){for(var o=0;o<e.length;o++)R2(n,e[o],t,i,r);return null}return t=wT(t),n&&n[pm]?n.P(e,t,dm(i)?!!i.capture:!!i,r):M2(n,e,t,!0,i,r)}function P2(n,e,t,i,r){if(Array.isArray(e))for(var o=0;o<e.length;o++)P2(n,e[o],t,i,r);else i=dm(i)?!!i.capture:!!i,t=wT(t),n&&n[pm]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=gT(o=n.g[e],t,i,r))&&(hb(o[t]),Array.prototype.splice.call(o,t,1),0==o.length&&(delete n.g[e],n.h--))):n&&(n=bT(n))&&(e=n.g[e.toString()],n=-1,e&&(n=gT(e,t,i,r)),(t=-1<n?e[n]:null)&&vT(t))}function vT(n){if("number"!=typeof n&&n&&!n.fa){var e=n.src;if(e&&e[pm])mT(e.i,n);else{var t=n.type,i=n.proxy;e.removeEventListener?e.removeEventListener(t,i,n.capture):e.detachEvent?e.detachEvent(k2(t),i):e.addListener&&e.removeListener&&e.removeListener(i),(t=bT(e))?(mT(t,n),0==t.h&&(t.src=null,e[_T]=null)):hb(n)}}}function k2(n){return n in yT?yT[n]:yT[n]="on"+n}function _ne(n,e){if(n.fa)n=!0;else{e=new fm(e,this);var t=n.listener,i=n.la||n.src;n.ia&&vT(n),n=t.call(i,e)}return n}function bT(n){return(n=n[_T])instanceof fb?n:null}var ET="__closure_events_fn_"+(1e9*Math.random()>>>0);function wT(n){return"function"==typeof n?n:(n[ET]||(n[ET]=function(e){return n.handleEvent(e)}),n[ET])}function Oi(){gl.call(this),this.i=new fb(this),this.S=this,this.J=null}function Qi(n,e){var t,i=n.J;if(i)for(t=[];i;i=i.J)t.push(i);if(n=n.S,i=e.type||e,"string"==typeof e)e=new dr(e,n);else if(e instanceof dr)e.target=e.target||n;else{var r=e;A2(e=new dr(i,n),r)}if(r=!0,t)for(var o=t.length-1;0<=o;o--){var s=e.g=t[o];r=pb(s,i,!0,e)&&r}if(r=pb(s=e.g=n,i,!0,e)&&r,r=pb(s,i,!1,e)&&r,t)for(o=0;o<t.length;o++)r=pb(s=e.g=t[o],i,!1,e)&&r}function pb(n,e,t,i){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var r=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.fa&&s.capture==t){var a=s.listener,l=s.la||s.src;s.ia&&mT(n.i,s),r=!1!==a.call(l,i)&&r}}return r&&!i.defaultPrevented}ki(Oi,gl),Oi.prototype[pm]=!0,Oi.prototype.removeEventListener=function(n,e,t,i){P2(this,n,e,t,i)},Oi.prototype.N=function(){if(Oi.$.N.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],i=0;i<t.length;i++)hb(t[i]);delete n.g[e],n.h--}}this.J=null},Oi.prototype.O=function(n,e,t,i){return this.i.add(String(n),e,!1,t,i)},Oi.prototype.P=function(n,e,t,i){return this.i.add(String(n),e,!0,t,i)};var IT=it.JSON.stringify;function vne(){var n=xT;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var O2=new class yne{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new Ene,n=>n.reset());class Ene{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function wne(n){var e=1;n=n.split(":");const t=[];for(;0<e&&n.length;)t.push(n.shift()),e--;return n.length&&t.push(n.join(":")),t}function Ine(n){it.setTimeout(()=>{throw n},0)}let mm,gm=!1,xT=new class bne{constructor(){this.h=this.g=null}add(e,t){const i=O2.get();i.set(e,t),this.h?this.h.next=i:this.g=i,this.h=i}},N2=()=>{const n=it.Promise.resolve(void 0);mm=()=>{n.then(xne)}};var xne=()=>{for(var n;n=vne();){try{n.h.call(n.g)}catch(t){Ine(t)}var e=O2;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}gm=!1};function mb(n,e){Oi.call(this),this.h=n||1,this.g=e||it,this.j=ur(this.qb,this),this.l=Date.now()}function CT(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function TT(n,e,t){if("function"==typeof n)t&&(n=ur(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=ur(n.handleEvent,n)}return 2147483647<Number(e)?-1:it.setTimeout(n,e||0)}function F2(n){n.g=TT(()=>{n.g=null,n.i&&(n.i=!1,F2(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}ki(mb,Oi),(be=mb.prototype).ga=!1,be.T=null,be.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Qi(this,"tick"),this.ga&&(CT(this),this.start()))}},be.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},be.N=function(){mb.$.N.call(this),CT(this),delete this.g};class Cne extends gl{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:F2(this)}N(){super.N(),this.g&&(it.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function _m(n){gl.call(this),this.h=n,this.g={}}ki(_m,gl);var L2=[];function V2(n,e,t,i){Array.isArray(t)||(t&&(L2[0]=t.toString()),t=L2);for(var r=0;r<t.length;r++){var o=S2(e,t[r],i||n.handleEvent,!1,n.h||n);if(!o)break;n.g[o.key]=o}}function B2(n){pT(n.g,function(e,t){this.g.hasOwnProperty(t)&&vT(e)},n),n.g={}}function gb(){this.g=!0}function th(n,e,t,i){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function Sne(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var i=t[n];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var o=r[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<r.length;s++)r[s]=""}}}return IT(t)}catch{return e}}(n,t)+(i?" "+i:"")})}_m.prototype.N=function(){_m.$.N.call(this),B2(this)},_m.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},gb.prototype.Ea=function(){this.g=!1},gb.prototype.info=function(){};var Nc={},U2=null;function _b(){return U2=U2||new Oi}function j2(n){dr.call(this,Nc.Ta,n)}function ym(n){const e=_b();Qi(e,new j2(e))}function z2(n,e){dr.call(this,Nc.STAT_EVENT,n),this.stat=e}function Fr(n){const e=_b();Qi(e,new z2(e,n))}function H2(n,e){dr.call(this,Nc.Ua,n),this.size=e}function vm(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return it.setTimeout(function(){n()},e)}Nc.Ta="serverreachability",ki(j2,dr),Nc.STAT_EVENT="statevent",ki(z2,dr),Nc.Ua="timingevent",ki(H2,dr);var yb={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},$2={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function DT(){}function q2(){}DT.prototype.h=null;var MT,bm={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function AT(){dr.call(this,"d")}function ST(){dr.call(this,"c")}function vb(){}function Em(n,e,t,i){this.l=n,this.j=e,this.m=t,this.W=i||1,this.U=new _m(this),this.P=Mne,this.V=new mb(n=lT?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new G2}function G2(){this.i=null,this.g="",this.h=!1}ki(AT,dr),ki(ST,dr),ki(vb,DT),vb.prototype.g=function(){return new XMLHttpRequest},vb.prototype.i=function(){return{}},MT=new vb;var Mne=45e3,RT={},bb={};function PT(n,e,t){n.L=1,n.v=xb(ga(e)),n.s=t,n.S=!0,Z2(n,null)}function Z2(n,e){n.G=Date.now(),wm(n),n.A=ga(n.v);var t=n.A,i=n.W;Array.isArray(i)||(i=[String(i)]),rB(t.i,"t",i),n.C=0,t=n.l.J,n.h=new G2,n.g=AB(n.l,t?e:null,!n.s),0<n.O&&(n.M=new Cne(ur(n.Pa,n,n.g),n.O)),V2(n.U,n.g,"readystatechange",n.nb),e=n.I?T2(n.I):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.A,n.u,n.s,e)):(n.u="GET",n.g.ha(n.A,n.u,null,e)),ym(),function Tne(n,e,t,i,r,o){n.info(function(){if(n.g)if(o)for(var s="",a=o.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var h=c[0];c=c[1];var p=h.split("_");s=2<=p.length&&"type"==p[1]?s+(h+"=")+c+"&":s+(h+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+e+"\n"+t+"\n"+s})}(n.j,n.u,n.A,n.m,n.W,n.s)}function K2(n){return!!n.g&&"GET"==n.u&&2!=n.L&&n.l.Ha}function Y2(n,e,t){let r,i=!0;for(;!n.J&&n.C<t.length;){if(r=Rne(n,t),r==bb){4==e&&(n.o=4,Fr(14),i=!1),th(n.j,n.m,null,"[Incomplete Response]");break}if(r==RT){n.o=4,Fr(15),th(n.j,n.m,t,"[Invalid Chunk]"),i=!1;break}th(n.j,n.m,r,null),kT(n,r)}K2(n)&&r!=bb&&r!=RT&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,Fr(16),i=!1),n.i=n.i&&i,i?0<t.length&&!n.ba&&(n.ba=!0,(e=n.l).g==n&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),UT(e),e.M=!0,Fr(11))):(th(n.j,n.m,t,"[Invalid Chunked Response]"),Fc(n),Im(n))}function Rne(n,e){var t=n.C,i=e.indexOf("\n",t);return-1==i?bb:(t=Number(e.substring(t,i)),isNaN(t)?RT:(i+=1)+t>e.length?bb:(e=e.slice(i,i+t),n.C=i+t,e))}function wm(n){n.Y=Date.now()+n.P,Q2(n,n.P)}function Q2(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=vm(ur(n.lb,n),e)}function Eb(n){n.B&&(it.clearTimeout(n.B),n.B=null)}function Im(n){0==n.l.H||n.J||xB(n.l,n)}function Fc(n){Eb(n);var e=n.M;e&&"function"==typeof e.sa&&e.sa(),n.M=null,CT(n.V),B2(n.U),n.g&&(e=n.g,n.g=null,e.abort(),e.sa())}function kT(n,e){try{var t=n.l;if(0!=t.H&&(t.g==n||OT(t.i,n)))if(!n.K&&OT(t.i,n)&&3==t.H){try{var i=t.Ja.g.parse(e)}catch{i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<n.G))break e;Mb(t),Ab(t)}BT(t),Fr(18)}}else t.Fa=r[1],0<t.Fa-t.V&&37500>r[2]&&t.G&&0==t.A&&!t.v&&(t.v=vm(ur(t.ib,t),6e3));if(1>=aB(t.i)&&t.oa){try{t.oa()}catch{}t.oa=void 0}}else Vc(t,11)}else if((n.K||t.g==n)&&Mb(t),!hm(e))for(r=t.Ja.g.parse(e),e=0;e<r.length;e++){let c=r[e];if(t.V=c[0],c=c[1],2==t.H)if("c"==c[0]){t.K=c[1],t.pa=c[2];const h=c[3];null!=h&&(t.ra=h,t.l.info("VER="+t.ra));const p=c[4];null!=p&&(t.Ga=p,t.l.info("SVER="+t.Ga));const g=c[5];null!=g&&"number"==typeof g&&0<g&&(t.L=i=1.5*g,t.l.info("backChannelRequestTimeoutMs_="+i)),i=t;const y=n.g;if(y){const w=y.g?y.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(w){var o=i.i;o.g||-1==w.indexOf("spdy")&&-1==w.indexOf("quic")&&-1==w.indexOf("h2")||(o.j=o.l,o.g=new Set,o.h&&(NT(o,o.h),o.h=null))}if(i.F){const x=y.g?y.g.getResponseHeader("X-HTTP-Session-Id"):null;x&&(i.Da=x,Sn(i.I,i.F,x))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-n.G,t.l.info("Handshake RTT: "+t.S+"ms"));var s=n;if((i=t).wa=DB(i,i.J?i.pa:null,i.Y),s.K){lB(i.i,s);var a=s,l=i.L;l&&a.setTimeout(l),a.B&&(Eb(a),wm(a)),i.g=s}else wB(i);0<t.j.length&&Sb(t)}else"stop"!=c[0]&&"close"!=c[0]||Vc(t,7);else 3==t.H&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?Vc(t,7):VT(t):"noop"!=c[0]&&t.h&&t.h.Aa(c),t.A=0)}ym()}catch{}}function X2(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(cb(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function kne(n){if(n.ta&&"function"==typeof n.ta)return n.ta();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(cb(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const i in n)e[t++]=i;return e}}}(n),i=function Pne(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(cb(n)){for(var e=[],t=n.length,i=0;i<t;i++)e.push(n[i]);return e}for(i in e=[],t=0,n)e[t++]=n[i];return e}(n),r=i.length,o=0;o<r;o++)e.call(void 0,i[o],t&&t[o],n)}(be=Em.prototype).setTimeout=function(n){this.P=n},be.nb=function(n){n=n.target;const e=this.M;e&&3==Rs(n)?e.l():this.Pa(n)},be.Pa=function(n){try{if(n==this.g)e:{const h=Rs(this.g);var e=this.g.Ia();if(this.g.da(),!(3>h)&&(3!=h||lT||this.g&&(this.h.h||this.g.ja()||gB(this.g)))){this.J||4!=h||7==e||ym(),Eb(this);var t=this.g.da();this.ca=t;t:if(K2(this)){var i=gB(this.g);n="";var r=i.length,o=4==Rs(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Fc(this),Im(this);var s="";break t}this.h.i=new it.TextDecoder}for(e=0;e<r;e++)this.h.h=!0,n+=this.h.i.decode(i[e],{stream:o&&e==r-1});i.splice(0,r),this.h.g+=n,this.C=0,s=this.h.g}else s=this.g.ja();if(this.i=200==t,function Dne(n,e,t,i,r,o,s){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+e+"\n"+t+"\n"+o+" "+s})}(this.j,this.u,this.A,this.m,this.W,h,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!hm(a)){var c=a;break t}}c=null}if(!(t=c)){this.i=!1,this.o=3,Fr(12),Fc(this),Im(this);break e}th(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,kT(this,t)}this.S?(Y2(this,h,s),lT&&this.i&&3==h&&(V2(this.U,this.V,"tick",this.mb),this.V.start())):(th(this.j,this.m,s,null),kT(this,s)),4==h&&Fc(this),this.i&&!this.J&&(4==h?xB(this.l,this):(this.i=!1,wm(this)))}else(function Qne(n){const e={};n=(n.g&&2<=Rs(n)&&n.g.getAllResponseHeaders()||"").split("\r\n");for(let i=0;i<n.length;i++){if(hm(n[i]))continue;var t=wne(n[i]);const r=t[0];if("string"!=typeof(t=t[1]))continue;t=t.trim();const o=e[r]||[];e[r]=o,o.push(t)}!function mne(n,e){for(const t in n)e.call(void 0,n[t],t,n)}(e,function(i){return i.join(", ")})})(this.g),400==t&&0<s.indexOf("Unknown SID")?(this.o=3,Fr(12)):(this.o=0,Fr(13)),Fc(this),Im(this)}}}catch{}},be.mb=function(){if(this.g){var n=Rs(this.g),e=this.g.ja();this.C<e.length&&(Eb(this),Y2(this,n,e),this.i&&4!=n&&wm(this))}},be.cancel=function(){this.J=!0,Fc(this)},be.lb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function Ane(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(ym(),Fr(17)),Fc(this),this.o=2,Im(this)):Q2(this,this.Y-n)};var J2=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Lc(n){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof Lc){this.h=n.h,wb(this,n.j),this.s=n.s,this.g=n.g,Ib(this,n.m),this.l=n.l;var e=n.i,t=new Tm;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),eB(this,t),this.o=n.o}else n&&(e=String(n).match(J2))?(this.h=!1,wb(this,e[1]||"",!0),this.s=xm(e[2]||""),this.g=xm(e[3]||"",!0),Ib(this,e[4]),this.l=xm(e[5]||"",!0),eB(this,e[6]||"",!0),this.o=xm(e[7]||"")):(this.h=!1,this.i=new Tm(null,this.h))}function ga(n){return new Lc(n)}function wb(n,e,t){n.j=t?xm(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function Ib(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function eB(n,e,t){e instanceof Tm?(n.i=e,function Une(n,e){e&&!n.j&&(_l(n),n.i=null,n.g.forEach(function(t,i){var r=i.toLowerCase();i!=r&&(nB(this,i),rB(this,r,t))},n)),n.j=e}(n.i,n.h)):(t||(e=Cm(e,Vne)),n.i=new Tm(e,n.h))}function Sn(n,e,t){n.i.set(e,t)}function xb(n){return Sn(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function xm(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Cm(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,Nne),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function Nne(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Lc.prototype.toString=function(){var n=[],e=this.j;e&&n.push(Cm(e,tB,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(Cm(e,tB,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(Cm(t,"/"==t.charAt(0)?Lne:Fne,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",Cm(t,Bne)),n.join("")};var tB=/[#\/\?@]/g,Fne=/[#\?:]/g,Lne=/[#\?]/g,Vne=/[#\?@]/g,Bne=/#/g;function Tm(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function _l(n){n.g||(n.g=new Map,n.h=0,n.i&&function One(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var i=n[t].indexOf("="),r=null;if(0<=i){var o=n[t].substring(0,i);r=n[t].substring(i+1)}else o=n[t];e(o,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function nB(n,e){_l(n),e=nh(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function iB(n,e){return _l(n),e=nh(n,e),n.g.has(e)}function rB(n,e,t){nB(n,e),0<t.length&&(n.i=null,n.g.set(nh(n,e),sT(t)),n.h+=t.length)}function nh(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function oB(n){this.l=n||zne,n=it.PerformanceNavigationTiming?0<(n=it.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(it.g&&it.g.Ka&&it.g.Ka()&&it.g.Ka().dc),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(be=Tm.prototype).add=function(n,e){_l(this),this.i=null,n=nh(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},be.forEach=function(n,e){_l(this),this.g.forEach(function(t,i){t.forEach(function(r){n.call(e,r,i,this)},this)},this)},be.ta=function(){_l(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let i=0;i<e.length;i++){const r=n[i];for(let o=0;o<r.length;o++)t.push(e[i])}return t},be.Z=function(n){_l(this);let e=[];if("string"==typeof n)iB(this,n)&&(e=e.concat(this.g.get(nh(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},be.set=function(n,e){return _l(this),this.i=null,iB(this,n=nh(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},be.get=function(n,e){return n&&0<(n=this.Z(n)).length?String(n[0]):e},be.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var i=e[t];const o=encodeURIComponent(String(i)),s=this.Z(i);for(i=0;i<s.length;i++){var r=o;""!==s[i]&&(r+="="+encodeURIComponent(String(s[i]))),n.push(r)}}return this.i=n.join("&")};var zne=10;function sB(n){return!!n.h||!!n.g&&n.g.size>=n.j}function aB(n){return n.h?1:n.g?n.g.size:0}function OT(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function NT(n,e){n.g?n.g.add(e):n.h=e}function lB(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function cB(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.F);return e}return sT(n.i)}oB.prototype.cancel=function(){if(this.i=cB(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}};var Hne=class{stringify(n){return it.JSON.stringify(n,void 0)}parse(n){return it.JSON.parse(n,void 0)}};function $ne(){this.g=new Hne}function Wne(n,e,t){const i=t||"";try{X2(n,function(r,o){let s=r;dm(r)&&(s=IT(r)),e.push(i+o+"="+encodeURIComponent(s))})}catch(r){throw e.push(i+"type="+encodeURIComponent("_badmap")),r}}function Cb(n,e,t,i,r){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,r(i)}catch{}}function Dm(n){this.l=n.ec||null,this.j=n.ob||!1}function Tb(n,e){Oi.call(this),this.F=n,this.u=e,this.m=void 0,this.readyState=FT,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}ki(Dm,DT),Dm.prototype.g=function(){return new Tb(this.l,this.j)},Dm.prototype.i=function(n){return function(){return n}}({}),ki(Tb,Oi);var FT=0;function uB(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function Am(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Sm(n)}function Sm(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(be=Tb.prototype).open=function(n,e){if(this.readyState!=FT)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,Sm(this)},be.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.F||it).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},be.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Am(this)),this.readyState=FT},be.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Sm(this)),this.g&&(this.readyState=3,Sm(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof it.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;uB(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},be.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?Am(this):Sm(this),3==this.readyState&&uB(this)}},be.Za=function(n){this.g&&(this.response=this.responseText=n,Am(this))},be.Ya=function(n){this.g&&(this.response=n,Am(this))},be.ka=function(){this.g&&Am(this)},be.setRequestHeader=function(n,e){this.v.append(n,e)},be.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},be.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(Tb.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var Gne=it.JSON.parse;function Zn(n){Oi.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=dB,this.L=this.M=!1}ki(Zn,Oi);var dB="",Zne=/^https?$/i,Kne=["POST","PUT"];function hB(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,fB(n),Db(n)}function fB(n){n.F||(n.F=!0,Qi(n,"complete"),Qi(n,"error"))}function pB(n){if(n.h&&typeof rT<"u"&&(!n.C[1]||4!=Rs(n)||2!=n.da()))if(n.v&&4==Rs(n))TT(n.La,0,n);else if(Qi(n,"readystatechange"),4==Rs(n)){n.h=!1;try{const s=n.da();e:switch(s){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var i;if(i=0===s){var r=String(n.I).match(J2)[1]||null;!r&&it.self&&it.self.location&&(r=it.self.location.protocol.slice(0,-1)),i=!Zne.test(r?r.toLowerCase():"")}t=i}if(t)Qi(n,"complete"),Qi(n,"success");else{n.m=6;try{var o=2<Rs(n)?n.g.statusText:""}catch{o=""}n.j=o+" ["+n.da()+"]",fB(n)}}finally{Db(n)}}}function Db(n,e){if(n.g){mB(n);const t=n.g,i=n.C[0]?()=>{}:null;n.g=null,n.C=null,e||Qi(n,"ready");try{t.onreadystatechange=i}catch{}}}function mB(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(it.clearTimeout(n.A),n.A=null)}function Rs(n){return n.g?n.g.readyState:0}function gB(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case dB:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function _B(n){let e="";return pT(n,function(t,i){e+=i,e+=":",e+=t,e+="\r\n"}),e}function LT(n,e,t){e:{for(i in t){var i=!1;break e}i=!0}i||(t=_B(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):Sn(n,e,t))}function Mm(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function yB(n){this.Ga=0,this.j=[],this.l=new gb,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Mm("failFast",!1,n),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Mm("baseRetryDelayMs",5e3,n),this.hb=Mm("retryDelaySeedMs",1e4,n),this.eb=Mm("forwardChannelMaxRetries",2,n),this.xa=Mm("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.useFetchStreams||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.i=new oB(n&&n.concurrentRequestLimit),this.Ja=new $ne,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.l.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.qa=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.qa=n.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function VT(n){if(vB(n),3==n.H){var e=n.W++,t=ga(n.I);if(Sn(t,"SID",n.K),Sn(t,"RID",e),Sn(t,"TYPE","terminate"),Rm(n,t),(e=new Em(n,n.l,e)).L=2,e.v=xb(ga(t)),t=!1,it.navigator&&it.navigator.sendBeacon)try{t=it.navigator.sendBeacon(e.v.toString(),"")}catch{}!t&&it.Image&&((new Image).src=e.v,t=!0),t||(e.g=AB(e.l,null),e.g.ha(e.v)),e.G=Date.now(),wm(e)}TB(n)}function Ab(n){n.g&&(UT(n),n.g.cancel(),n.g=null)}function vB(n){Ab(n),n.u&&(it.clearTimeout(n.u),n.u=null),Mb(n),n.i.cancel(),n.m&&("number"==typeof n.m&&it.clearTimeout(n.m),n.m=null)}function Sb(n){if(!sB(n.i)&&!n.m){n.m=!0;var e=n.Na;mm||N2(),gm||(mm(),gm=!0),xT.add(e,n),n.C=0}}function bB(n,e){var t;t=e?e.m:n.W++;const i=ga(n.I);Sn(i,"SID",n.K),Sn(i,"RID",t),Sn(i,"AID",n.V),Rm(n,i),n.o&&n.s&&LT(i,n.o,n.s),t=new Em(n,n.l,t,n.C+1),null===n.o&&(t.I=n.s),e&&(n.j=e.F.concat(n.j)),e=EB(n,t,1e3),t.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),NT(n.i,t),PT(t,i,e)}function Rm(n,e){n.na&&pT(n.na,function(t,i){Sn(e,i,t)}),n.h&&X2({},function(t,i){Sn(e,i,t)})}function EB(n,e,t){t=Math.min(n.j.length,t);var i=n.h?ur(n.h.Va,n.h,n):null;e:{var r=n.j;let o=-1;for(;;){const s=["count="+t];-1==o?0<t?(o=r[0].g,s.push("ofs="+o)):o=0:s.push("ofs="+o);let a=!0;for(let l=0;l<t;l++){let c=r[l].g;const h=r[l].map;if(c-=o,0>c)o=Math.max(0,r[l].g-100),a=!1;else try{Wne(h,s,"req"+c+"_")}catch{i&&i(h)}}if(a){i=s.join("&");break e}}}return n=n.j.splice(0,t),e.F=n,i}function wB(n){if(!n.g&&!n.u){n.ba=1;var e=n.Ma;mm||N2(),gm||(mm(),gm=!0),xT.add(e,n),n.A=0}}function BT(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=vm(ur(n.Ma,n),CB(n,n.A)),n.A++,0))}function UT(n){null!=n.B&&(it.clearTimeout(n.B),n.B=null)}function IB(n){n.g=new Em(n,n.l,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var e=ga(n.wa);Sn(e,"RID","rpc"),Sn(e,"SID",n.K),Sn(e,"AID",n.V),Sn(e,"CI",n.G?"0":"1"),!n.G&&n.qa&&Sn(e,"TO",n.qa),Sn(e,"TYPE","xmlhttp"),Rm(n,e),n.o&&n.s&&LT(e,n.o,n.s),n.L&&n.g.setTimeout(n.L);var t=n.g;n=n.pa,t.L=1,t.v=xb(ga(e)),t.s=null,t.S=!0,Z2(t,n)}function Mb(n){null!=n.v&&(it.clearTimeout(n.v),n.v=null)}function xB(n,e){var t=null;if(n.g==e){Mb(n),UT(n),n.g=null;var i=2}else{if(!OT(n.i,e))return;t=e.F,lB(n.i,e),i=1}if(0!=n.H)if(e.i)if(1==i){t=e.s?e.s.length:0,e=Date.now()-e.G;var r=n.C;Qi(i=_b(),new H2(i,t)),Sb(n)}else wB(n);else if(3==(r=e.o)||0==r&&0<e.ca||!(1==i&&function Xne(n,e){return!(aB(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.j=e.F.concat(n.j),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=vm(ur(n.Na,n,e),CB(n,n.C)),n.C++,0)))}(n,e)||2==i&&BT(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),r){case 1:Vc(n,5);break;case 4:Vc(n,10);break;case 3:Vc(n,6);break;default:Vc(n,2)}}function CB(n,e){let t=n.ab+Math.floor(Math.random()*n.hb);return n.isActive()||(t*=2),t*e}function Vc(n,e){if(n.l.info("Error code "+e),2==e){var t=null;n.h&&(t=null);var i=ur(n.pb,n);t||(t=new Lc("//www.google.com/images/cleardot.gif"),it.location&&"http"==it.location.protocol||wb(t,"https"),xb(t)),function qne(n,e){const t=new gb;if(it.Image){const i=new Image;i.onload=ub(Cb,t,i,"TestLoadImage: loaded",!0,e),i.onerror=ub(Cb,t,i,"TestLoadImage: error",!1,e),i.onabort=ub(Cb,t,i,"TestLoadImage: abort",!1,e),i.ontimeout=ub(Cb,t,i,"TestLoadImage: timeout",!1,e),it.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else e(!1)}(t.toString(),i)}else Fr(2);n.H=0,n.h&&n.h.za(e),TB(n),vB(n)}function TB(n){if(n.H=0,n.ma=[],n.h){const e=cB(n.i);(0!=e.length||0!=n.j.length)&&(E2(n.ma,e),E2(n.ma,n.j),n.i.i.length=0,sT(n.j),n.j.length=0),n.h.ya()}}function DB(n,e,t){var i=t instanceof Lc?ga(t):new Lc(t);if(""!=i.g)e&&(i.g=e+"."+i.g),Ib(i,i.m);else{var r=it.location;i=r.protocol,e=e?e+"."+r.hostname:r.hostname,r=+r.port;var o=new Lc(null);i&&wb(o,i),e&&(o.g=e),r&&Ib(o,r),t&&(o.l=t),i=o}return e=n.Da,(t=n.F)&&e&&Sn(i,t,e),Sn(i,"VER",n.ra),Rm(n,i),i}function AB(n,e,t){if(e&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Zn(t&&n.Ha&&!n.va?new Dm({ob:!0}):n.va)).Oa(n.J),e}function SB(){}function Rb(){if(eh&&!(10<=Number(dne)))throw Error("Environmental error: no available transport.")}function uo(n,e){Oi.call(this),this.g=new yB(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(n?n["X-WebChannel-Client-Profile"]=e.Ca:n={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=n,(n=e&&e.cc)&&!hm(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!hm(e)&&(this.g.F=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new ih(this)}function MB(n){AT.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function RB(){ST.call(this),this.status=1}function ih(n){this.g=n}function is(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function jT(n,e,t){t||(t=0);var i=Array(16);if("string"==typeof e)for(var r=0;16>r;++r)i[r]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(r=0;16>r;++r)i[r]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var o=n.g[3],s=(e=n.g[0])+(o^(t=n.g[1])&((r=n.g[2])^o))+i[0]+3614090360&4294967295;s=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=t+(s<<7&4294967295|s>>>25))+((s=o+(r^e&(t^r))+i[1]+3905402710&4294967295)<<12&4294967295|s>>>20))+((s=r+(t^o&(e^t))+i[2]+606105819&4294967295)<<17&4294967295|s>>>15))+((s=t+(e^r&(o^e))+i[3]+3250441966&4294967295)<<22&4294967295|s>>>10))+((s=e+(o^t&(r^o))+i[4]+4118548399&4294967295)<<7&4294967295|s>>>25))+((s=o+(r^e&(t^r))+i[5]+1200080426&4294967295)<<12&4294967295|s>>>20))+((s=r+(t^o&(e^t))+i[6]+2821735955&4294967295)<<17&4294967295|s>>>15))+((s=t+(e^r&(o^e))+i[7]+4249261313&4294967295)<<22&4294967295|s>>>10))+((s=e+(o^t&(r^o))+i[8]+1770035416&4294967295)<<7&4294967295|s>>>25))+((s=o+(r^e&(t^r))+i[9]+2336552879&4294967295)<<12&4294967295|s>>>20))+((s=r+(t^o&(e^t))+i[10]+4294925233&4294967295)<<17&4294967295|s>>>15))+((s=t+(e^r&(o^e))+i[11]+2304563134&4294967295)<<22&4294967295|s>>>10))+((s=e+(o^t&(r^o))+i[12]+1804603682&4294967295)<<7&4294967295|s>>>25))+((s=o+(r^e&(t^r))+i[13]+4254626195&4294967295)<<12&4294967295|s>>>20))+((s=r+(t^o&(e^t))+i[14]+2792965006&4294967295)<<17&4294967295|s>>>15))+((s=t+(e^r&(o^e))+i[15]+1236535329&4294967295)<<22&4294967295|s>>>10))+((s=e+(r^o&(t^r))+i[1]+4129170786&4294967295)<<5&4294967295|s>>>27))+((s=o+(t^r&(e^t))+i[6]+3225465664&4294967295)<<9&4294967295|s>>>23))+((s=r+(e^t&(o^e))+i[11]+643717713&4294967295)<<14&4294967295|s>>>18))+((s=t+(o^e&(r^o))+i[0]+3921069994&4294967295)<<20&4294967295|s>>>12))+((s=e+(r^o&(t^r))+i[5]+3593408605&4294967295)<<5&4294967295|s>>>27))+((s=o+(t^r&(e^t))+i[10]+38016083&4294967295)<<9&4294967295|s>>>23))+((s=r+(e^t&(o^e))+i[15]+3634488961&4294967295)<<14&4294967295|s>>>18))+((s=t+(o^e&(r^o))+i[4]+3889429448&4294967295)<<20&4294967295|s>>>12))+((s=e+(r^o&(t^r))+i[9]+568446438&4294967295)<<5&4294967295|s>>>27))+((s=o+(t^r&(e^t))+i[14]+3275163606&4294967295)<<9&4294967295|s>>>23))+((s=r+(e^t&(o^e))+i[3]+4107603335&4294967295)<<14&4294967295|s>>>18))+((s=t+(o^e&(r^o))+i[8]+1163531501&4294967295)<<20&4294967295|s>>>12))+((s=e+(r^o&(t^r))+i[13]+2850285829&4294967295)<<5&4294967295|s>>>27))+((s=o+(t^r&(e^t))+i[2]+4243563512&4294967295)<<9&4294967295|s>>>23))+((s=r+(e^t&(o^e))+i[7]+1735328473&4294967295)<<14&4294967295|s>>>18))+((s=t+(o^e&(r^o))+i[12]+2368359562&4294967295)<<20&4294967295|s>>>12))+((s=e+(t^r^o)+i[5]+4294588738&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^t^r)+i[8]+2272392833&4294967295)<<11&4294967295|s>>>21))+((s=r+(o^e^t)+i[11]+1839030562&4294967295)<<16&4294967295|s>>>16))+((s=t+(r^o^e)+i[14]+4259657740&4294967295)<<23&4294967295|s>>>9))+((s=e+(t^r^o)+i[1]+2763975236&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^t^r)+i[4]+1272893353&4294967295)<<11&4294967295|s>>>21))+((s=r+(o^e^t)+i[7]+4139469664&4294967295)<<16&4294967295|s>>>16))+((s=t+(r^o^e)+i[10]+3200236656&4294967295)<<23&4294967295|s>>>9))+((s=e+(t^r^o)+i[13]+681279174&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^t^r)+i[0]+3936430074&4294967295)<<11&4294967295|s>>>21))+((s=r+(o^e^t)+i[3]+3572445317&4294967295)<<16&4294967295|s>>>16))+((s=t+(r^o^e)+i[6]+76029189&4294967295)<<23&4294967295|s>>>9))+((s=e+(t^r^o)+i[9]+3654602809&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^t^r)+i[12]+3873151461&4294967295)<<11&4294967295|s>>>21))+((s=r+(o^e^t)+i[15]+530742520&4294967295)<<16&4294967295|s>>>16))+((s=t+(r^o^e)+i[2]+3299628645&4294967295)<<23&4294967295|s>>>9))+((s=e+(r^(t|~o))+i[0]+4096336452&4294967295)<<6&4294967295|s>>>26))+((s=o+(t^(e|~r))+i[7]+1126891415&4294967295)<<10&4294967295|s>>>22))+((s=r+(e^(o|~t))+i[14]+2878612391&4294967295)<<15&4294967295|s>>>17))+((s=t+(o^(r|~e))+i[5]+4237533241&4294967295)<<21&4294967295|s>>>11))+((s=e+(r^(t|~o))+i[12]+1700485571&4294967295)<<6&4294967295|s>>>26))+((s=o+(t^(e|~r))+i[3]+2399980690&4294967295)<<10&4294967295|s>>>22))+((s=r+(e^(o|~t))+i[10]+4293915773&4294967295)<<15&4294967295|s>>>17))+((s=t+(o^(r|~e))+i[1]+2240044497&4294967295)<<21&4294967295|s>>>11))+((s=e+(r^(t|~o))+i[8]+1873313359&4294967295)<<6&4294967295|s>>>26))+((s=o+(t^(e|~r))+i[15]+4264355552&4294967295)<<10&4294967295|s>>>22))+((s=r+(e^(o|~t))+i[6]+2734768916&4294967295)<<15&4294967295|s>>>17))+((s=t+(o^(r|~e))+i[13]+1309151649&4294967295)<<21&4294967295|s>>>11))+((o=(e=t+((s=e+(r^(t|~o))+i[4]+4149444226&4294967295)<<6&4294967295|s>>>26))+((s=o+(t^(e|~r))+i[11]+3174756917&4294967295)<<10&4294967295|s>>>22))^((r=o+((s=r+(e^(o|~t))+i[2]+718787259&4294967295)<<15&4294967295|s>>>17))|~e))+i[9]+3951481745&4294967295,n.g[0]=n.g[0]+e&4294967295,n.g[1]=n.g[1]+(r+(s<<21&4294967295|s>>>11))&4294967295,n.g[2]=n.g[2]+r&4294967295,n.g[3]=n.g[3]+o&4294967295}function en(n,e){this.h=e;for(var t=[],i=!0,r=n.length-1;0<=r;r--){var o=0|n[r];i&&o==e||(t[r]=o,i=!1)}this.g=t}(be=Zn.prototype).Oa=function(n){this.M=n},be.ha=function(n,e,t,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);e=e?e.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():MT.g(),this.C=function W2(n){return n.h||(n.h=n.i())}(this.u?this.u:MT),this.g.onreadystatechange=ur(this.La,this);try{this.G=!0,this.g.open(e,String(n),!0),this.G=!1}catch(o){return void hB(this,o)}if(n=t||"",t=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var r in i)t.set(r,i[r]);else{if("function"!=typeof i.keys||"function"!=typeof i.get)throw Error("Unknown input type for opt_headers: "+String(i));for(const o of i.keys())t.set(o,i.get(o))}i=Array.from(t.keys()).find(o=>"content-type"==o.toLowerCase()),r=it.FormData&&n instanceof it.FormData,!(0<=b2(Kne,e))||i||r||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,s]of t)this.g.setRequestHeader(o,s);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{mB(this),0<this.B&&((this.L=function Yne(n){return eh&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=ur(this.ua,this)):this.A=TT(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(o){hB(this,o)}},be.ua=function(){typeof rT<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Qi(this,"timeout"),this.abort(8))},be.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Qi(this,"complete"),Qi(this,"abort"),Db(this))},be.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Db(this,!0)),Zn.$.N.call(this)},be.La=function(){this.s||(this.G||this.v||this.l?pB(this):this.kb())},be.kb=function(){pB(this)},be.isActive=function(){return!!this.g},be.da=function(){try{return 2<Rs(this)?this.g.status:-1}catch{return-1}},be.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},be.Wa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),Gne(e)}},be.Ia=function(){return this.m},be.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(be=yB.prototype).ra=8,be.H=1,be.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const r=new Em(this,this.l,n);let o=this.s;if(this.U&&(o?(o=T2(o),A2(o,this.U)):o=this.U),null!==this.o||this.O||(r.I=o,o=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){var i=this.j[t];if(void 0===(i="__data__"in i.map&&"string"==typeof(i=i.map.__data__)?i.length:void 0))break;if(4096<(e+=i)){e=t;break e}if(4096===e||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=EB(this,r,e),Sn(t=ga(this.I),"RID",n),Sn(t,"CVER",22),this.F&&Sn(t,"X-HTTP-Session-Id",this.F),Rm(this,t),o&&(this.O?e="headers="+encodeURIComponent(String(_B(o)))+"&"+e:this.o&&LT(t,this.o,o)),NT(this.i,r),this.bb&&Sn(t,"TYPE","init"),this.P?(Sn(t,"$req",e),Sn(t,"SID","null"),r.aa=!0,PT(r,t,null)):PT(r,t,e),this.H=2}}else 3==this.H&&(n?bB(this,n):0==this.j.length||sB(this.i)||bB(this))},be.Ma=function(){if(this.u=null,IB(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var n=2*this.S;this.l.info("BP detection timer enabled: "+n),this.B=vm(ur(this.jb,this),n)}},be.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Fr(10),Ab(this),IB(this))},be.ib=function(){null!=this.v&&(this.v=null,Ab(this),BT(this),Fr(19))},be.pb=function(n){n?(this.l.info("Successfully pinged google.com"),Fr(2)):(this.l.info("Failed to ping google.com"),Fr(1))},be.isActive=function(){return!!this.h&&this.h.isActive(this)},(be=SB.prototype).Ba=function(){},be.Aa=function(){},be.za=function(){},be.ya=function(){},be.isActive=function(){return!0},be.Va=function(){},Rb.prototype.g=function(n,e){return new uo(n,e)},ki(uo,Oi),uo.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var n=this.g,e=this.l,t=this.h||void 0;Fr(0),n.Y=e,n.na=t||{},n.G=n.aa,n.I=DB(n,null,n.Y),Sb(n)},uo.prototype.close=function(){VT(this.g)},uo.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=IT(n),n=t);e.j.push(new class{constructor(n,e){this.g=n,this.map=e}}(e.fb++,n)),3==e.H&&Sb(e)},uo.prototype.N=function(){this.g.h=null,delete this.j,VT(this.g),delete this.g,uo.$.N.call(this)},ki(MB,AT),ki(RB,ST),ki(ih,SB),ih.prototype.Ba=function(){Qi(this.g,"a")},ih.prototype.Aa=function(n){Qi(this.g,new MB(n))},ih.prototype.za=function(n){Qi(this.g,new RB)},ih.prototype.ya=function(){Qi(this.g,"b")},ki(is,function Jne(){this.blockSize=-1}),is.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},is.prototype.j=function(n,e){void 0===e&&(e=n.length);for(var t=e-this.blockSize,i=this.m,r=this.h,o=0;o<e;){if(0==r)for(;o<=t;)jT(this,n,o),o+=this.blockSize;if("string"==typeof n){for(;o<e;)if(i[r++]=n.charCodeAt(o++),r==this.blockSize){jT(this,i),r=0;break}}else for(;o<e;)if(i[r++]=n[o++],r==this.blockSize){jT(this,i),r=0;break}}this.h=r,this.i+=e},is.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var e=1;e<n.length-8;++e)n[e]=0;var t=8*this.i;for(e=n.length-8;e<n.length;++e)n[e]=255&t,t/=256;for(this.j(n),n=Array(16),e=t=0;4>e;++e)for(var i=0;32>i;i+=8)n[t++]=this.g[e]>>>i&255;return n};var eie={};function zT(n){return-128<=n&&128>n?function lne(n,e){var t=eie;return Object.prototype.hasOwnProperty.call(t,n)?t[n]:t[n]=e(n)}(n,function(e){return new en([0|e],0>e?-1:0)}):new en([0|n],0>n?-1:0)}function Ps(n){if(isNaN(n)||!isFinite(n))return rh;if(0>n)return Xi(Ps(-n));for(var e=[],t=1,i=0;n>=t;i++)e[i]=n/t|0,t*=HT;return new en(e,0)}var HT=4294967296,rh=zT(0),$T=zT(1),kB=zT(16777216);function _a(n){if(0!=n.h)return!1;for(var e=0;e<n.g.length;e++)if(0!=n.g[e])return!1;return!0}function Vo(n){return-1==n.h}function Xi(n){for(var e=n.g.length,t=[],i=0;i<e;i++)t[i]=~n.g[i];return new en(t,~n.h).add($T)}function Pb(n,e){return n.add(Xi(e))}function kb(n,e){for(;(65535&n[e])!=n[e];)n[e+1]+=n[e]>>>16,n[e]&=65535,e++}function Pm(n,e){this.g=n,this.h=e}function Ob(n,e){if(_a(e))throw Error("division by zero");if(_a(n))return new Pm(rh,rh);if(Vo(n))return e=Ob(Xi(n),e),new Pm(Xi(e.g),Xi(e.h));if(Vo(e))return e=Ob(n,Xi(e)),new Pm(Xi(e.g),e.h);if(30<n.g.length){if(Vo(n)||Vo(e))throw Error("slowDivide_ only works with positive integers.");for(var t=$T,i=e;0>=i.X(n);)t=OB(t),i=OB(i);var r=oh(t,1),o=oh(i,1);for(i=oh(i,2),t=oh(t,2);!_a(i);){var s=o.add(i);0>=s.X(n)&&(r=r.add(t),o=s),i=oh(i,1),t=oh(t,1)}return e=Pb(n,r.R(e)),new Pm(r,e)}for(r=rh;0<=n.X(e);){for(t=Math.max(1,Math.floor(n.ea()/e.ea())),i=48>=(i=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,i-48),s=(o=Ps(t)).R(e);Vo(s)||0<s.X(n);)s=(o=Ps(t-=i)).R(e);_a(o)&&(o=$T),r=r.add(o),n=Pb(n,s)}return new Pm(r,n)}function OB(n){for(var e=n.g.length+1,t=[],i=0;i<e;i++)t[i]=n.D(i)<<1|n.D(i-1)>>>31;return new en(t,n.h)}function oh(n,e){var t=e>>5;e%=32;for(var i=n.g.length-t,r=[],o=0;o<i;o++)r[o]=0<e?n.D(o+t)>>>e|n.D(o+t+1)<<32-e:n.D(o+t);return new en(r,n.h)}(be=en.prototype).ea=function(){if(Vo(this))return-Xi(this).ea();for(var n=0,e=1,t=0;t<this.g.length;t++){var i=this.D(t);n+=(0<=i?i:HT+i)*e,e*=HT}return n},be.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(_a(this))return"0";if(Vo(this))return"-"+Xi(this).toString(n);for(var e=Ps(Math.pow(n,6)),t=this,i="";;){var r=Ob(t,e).g,o=((0<(t=Pb(t,r.R(e))).g.length?t.g[0]:t.h)>>>0).toString(n);if(_a(t=r))return o+i;for(;6>o.length;)o="0"+o;i=o+i}},be.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},be.X=function(n){return Vo(n=Pb(this,n))?-1:_a(n)?0:1},be.abs=function(){return Vo(this)?Xi(this):this},be.add=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0,r=0;r<=e;r++){var o=i+(65535&this.D(r))+(65535&n.D(r)),s=(o>>>16)+(this.D(r)>>>16)+(n.D(r)>>>16);i=s>>>16,t[r]=(s&=65535)<<16|(o&=65535)}return new en(t,-2147483648&t[t.length-1]?-1:0)},be.R=function(n){if(_a(this)||_a(n))return rh;if(Vo(this))return Vo(n)?Xi(this).R(Xi(n)):Xi(Xi(this).R(n));if(Vo(n))return Xi(this.R(Xi(n)));if(0>this.X(kB)&&0>n.X(kB))return Ps(this.ea()*n.ea());for(var e=this.g.length+n.g.length,t=[],i=0;i<2*e;i++)t[i]=0;for(i=0;i<this.g.length;i++)for(var r=0;r<n.g.length;r++){var o=this.D(i)>>>16,s=65535&this.D(i),a=n.D(r)>>>16,l=65535&n.D(r);t[2*i+2*r]+=s*l,kb(t,2*i+2*r),t[2*i+2*r+1]+=o*l,kb(t,2*i+2*r+1),t[2*i+2*r+1]+=s*a,kb(t,2*i+2*r+1),t[2*i+2*r+2]+=o*a,kb(t,2*i+2*r+2)}for(i=0;i<e;i++)t[i]=t[2*i+1]<<16|t[2*i];for(i=e;i<2*e;i++)t[i]=0;return new en(t,0)},be.gb=function(n){return Ob(this,n).h},be.and=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0;i<e;i++)t[i]=this.D(i)&n.D(i);return new en(t,this.h&n.h)},be.or=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0;i<e;i++)t[i]=this.D(i)|n.D(i);return new en(t,this.h|n.h)},be.xor=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0;i<e;i++)t[i]=this.D(i)^n.D(i);return new en(t,this.h^n.h)},Rb.prototype.createWebChannel=Rb.prototype.g,uo.prototype.send=uo.prototype.u,uo.prototype.open=uo.prototype.m,uo.prototype.close=uo.prototype.close,yb.NO_ERROR=0,yb.TIMEOUT=8,yb.HTTP_ERROR=6,$2.COMPLETE="complete",q2.EventType=bm,bm.OPEN="a",bm.CLOSE="b",bm.ERROR="c",bm.MESSAGE="d",Oi.prototype.listen=Oi.prototype.O,Zn.prototype.listenOnce=Zn.prototype.P,Zn.prototype.getLastError=Zn.prototype.Sa,Zn.prototype.getLastErrorCode=Zn.prototype.Ia,Zn.prototype.getStatus=Zn.prototype.da,Zn.prototype.getResponseJson=Zn.prototype.Wa,Zn.prototype.getResponseText=Zn.prototype.ja,Zn.prototype.send=Zn.prototype.ha,Zn.prototype.setWithCredentials=Zn.prototype.Oa,is.prototype.digest=is.prototype.l,is.prototype.reset=is.prototype.reset,is.prototype.update=is.prototype.j,en.prototype.add=en.prototype.add,en.prototype.multiply=en.prototype.R,en.prototype.modulo=en.prototype.gb,en.prototype.compare=en.prototype.X,en.prototype.toNumber=en.prototype.ea,en.prototype.toString=en.prototype.toString,en.prototype.getBits=en.prototype.D,en.fromNumber=Ps,en.fromString=function PB(n,e){if(0==n.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==n.charAt(0))return Xi(PB(n.substring(1),e));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=Ps(Math.pow(e,8)),i=rh,r=0;r<n.length;r+=8){var o=Math.min(8,n.length-r),s=parseInt(n.substring(r,r+o),e);8>o?(o=Ps(Math.pow(e,o)),i=i.R(o).add(Ps(s))):i=(i=i.R(t)).add(Ps(s))}return i};var tie=ns.createWebChannelTransport=function(){return new Rb},nie=ns.getStatEventTarget=function(){return _b()},WT=ns.ErrorCode=yb,iie=ns.EventType=$2,rie=ns.Event=Nc,NB=ns.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},oie=ns.FetchXmlHttpFactory=Dm,Nb=ns.WebChannel=q2,sie=ns.XhrIo=Zn,aie=ns.Md5=is,sh=ns.Integer=en;const FB="@firebase/firestore";class Ni{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ni.UNAUTHENTICATED=new Ni(null),Ni.GOOGLE_CREDENTIALS=new Ni("google-credentials-uid"),Ni.FIRST_PARTY=new Ni("first-party-uid"),Ni.MOCK_USER=new Ni("mock-user");let ah="10.5.2";const yl=new Ss.Yd("@firebase/firestore");function lh(){return yl.logLevel}function se(n,...e){if(yl.logLevel<=Ss.in.DEBUG){const t=e.map(qT);yl.debug(`Firestore (${ah}): ${n}`,...t)}}function li(n,...e){if(yl.logLevel<=Ss.in.ERROR){const t=e.map(qT);yl.error(`Firestore (${ah}): ${n}`,...t)}}function Gr(n,...e){if(yl.logLevel<=Ss.in.WARN){const t=e.map(qT);yl.warn(`Firestore (${ah}): ${n}`,...t)}}function qT(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function xe(n="Unexpected state"){const e=`FIRESTORE (${ah}) INTERNAL ASSERTION FAILED: `+n;throw li(e),new Error(e)}function ke(n,e){n||xe()}function me(n,e){return n}const W={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ne extends sn.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class xi{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class LB{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class uie{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Ni.UNAUTHENTICATED))}shutdown(){}}class die{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class hie{constructor(e){this.t=e,this.currentUser=Ni.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var i=this;let r=this.i;const o=c=>this.i!==r?(r=this.i,t(c)):Promise.resolve();let s=new xi;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new xi,e.enqueueRetryable(()=>o(this.currentUser))};const a=()=>{const c=s;e.enqueueRetryable((0,Y.Z)(function*(){yield c.promise,yield o(i.currentUser)}))},l=c=>{se("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(c=>l(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(se("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new xi)}},0),a()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(se("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(ke("string"==typeof i.accessToken),new LB(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return ke(null===e||"string"==typeof e),new Ni(e)}}class fie{constructor(e,t,i){this.l=e,this.h=t,this.P=i,this.type="FirstParty",this.user=Ni.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class pie{constructor(e,t,i){this.l=e,this.h=t,this.P=i}getToken(){return Promise.resolve(new fie(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(Ni.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class VB{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class mie{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){const i=o=>{null!=o.error&&se("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.R;return this.R=o.token,se("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>i(o))};const r=o=>{se("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>r(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?r(o):se("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(ke("string"==typeof t.token),this.R=t.token,new VB(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function gie(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}class BB{static newId(){const t=62*Math.floor(256/62);let i="";for(;i.length<20;){const r=gie(40);for(let o=0;o<r.length;++o)i.length<20&&r[o]<t&&(i+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(r[o]%62))}return i}}function et(n,e){return n<e?-1:n>e?1:0}function ch(n,e,t){return n.length===e.length&&n.every((i,r)=>t(i,e[r]))}function UB(n){return n+"\0"}class Nn{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ne(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ne(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new ne(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ne(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Nn.fromMillis(Date.now())}static fromDate(e){return Nn.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*t));return new Nn(t,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?et(this.nanoseconds,e.nanoseconds):et(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Oe{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Oe(e)}static min(){return new Oe(new Nn(0,0))}static max(){return new Oe(new Nn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class km{constructor(e,t,i){void 0===t?t=0:t>e.length&&xe(),void 0===i?i=e.length-t:i>e.length-t&&xe(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return 0===km.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof km?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let r=0;r<i;r++){const o=e.get(r),s=t.get(r);if(o<s)return-1;if(o>s)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Vt extends km{construct(e,t,i){return new Vt(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new ne(W.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(r=>r.length>0))}return new Vt(t)}static emptyPath(){return new Vt([])}}const _ie=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Mn extends km{construct(e,t,i){return new Mn(e,t,i)}static isValidIdentifier(e){return _ie.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Mn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Mn(["__name__"])}static fromServerFormat(e){const t=[];let i="",r=0;const o=()=>{if(0===i.length)throw new ne(W.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let s=!1;for(;r<e.length;){const a=e[r];if("\\"===a){if(r+1===e.length)throw new ne(W.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[r+1];if("\\"!==l&&"."!==l&&"`"!==l)throw new ne(W.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=l,r+=2}else"`"===a?(s=!s,r++):"."!==a||s?(i+=a,r++):(o(),r++)}if(o(),s)throw new ne(W.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Mn(t)}static emptyPath(){return new Mn([])}}class ge{constructor(e){this.path=e}static fromPath(e){return new ge(Vt.fromString(e))}static fromName(e){return new ge(Vt.fromString(e).popFirst(5))}static empty(){return new ge(Vt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Vt.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Vt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ge(new Vt(e.slice()))}}class uh{constructor(e,t,i,r){this.indexId=e,this.collectionGroup=t,this.fields=i,this.indexState=r}}function GT(n){return n.fields.find(e=>2===e.kind)}function Bc(n){return n.fields.filter(e=>2!==e.kind)}uh.UNKNOWN_ID=-1;class Uc{constructor(e,t){this.fieldPath=e,this.kind=t}}class dh{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new dh(0,ho.min())}}function jB(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=Oe.fromTimestamp(1e9===i?new Nn(t+1,0):new Nn(t,i));return new ho(r,ge.empty(),e)}function zB(n){return new ho(n.readTime,n.key,-1)}class ho{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new ho(Oe.min(),ge.empty(),-1)}static max(){return new ho(Oe.max(),ge.empty(),-1)}}function ZT(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=ge.comparator(n.documentKey,e.documentKey),0!==t?t:et(n.largestBatchId,e.largestBatchId))}const HB="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class $B{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function vl(n){return KT.apply(this,arguments)}function KT(){return KT=(0,Y.Z)(function*(n){if(n.code!==W.FAILED_PRECONDITION||n.message!==HB)throw n;se("LocalStore","Unexpectedly lost primary lease")}),KT.apply(this,arguments)}class B{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&xe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new B((i,r)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(i,r)},this.catchCallback=o=>{this.wrapFailure(t,o).next(i,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof B?t:B.resolve(t)}catch(t){return B.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):B.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):B.reject(t)}static resolve(e){return new B((t,i)=>{t(e)})}static reject(e){return new B((t,i)=>{i(e)})}static waitFor(e){return new B((t,i)=>{let r=0,o=0,s=!1;e.forEach(a=>{++r,a.next(()=>{++o,s&&o===r&&t()},l=>i(l))}),s=!0,o===r&&t()})}static or(e){let t=B.resolve(!1);for(const i of e)t=t.next(r=>r?B.resolve(r):i());return t}static forEach(e,t){const i=[];return e.forEach((r,o)=>{i.push(t.call(this,r,o))}),this.waitFor(i)}static mapArray(e,t){return new B((i,r)=>{const o=e.length,s=new Array(o);let a=0;for(let l=0;l<o;l++){const c=l;t(e[c]).next(h=>{s[c]=h,++a,a===o&&i(s)},h=>r(h))}})}static doWhile(e,t){return new B((i,r)=>{const o=()=>{!0===e()?t().next(()=>{o()},r):i()};o()})}}class Fb{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.V=new xi,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{t.error?this.V.reject(new Om(e,t.error)):this.V.resolve()},this.transaction.onerror=i=>{const r=YT(i.target.error);this.V.reject(new Om(e,r))}}static open(e,t,i,r){try{return new Fb(t,e.transaction(r,i))}catch(o){throw new Om(t,o)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(se("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new Eie(t)}}class rs{constructor(e,t,i){this.name=e,this.version=t,this.p=i,12.2===rs.S((0,sn.z$)())&&li("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return se("SimpleDb","Removing database:",e),jc(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,sn.hl)())return!1;if(rs.C())return!0;const e=(0,sn.z$)(),t=rs.S(e),i=0<t&&t<10,r=rs.v(e),o=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||i||o)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.F)}static M(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(i)}static v(e){const t=e.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}O(e){var t=this;return(0,Y.Z)(function*(){return t.db||(se("SimpleDb","Opening database:",t.name),t.db=yield new Promise((i,r)=>{const o=indexedDB.open(t.name,t.version);o.onsuccess=s=>{i(s.target.result)},o.onblocked=()=>{r(new Om(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},o.onerror=s=>{const a=s.target.error;r("VersionError"===a.name?new ne(W.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===a.name?new ne(W.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+a):new Om(e,a))},o.onupgradeneeded=s=>{se("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',s.oldVersion),t.p.N(s.target.result,o.transaction,s.oldVersion,t.version).next(()=>{se("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.B&&(t.db.onversionchange=i=>t.B(i)),t.db})()}L(e){this.B=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,i,r){var o=this;return(0,Y.Z)(function*(){const s="readonly"===t;let a=0;for(;;){++a;try{o.db=yield o.O(e);const l=Fb.open(o.db,e,s?"readonly":"readwrite",i),c=r(l).next(h=>(l.g(),h)).catch(h=>(l.abort(h),B.reject(h))).toPromise();return c.catch(()=>{}),yield l.m,c}catch(l){const c=l,h="FirebaseError"!==c.name&&a<3;if(se("SimpleDb","Transaction failed with error:",c.message,"Retrying:",h),o.close(),!h)return Promise.reject(c)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class bie{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return jc(this.k.delete())}}class Om extends ne{constructor(e,t){super(W.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function bl(n){return"IndexedDbTransactionError"===n.name}class Eie{constructor(e){this.store=e}put(e,t){let i;return void 0!==t?(se("SimpleDb","PUT",this.store.name,e,t),i=this.store.put(t,e)):(se("SimpleDb","PUT",this.store.name,"<auto-key>",e),i=this.store.put(e)),jc(i)}add(e){return se("SimpleDb","ADD",this.store.name,e,e),jc(this.store.add(e))}get(e){return jc(this.store.get(e)).next(t=>(void 0===t&&(t=null),se("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return se("SimpleDb","DELETE",this.store.name,e),jc(this.store.delete(e))}count(){return se("SimpleDb","COUNT",this.store.name),jc(this.store.count())}W(e,t){const i=this.options(e,t);if(i.index||"function"!=typeof this.store.getAll){const r=this.cursor(i),o=[];return this.G(r,(s,a)=>{o.push(a)}).next(()=>o)}{const r=this.store.getAll(i.range);return new B((o,s)=>{r.onerror=a=>{s(a.target.error)},r.onsuccess=a=>{o(a.target.result)}})}}j(e,t){const i=this.store.getAll(e,null===t?void 0:t);return new B((r,o)=>{i.onerror=s=>{o(s.target.error)},i.onsuccess=s=>{r(s.target.result)}})}H(e,t){se("SimpleDb","DELETE ALL",this.store.name);const i=this.options(e,t);i.J=!1;const r=this.cursor(i);return this.G(r,(o,s,a)=>a.delete())}Y(e,t){let i;t?i=e:(i={},t=e);const r=this.cursor(i);return this.G(r,t)}Z(e){const t=this.cursor({});return new B((i,r)=>{t.onerror=o=>{const s=YT(o.target.error);r(s)},t.onsuccess=o=>{const s=o.target.result;s?e(s.primaryKey,s.value).next(a=>{a?s.continue():i()}):i()}})}G(e,t){const i=[];return new B((r,o)=>{e.onerror=s=>{o(s.target.error)},e.onsuccess=s=>{const a=s.target.result;if(!a)return void r();const l=new bie(a),c=t(a.primaryKey,a.value,l);if(c instanceof B){const h=c.catch(p=>(l.done(),B.reject(p)));i.push(h)}l.isDone?r():null===l.$?a.continue():a.continue(l.$)}}).next(()=>B.waitFor(i))}options(e,t){let i;return void 0!==e&&("string"==typeof e?i=e:t=e),{index:i,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const i=this.store.index(e.index);return e.J?i.openKeyCursor(e.range,t):i.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function jc(n){return new B((e,t)=>{n.onsuccess=i=>{e(i.target.result)},n.onerror=i=>{const r=YT(i.target.error);t(r)}})}let WB=!1;function YT(n){const e=rs.S((0,sn.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const i=new ne("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return WB||(WB=!0,setTimeout(()=>{throw i},0)),i}}return n}class wie{constructor(e,t){this.asyncQueue=e,this.X=t,this.task=null}start(){this.ee(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}ee(e){var t=this;se("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,Y.Z)(function*(){t.task=null;try{se("IndexBackiller",`Documents written: ${yield t.X.te()}`)}catch(i){bl(i)?se("IndexBackiller","Ignoring IndexedDB error during index backfill: ",i):yield vl(i)}yield t.ee(6e4)}))}}class Iie{constructor(e,t){this.localStore=e,this.persistence=t}te(e=50){var t=this;return(0,Y.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",i=>t.ne(i,e))})()}ne(e,t){const i=new Set;let r=t,o=!0;return B.doWhile(()=>!0===o&&r>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(s=>{if(null!==s&&!i.has(s))return se("IndexBackiller",`Processing collection: ${s}`),this.re(e,s,r).next(a=>{r-=a,i.add(s)});o=!1})).next(()=>t-r)}re(e,t,i){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(r=>this.localStore.localDocuments.getNextDocuments(e,t,r,i).next(o=>{const s=o.changes;return this.localStore.indexManager.updateIndexEntries(e,s).next(()=>this.ie(r,o)).next(a=>(se("IndexBackiller",`Updating offset: ${a}`),this.localStore.indexManager.updateCollectionGroup(e,t,a))).next(()=>s.size)}))}ie(e,t){let i=e;return t.changes.forEach((r,o)=>{const s=zB(o);ZT(s,i)>0&&(i=s)}),new ho(i.readTime,i.documentKey,Math.max(t.batchId,e.largestBatchId))}}let fo=(()=>{class n{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=r=>this.se(r),this.oe=r=>i.writeSequenceNumber(r))}se(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.oe&&this.oe(t),t}}return n._e=-1,n})();function Nm(n){return null==n}function Fm(n){return 0===n&&1/n==-1/0}function qB(n){return"number"==typeof n&&Number.isInteger(n)&&!Fm(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}function hr(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=GB(e)),e=xie(n.get(t),e);return GB(e)}function xie(n,e){let t=e;const i=n.length;for(let r=0;r<i;r++){const o=n.charAt(r);switch(o){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=o}}return t}function GB(n){return n+"\x01\x01"}function ks(n){const e=n.length;if(ke(e>=2),2===e)return ke("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),Vt.emptyPath();const t=e-2,i=[];let r="";for(let o=0;o<e;){const s=n.indexOf("\x01",o);switch((s<0||s>t)&&xe(),n.charAt(s+1)){case"\x01":const a=n.substring(o,s);let l;0===r.length?l=a:(r+=a,l=r,r=""),i.push(l);break;case"\x10":r+=n.substring(o,s),r+="\0";break;case"\x11":r+=n.substring(o,s+1);break;default:xe()}o=s+2}return new Vt(i)}const ZB=["userId","batchId"];function Lb(n,e){return[n,hr(e)]}function KB(n,e,t){return[n,hr(e),t]}const Cie={},Tie=["prefixPath","collectionGroup","readTime","documentId"],Die=["prefixPath","collectionGroup","documentId"],Aie=["collectionGroup","readTime","prefixPath","documentId"],Sie=["canonicalId","targetId"],Mie=["targetId","path"],Rie=["path","targetId"],Pie=["collectionId","parent"],kie=["indexId","uid"],Oie=["uid","sequenceNumber"],Nie=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Fie=["indexId","uid","orderedDocumentKey"],Lie=["userId","collectionPath","documentId"],Vie=["userId","collectionPath","largestBatchId"],Bie=["userId","collectionGroup","largestBatchId"],YB=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Uie=[...YB,"documentOverlays"],QB=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],XB=QB,jie=[...XB,"indexConfiguration","indexState","indexEntries"];class QT extends $B{constructor(e,t){super(),this.ae=e,this.currentSequenceNumber=t}}function Fi(n,e){const t=me(n);return rs.M(t.ae,e)}function JB(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function El(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function eU(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class yn{constructor(e,t){this.comparator=e,this.root=t||Ji.EMPTY}insert(e,t){return new yn(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ji.BLACK,null,null))}remove(e){return new yn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ji.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(0===i)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(0===r)return t+i.left.size;r<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Vb(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Vb(this.root,e,this.comparator,!1)}getReverseIterator(){return new Vb(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Vb(this.root,e,this.comparator,!0)}}class Vb{constructor(e,t,i,r){this.isReverse=r,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?i(e.key,t):1,t&&r&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(0===o){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ji{constructor(e,t,i,r,o){this.key=e,this.value=t,this.color=i??Ji.RED,this.left=r??Ji.EMPTY,this.right=o??Ji.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,r,o){return new Ji(e??this.key,t??this.value,i??this.color,r??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let r=this;const o=i(e,r.key);return r=o<0?r.copy(null,null,null,r.left.insert(e,t,i),null):0===o?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Ji.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return Ji.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ji.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ji.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw xe();const e=this.left.check();if(e!==this.right.check())throw xe();return e+(this.isRed()?0:1)}}Ji.EMPTY=null,Ji.RED=!0,Ji.BLACK=!1,Ji.EMPTY=new class{constructor(){this.size=0}get key(){throw xe()}get value(){throw xe()}get color(){throw xe()}get left(){throw xe()}get right(){throw xe()}copy(e,t,i,r,o){return this}insert(e,t,i){return new Ji(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class an{constructor(e){this.comparator=e,this.data=new yn(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let i;for(i=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new tU(this.data.getIterator())}getIteratorFrom(e){return new tU(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof an)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const r=t.getNext().key,o=i.getNext().key;if(0!==this.comparator(r,o))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new an(this.comparator);return t.data=e,t}}class tU{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function hh(n){return n.hasNext()?n.getNext():void 0}class Zr{constructor(e){this.fields=e,e.sort(Mn.comparator)}static empty(){return new Zr([])}unionWith(e){let t=new an(Mn.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new Zr(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return ch(this.fields,e.fields,(t,i)=>t.isEqual(i))}}class nU extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Ci{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(r){try{return atob(r)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new nU("Invalid base64 string: "+o):o}}(e);return new Ci(t)}static fromUint8Array(e){const t=function(r){let o="";for(let s=0;s<r.length;++s)o+=String.fromCharCode(r[s]);return o}(e);return new Ci(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(t){const i=new Uint8Array(t.length);for(let r=0;r<t.length;r++)i[r]=t.charCodeAt(r);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return et(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ci.EMPTY_BYTE_STRING=new Ci("");const Hie=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function wl(n){if(ke(!!n),"string"==typeof n){let e=0;const t=Hie.exec(n);if(ke(!!t),t[1]){let r=t[1];r=(r+"000000000").substr(0,9),e=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Kn(n.seconds),nanos:Kn(n.nanos)}}function Kn(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function ya(n){return"string"==typeof n?Ci.fromBase64String(n):Ci.fromUint8Array(n)}function Bb(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function Ub(n){const e=n.mapValue.fields.__previous_value__;return Bb(e)?Ub(e):e}function Lm(n){const e=wl(n.mapValue.fields.__local_write_time__.timestampValue);return new Nn(e.seconds,e.nanos)}class $ie{constructor(e,t,i,r,o,s,a,l,c){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=r,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}}class Il{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Il("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Il&&e.projectId===this.projectId&&e.database===this.database}}const xl={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},jb={nullValue:"NULL_VALUE"};function Cl(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Bb(n)?4:sU(n)?9007199254740991:10:xe()}function Os(n,e){if(n===e)return!0;const t=Cl(n);if(t!==Cl(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Lm(n).isEqual(Lm(e));case 3:return function(r,o){if("string"==typeof r.timestampValue&&"string"==typeof o.timestampValue&&r.timestampValue.length===o.timestampValue.length)return r.timestampValue===o.timestampValue;const s=wl(r.timestampValue),a=wl(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return o=e,ya(n.bytesValue).isEqual(ya(o.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,o){return Kn(r.geoPointValue.latitude)===Kn(o.geoPointValue.latitude)&&Kn(r.geoPointValue.longitude)===Kn(o.geoPointValue.longitude)}(n,e);case 2:return function(r,o){if("integerValue"in r&&"integerValue"in o)return Kn(r.integerValue)===Kn(o.integerValue);if("doubleValue"in r&&"doubleValue"in o){const s=Kn(r.doubleValue),a=Kn(o.doubleValue);return s===a?Fm(s)===Fm(a):isNaN(s)&&isNaN(a)}return!1}(n,e);case 9:return ch(n.arrayValue.values||[],e.arrayValue.values||[],Os);case 10:return function(r,o){const s=r.mapValue.fields||{},a=o.mapValue.fields||{};if(JB(s)!==JB(a))return!1;for(const l in s)if(s.hasOwnProperty(l)&&(void 0===a[l]||!Os(s[l],a[l])))return!1;return!0}(n,e);default:return xe()}var o}function Vm(n,e){return void 0!==(n.values||[]).find(t=>Os(t,e))}function Tl(n,e){if(n===e)return 0;const t=Cl(n),i=Cl(e);if(t!==i)return et(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return et(n.booleanValue,e.booleanValue);case 2:return function(o,s){const a=Kn(o.integerValue||o.doubleValue),l=Kn(s.integerValue||s.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(n,e);case 3:return iU(n.timestampValue,e.timestampValue);case 4:return iU(Lm(n),Lm(e));case 5:return et(n.stringValue,e.stringValue);case 6:return function(o,s){const a=ya(o),l=ya(s);return a.compareTo(l)}(n.bytesValue,e.bytesValue);case 7:return function(o,s){const a=o.split("/"),l=s.split("/");for(let c=0;c<a.length&&c<l.length;c++){const h=et(a[c],l[c]);if(0!==h)return h}return et(a.length,l.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,s){const a=et(Kn(o.latitude),Kn(s.latitude));return 0!==a?a:et(Kn(o.longitude),Kn(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(o,s){const a=o.values||[],l=s.values||[];for(let c=0;c<a.length&&c<l.length;++c){const h=Tl(a[c],l[c]);if(h)return h}return et(a.length,l.length)}(n.arrayValue,e.arrayValue);case 10:return function(o,s){if(o===xl.mapValue&&s===xl.mapValue)return 0;if(o===xl.mapValue)return 1;if(s===xl.mapValue)return-1;const a=o.fields||{},l=Object.keys(a),c=s.fields||{},h=Object.keys(c);l.sort(),h.sort();for(let p=0;p<l.length&&p<h.length;++p){const g=et(l[p],h[p]);if(0!==g)return g;const y=Tl(a[l[p]],c[h[p]]);if(0!==y)return y}return et(l.length,h.length)}(n.mapValue,e.mapValue);default:throw xe()}}function iU(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return et(n,e);const t=wl(n),i=wl(e),r=et(t.seconds,i.seconds);return 0!==r?r:et(t.nanos,i.nanos)}function fh(n){return XT(n)}function XT(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const i=wl(t);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?ya(n.bytesValue).toBase64():"referenceValue"in n?ge.fromName(n.referenceValue).toString():"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let i="[",r=!0;for(const o of t.values||[])r?r=!1:i+=",",i+=XT(o);return i+"]"}(n.arrayValue):"mapValue"in n?function(t){const i=Object.keys(t.fields||{}).sort();let r="{",o=!0;for(const s of i)o?o=!1:r+=",",r+=`${s}:${XT(t.fields[s])}`;return r+"}"}(n.mapValue):xe()}function zc(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function JT(n){return!!n&&"integerValue"in n}function Bm(n){return!!n&&"arrayValue"in n}function rU(n){return!!n&&"nullValue"in n}function oU(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Hb(n){return!!n&&"mapValue"in n}function Um(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return El(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=Um(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Um(n.arrayValue.values[t]);return e}return Object.assign({},n)}function sU(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function Wie(n){return"nullValue"in n?jb:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?zc(Il.empty(),ge.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:xe()}function qie(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?zc(Il.empty(),ge.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?xl:xe()}function aU(n,e){const t=Tl(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function lU(n,e){const t=Tl(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class er{constructor(e){this.value=e}static empty(){return new er({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!Hb(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Um(t)}setAll(e){let t=Mn.emptyPath(),i={},r=[];e.forEach((s,a)=>{if(!t.isImmediateParentOf(a)){const l=this.getFieldsMap(t);this.applyChanges(l,i,r),i={},r=[],t=a.popLast()}s?i[a.lastSegment()]=Um(s):r.push(a.lastSegment())});const o=this.getFieldsMap(t);this.applyChanges(o,i,r)}delete(e){const t=this.field(e.popLast());Hb(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Os(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=t.mapValue.fields[e.get(i)];Hb(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,i){El(t,(r,o)=>e[r]=o);for(const r of i)delete e[r]}clone(){return new er(Um(this.value))}}function cU(n){const e=[];return El(n.fields,(t,i)=>{const r=new Mn([t]);if(Hb(i)){const o=cU(i.mapValue).fields;if(0===o.length)e.push(r);else for(const s of o)e.push(r.child(s))}else e.push(r)}),new Zr(e)}class Rn{constructor(e,t,i,r,o,s,a){this.key=e,this.documentType=t,this.version=i,this.readTime=r,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new Rn(e,0,Oe.min(),Oe.min(),Oe.min(),er.empty(),0)}static newFoundDocument(e,t,i,r){return new Rn(e,1,t,Oe.min(),i,r,0)}static newNoDocument(e,t){return new Rn(e,2,t,Oe.min(),Oe.min(),er.empty(),0)}static newUnknownDocument(e,t){return new Rn(e,3,t,Oe.min(),Oe.min(),er.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Oe.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=er.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=er.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Oe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Rn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Rn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Dl{constructor(e,t){this.position=e,this.inclusive=t}}function uU(n,e,t){let i=0;for(let r=0;r<n.position.length;r++){const o=e[r],s=n.position[r];if(i=o.field.isKeyField()?ge.comparator(ge.fromName(s.referenceValue),t.key):Tl(s,t.data.field(o.field)),"desc"===o.dir&&(i*=-1),0!==i)break}return i}function dU(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Os(n.position[t],e.position[t]))return!1;return!0}class jm{constructor(e,t="asc"){this.field=e,this.dir=t}}function Gie(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class hU{}class Pt extends hU{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,i):new Zie(e,t,i):"array-contains"===t?new Qie(e,i):"in"===t?new yU(e,i):"not-in"===t?new Xie(e,i):"array-contains-any"===t?new Jie(e,i):new Pt(e,t,i)}static createKeyFieldInFilter(e,t,i){return"in"===t?new Kie(e,i):new Yie(e,i)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Tl(t,this.value)):null!==t&&Cl(this.value)===Cl(t)&&this.matchesComparison(Tl(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return xe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class tn extends hU{constructor(e,t){super(),this.filters=e,this.op=t,this.ue=null}static create(e,t){return new tn(e,t)}matches(e){return ph(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.ue||(this.ue=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function ph(n){return"and"===n.op}function eD(n){return"or"===n.op}function tD(n){return fU(n)&&ph(n)}function fU(n){for(const e of n.filters)if(e instanceof tn)return!1;return!0}function nD(n){if(n instanceof Pt)return n.field.canonicalString()+n.op.toString()+fh(n.value);if(tD(n))return n.filters.map(e=>nD(e)).join(",");{const e=n.filters.map(t=>nD(t)).join(",");return`${n.op}(${e})`}}function pU(n,e){return n instanceof Pt?(i=n,(r=e)instanceof Pt&&i.op===r.op&&i.field.isEqual(r.field)&&Os(i.value,r.value)):n instanceof tn?function(i,r){return r instanceof tn&&i.op===r.op&&i.filters.length===r.filters.length&&i.filters.reduce((o,s,a)=>o&&pU(s,r.filters[a]),!0)}(n,e):void xe();var i,r}function mU(n,e){const t=n.filters.concat(e);return tn.create(t,n.op)}function gU(n){return n instanceof Pt?`${(t=n).field.canonicalString()} ${t.op} ${fh(t.value)}`:n instanceof tn?function(t){return t.op.toString()+" {"+t.getFilters().map(gU).join(" ,")+"}"}(n):"Filter";var t}class Zie extends Pt{constructor(e,t,i){super(e,t,i),this.key=ge.fromName(i.referenceValue)}matches(e){const t=ge.comparator(e.key,this.key);return this.matchesComparison(t)}}class Kie extends Pt{constructor(e,t){super(e,"in",t),this.keys=_U(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Yie extends Pt{constructor(e,t){super(e,"not-in",t),this.keys=_U(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function _U(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(i=>ge.fromName(i.referenceValue))}class Qie extends Pt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Bm(t)&&Vm(t.arrayValue,this.value)}}class yU extends Pt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Vm(this.value.arrayValue,t)}}class Xie extends Pt{constructor(e,t){super(e,"not-in",t)}matches(e){if(Vm(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Vm(this.value.arrayValue,t)}}class Jie extends Pt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Bm(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>Vm(this.value.arrayValue,i))}}class ere{constructor(e,t=null,i=[],r=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=r,this.limit=o,this.startAt=s,this.endAt=a,this.ce=null}}function iD(n,e=null,t=[],i=[],r=null,o=null,s=null){return new ere(n,e,t,i,r,o,s)}function Hc(n){const e=me(n);if(null===e.ce){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>nD(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>{return(o=i).field.canonicalString()+o.dir;var o}).join(","),Nm(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>fh(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>fh(i)).join(",")),e.ce=t}return e.ce}function zm(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!Gie(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!pU(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!dU(n.startAt,e.startAt)&&dU(n.endAt,e.endAt)}function $b(n){return ge.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function Wb(n,e){return n.filters.filter(t=>t instanceof Pt&&t.field.isEqual(e))}function vU(n,e,t){let i=jb,r=!0;for(const o of Wb(n,e)){let s=jb,a=!0;switch(o.op){case"<":case"<=":s=Wie(o.value);break;case"==":case"in":case">=":s=o.value;break;case">":s=o.value,a=!1;break;case"!=":case"not-in":s=jb}aU({value:i,inclusive:r},{value:s,inclusive:a})<0&&(i=s,r=a)}if(null!==t)for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(e)){const s=t.position[o];aU({value:i,inclusive:r},{value:s,inclusive:t.inclusive})<0&&(i=s,r=t.inclusive);break}return{value:i,inclusive:r}}function bU(n,e,t){let i=xl,r=!0;for(const o of Wb(n,e)){let s=xl,a=!0;switch(o.op){case">=":case">":s=qie(o.value),a=!1;break;case"==":case"in":case"<=":s=o.value;break;case"<":s=o.value,a=!1;break;case"!=":case"not-in":s=xl}lU({value:i,inclusive:r},{value:s,inclusive:a})>0&&(i=s,r=a)}if(null!==t)for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(e)){const s=t.position[o];lU({value:i,inclusive:r},{value:s,inclusive:t.inclusive})>0&&(i=s,r=t.inclusive);break}return{value:i,inclusive:r}}class va{constructor(e,t=null,i=[],r=[],o=null,s="F",a=null,l=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=r,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=l,this.le=null,this.he=null,this.Pe=null}}function EU(n,e,t,i,r,o,s,a){return new va(n,e,t,i,r,o,s,a)}function mh(n){return new va(n)}function wU(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function rD(n){return null!==n.collectionGroup}function gh(n){const e=me(n);if(null===e.le){e.le=[];const t=new Set;for(const o of e.explicitOrderBy)e.le.push(o),t.add(o.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new an(Mn.comparator);return s.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.le.push(new jm(o,i))}),t.has(Mn.keyField().canonicalString())||e.le.push(new jm(Mn.keyField(),i))}return e.le}function Lr(n){const e=me(n);return e.he||(e.he=function IU(n,e){if("F"===n.limitType)return iD(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(r=>new jm(r.field,"desc"===r.dir?"asc":"desc"));const t=n.endAt?new Dl(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new Dl(n.startAt.position,n.startAt.inclusive):null;return iD(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}(e,gh(n))),e.he}function oD(n,e){const t=n.filters.concat([e]);return new va(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function qb(n,e,t){return new va(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Hm(n,e){return zm(Lr(n),Lr(e))&&n.limitType===e.limitType}function xU(n){return`${Hc(Lr(n))}|lt:${n.limitType}`}function _h(n){return`Query(target=${function(t){let i=t.path.canonicalString();return null!==t.collectionGroup&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map(r=>gU(r)).join(", ")}]`),Nm(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map(r=>{return`${(s=r).field.canonicalString()} (${s.dir})`;var s}).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(r=>fh(r)).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(r=>fh(r)).join(",")),`Target(${i})`}(Lr(n))}; limitType=${n.limitType})`}function $m(n,e){return e.isFoundDocument()&&function(i,r){const o=r.key.path;return null!==i.collectionGroup?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(o):ge.isDocumentKey(i.path)?i.path.isEqual(o):i.path.isImmediateParentOf(o)}(n,e)&&function(i,r){for(const o of gh(i))if(!o.field.isKeyField()&&null===r.data.field(o.field))return!1;return!0}(n,e)&&function(i,r){for(const o of i.filters)if(!o.matches(r))return!1;return!0}(n,e)&&(r=e,!((i=n).startAt&&!function(s,a,l){const c=uU(s,a,l);return s.inclusive?c<=0:c<0}(i.startAt,gh(i),r)||i.endAt&&!function(s,a,l){const c=uU(s,a,l);return s.inclusive?c>=0:c>0}(i.endAt,gh(i),r)));var i,r}function CU(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function TU(n){return(e,t)=>{let i=!1;for(const r of gh(n)){const o=tre(r,e,t);if(0!==o)return o;i=i||r.field.isKeyField()}return 0}}function tre(n,e,t){const i=n.field.isKeyField()?ge.comparator(e.key,t.key):function(o,s,a){const l=s.data.field(o),c=a.data.field(o);return null!==l&&null!==c?Tl(l,c):xe()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return xe()}}class ba{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0!==i)for(const[r,o]of i)if(this.equalsFn(r,e))return o}has(e){return void 0!==this.get(e)}set(e,t){const i=this.mapKeyFn(e),r=this.inner[i];if(void 0===r)return this.inner[i]=[[e,t]],void this.innerSize++;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return void(r[o]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0===i)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return 1===i.length?delete this.inner[t]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){El(this.inner,(t,i)=>{for(const[r,o]of i)e(r,o)})}isEmpty(){return eU(this.inner)}size(){return this.innerSize}}const nre=new yn(ge.comparator);function Kr(){return nre}const DU=new yn(ge.comparator);function Wm(...n){let e=DU;for(const t of n)e=e.insert(t.key,t);return e}function AU(n){let e=DU;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function Ns(){return qm()}function SU(){return qm()}function qm(){return new ba(n=>n.toString(),(n,e)=>n.isEqual(e))}const ire=new yn(ge.comparator),rre=new an(ge.comparator);function ct(...n){let e=rre;for(const t of n)e=e.add(t);return e}const ore=new an(et);function sD(){return ore}function MU(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Fm(e)?"-0":e}}function RU(n){return{integerValue:""+n}}function PU(n,e){return qB(e)?RU(e):MU(n,e)}class Gb{constructor(){this._=void 0}}function sre(n,e,t){return n instanceof yh?function(r,o){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return o&&Bb(o)&&(o=Ub(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(t,e):n instanceof $c?OU(n,e):n instanceof Wc?NU(n,e):function(r,o){const s=kU(r,o),a=FU(s)+FU(r.Ie);return JT(s)&&JT(r.Ie)?RU(a):MU(r.serializer,a)}(n,e)}function are(n,e,t){return n instanceof $c?OU(n,e):n instanceof Wc?NU(n,e):t}function kU(n,e){return n instanceof vh?JT(i=e)||(o=i)&&"doubleValue"in o?e:{integerValue:0}:null;var i,o}class yh extends Gb{}class $c extends Gb{constructor(e){super(),this.elements=e}}function OU(n,e){const t=LU(e);for(const i of n.elements)t.some(r=>Os(r,i))||t.push(i);return{arrayValue:{values:t}}}class Wc extends Gb{constructor(e){super(),this.elements=e}}function NU(n,e){let t=LU(e);for(const i of n.elements)t=t.filter(r=>!Os(r,i));return{arrayValue:{values:t}}}class vh extends Gb{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function FU(n){return Kn(n.integerValue||n.doubleValue)}function LU(n){return Bm(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Gm{constructor(e,t){this.field=e,this.transform=t}}class cre{constructor(e,t){this.version=e,this.transformResults=t}}class Fn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Fn}static exists(e){return new Fn(void 0,e)}static updateTime(e){return new Fn(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Zb(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class Kb{}function VU(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new Eh(n.key,Fn.none()):new bh(n.key,n.data,Fn.none());{const t=n.data,i=er.empty();let r=new an(Mn.comparator);for(let o of e.fields)if(!r.has(o)){let s=t.field(o);null===s&&o.length>1&&(o=o.popLast(),s=t.field(o)),null===s?i.delete(o):i.set(o,s),r=r.add(o)}return new Ea(n.key,i,new Zr(r.toArray()),Fn.none())}}function ure(n,e,t){n instanceof bh?function(r,o,s){const a=r.value.clone(),l=jU(r.fieldTransforms,o,s.transformResults);a.setAll(l),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(n,e,t):n instanceof Ea?function(r,o,s){if(!Zb(r.precondition,o))return void o.convertToUnknownDocument(s.version);const a=jU(r.fieldTransforms,o,s.transformResults),l=o.data;l.setAll(UU(r)),l.setAll(a),o.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Zm(n,e,t,i){return n instanceof bh?function(o,s,a,l){if(!Zb(o.precondition,s))return a;const c=o.value.clone(),h=zU(o.fieldTransforms,l,s);return c.setAll(h),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null}(n,e,t,i):n instanceof Ea?function(o,s,a,l){if(!Zb(o.precondition,s))return a;const c=zU(o.fieldTransforms,l,s),h=s.data;return h.setAll(UU(o)),h.setAll(c),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),null===a?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(p=>p.field))}(n,e,t,i):(a=t,Zb(n.precondition,s=e)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a);var s,a}function dre(n,e){let t=null;for(const i of n.fieldTransforms){const r=e.data.field(i.field),o=kU(i.transform,r||null);null!=o&&(null===t&&(t=er.empty()),t.set(i.field,o))}return t||null}function BU(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(i=n.fieldTransforms)&&void 0===r||i&&r&&ch(i,r,(o,s)=>function lre(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(i=n.transform)instanceof $c&&r instanceof $c||i instanceof Wc&&r instanceof Wc?ch(i.elements,r.elements,Os):i instanceof vh&&r instanceof vh?Os(i.Ie,r.Ie):i instanceof yh&&r instanceof yh);var i,r}(o,s))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var i,r}class bh extends Kb{constructor(e,t,i,r=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Ea extends Kb{constructor(e,t,i,r,o=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=r,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function UU(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function jU(n,e,t){const i=new Map;ke(n.length===t.length);for(let r=0;r<t.length;r++){const o=n[r],s=o.transform,a=e.data.field(o.field);i.set(o.field,are(s,a,t[r]))}return i}function zU(n,e,t){const i=new Map;for(const r of n){const o=r.transform,s=t.data.field(r.field);i.set(r.field,sre(o,s,e))}return i}class Eh extends Kb{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class aD extends Kb{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class lD{constructor(e,t,i,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const o=this.mutations[r];o.key.isEqual(e.key)&&ure(o,e,i[r])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=Zm(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=Zm(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=SU();return this.mutations.forEach(r=>{const o=e.get(r.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=t.has(r.key)?null:a;const l=VU(s,a);null!==l&&i.set(r.key,l),s.isValidDocument()||s.convertToNoDocument(Oe.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),ct())}isEqual(e){return this.batchId===e.batchId&&ch(this.mutations,e.mutations,(t,i)=>BU(t,i))&&ch(this.baseMutations,e.baseMutations,(t,i)=>BU(t,i))}}class cD{constructor(e,t,i,r){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=r}static from(e,t,i){ke(e.mutations.length===i.length);let r=ire;const o=e.mutations;for(let s=0;s<o.length;s++)r=r.insert(o[s].key,i[s].version);return new cD(e,t,i,r)}}class uD{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class fre{constructor(e,t){this.count=e,this.unchangedNames=t}}var mi,Bt;function HU(n){switch(n){default:return xe();case W.CANCELLED:case W.UNKNOWN:case W.DEADLINE_EXCEEDED:case W.RESOURCE_EXHAUSTED:case W.INTERNAL:case W.UNAVAILABLE:case W.UNAUTHENTICATED:return!1;case W.INVALID_ARGUMENT:case W.NOT_FOUND:case W.ALREADY_EXISTS:case W.PERMISSION_DENIED:case W.FAILED_PRECONDITION:case W.ABORTED:case W.OUT_OF_RANGE:case W.UNIMPLEMENTED:case W.DATA_LOSS:return!0}}function $U(n){if(void 0===n)return li("GRPC error has no .code"),W.UNKNOWN;switch(n){case mi.OK:return W.OK;case mi.CANCELLED:return W.CANCELLED;case mi.UNKNOWN:return W.UNKNOWN;case mi.DEADLINE_EXCEEDED:return W.DEADLINE_EXCEEDED;case mi.RESOURCE_EXHAUSTED:return W.RESOURCE_EXHAUSTED;case mi.INTERNAL:return W.INTERNAL;case mi.UNAVAILABLE:return W.UNAVAILABLE;case mi.UNAUTHENTICATED:return W.UNAUTHENTICATED;case mi.INVALID_ARGUMENT:return W.INVALID_ARGUMENT;case mi.NOT_FOUND:return W.NOT_FOUND;case mi.ALREADY_EXISTS:return W.ALREADY_EXISTS;case mi.PERMISSION_DENIED:return W.PERMISSION_DENIED;case mi.FAILED_PRECONDITION:return W.FAILED_PRECONDITION;case mi.ABORTED:return W.ABORTED;case mi.OUT_OF_RANGE:return W.OUT_OF_RANGE;case mi.UNIMPLEMENTED:return W.UNIMPLEMENTED;case mi.DATA_LOSS:return W.DATA_LOSS;default:return xe()}}(Bt=mi||(mi={}))[Bt.OK=0]="OK",Bt[Bt.CANCELLED=1]="CANCELLED",Bt[Bt.UNKNOWN=2]="UNKNOWN",Bt[Bt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Bt[Bt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Bt[Bt.NOT_FOUND=5]="NOT_FOUND",Bt[Bt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Bt[Bt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Bt[Bt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Bt[Bt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Bt[Bt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Bt[Bt.ABORTED=10]="ABORTED",Bt[Bt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Bt[Bt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Bt[Bt.INTERNAL=13]="INTERNAL",Bt[Bt.UNAVAILABLE=14]="UNAVAILABLE",Bt[Bt.DATA_LOSS=15]="DATA_LOSS";function WU(){return new TextEncoder}const pre=new sh([4294967295,4294967295],0);function qU(n){const e=WU().encode(n),t=new aie;return t.update(e),new Uint8Array(t.digest())}function GU(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),r=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new sh([t,i],0),new sh([r,o],0)]}class dD{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new Km(`Invalid padding: ${t}`);if(i<0)throw new Km(`Invalid hash count: ${i}`);if(e.length>0&&0===this.hashCount)throw new Km(`Invalid hash count: ${i}`);if(0===e.length&&0!==t)throw new Km(`Invalid padding when bitmap length is 0: ${t}`);this.Te=8*e.length-t,this.Ee=sh.fromNumber(this.Te)}de(e,t,i){let r=e.add(t.multiply(sh.fromNumber(i)));return 1===r.compare(pre)&&(r=new sh([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Ee).toNumber()}Ae(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Te)return!1;const t=qU(e),[i,r]=GU(t);for(let o=0;o<this.hashCount;o++){const s=this.de(i,r,o);if(!this.Ae(s))return!1}return!0}static create(e,t,i){const r=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new dD(o,r,t);return i.forEach(a=>s.insert(a)),s}insert(e){if(0===this.Te)return;const t=qU(e),[i,r]=GU(t);for(let o=0;o<this.hashCount;o++){const s=this.de(i,r,o);this.Re(s)}}Re(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class Km extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Ym{constructor(e,t,i,r,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const r=new Map;return r.set(e,Qm.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new Ym(Oe.min(),r,new yn(et),Kr(),ct())}}class Qm{constructor(e,t,i,r,o){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new Qm(i,t,ct(),ct(),ct())}}class Qb{constructor(e,t,i,r){this.Ve=e,this.removedTargetIds=t,this.key=i,this.me=r}}class ZU{constructor(e,t){this.targetId=e,this.fe=t}}class KU{constructor(e,t,i=Ci.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=r}}class YU{constructor(){this.ge=0,this.pe=XU(),this.ye=Ci.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return 0!==this.ge}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=ct(),t=ct(),i=ct();return this.pe.forEach((r,o)=>{switch(o){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:i=i.add(r);break;default:xe()}}),new Qm(this.ye,this.we,e,t,i)}Fe(){this.Se=!1,this.pe=XU()}Me(e,t){this.Se=!0,this.pe=this.pe.insert(e,t)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1}Be(){this.Se=!0,this.we=!0}}class mre{constructor(e){this.Le=e,this.ke=new Map,this.qe=Kr(),this.Qe=QU(),this.Ke=new yn(et)}$e(e){for(const t of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(t,e.me):this.We(t,e.key,e.me);for(const t of e.removedTargetIds)this.We(t,e.key,e.me)}Ge(e){this.forEachTarget(e,t=>{const i=this.ze(t);switch(e.state){case 0:this.je(t)&&i.Ce(e.resumeToken);break;case 1:i.Ne(),i.be||i.Fe(),i.Ce(e.resumeToken);break;case 2:i.Ne(),i.be||this.removeTarget(t);break;case 3:this.je(t)&&(i.Be(),i.Ce(e.resumeToken));break;case 4:this.je(t)&&(this.He(t),i.Ce(e.resumeToken));break;default:xe()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ke.forEach((i,r)=>{this.je(r)&&t(r)})}Je(e){const t=e.targetId,i=e.fe.count,r=this.Ye(t);if(r){const o=r.target;if($b(o))if(0===i){const s=new ge(o.path);this.We(t,s,Rn.newNoDocument(s,Oe.min()))}else ke(1===i);else{const s=this.Ze(t);if(s!==i){const a=this.Xe(e),l=a?this.et(a,e,s):1;0!==l&&(this.He(t),this.Ke=this.Ke.insert(t,2===l?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Xe(e){const t=e.fe.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:r=0},hashCount:o=0}=t;let s,a;try{s=ya(i).toUint8Array()}catch(l){if(l instanceof nU)return Gr("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new dD(s,r,o)}catch(l){return Gr(l instanceof Km?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return 0===a.Te?null:a}et(e,t,i){return t.fe.count===i-this.rt(e,t.targetId)?0:2}rt(e,t){const i=this.Le.getRemoteKeysForTarget(t);let r=0;return i.forEach(o=>{const s=this.Le.nt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.We(t,o,null),r++)}),r}it(e){const t=new Map;this.ke.forEach((o,s)=>{const a=this.Ye(s);if(a){if(o.current&&$b(a.target)){const l=new ge(a.target.path);null!==this.qe.get(l)||this.st(s,l)||this.We(s,l,Rn.newNoDocument(l,e))}o.De&&(t.set(s,o.ve()),o.Fe())}});let i=ct();this.Qe.forEach((o,s)=>{let a=!0;s.forEachWhile(l=>{const c=this.Ye(l);return!c||"TargetPurposeLimboResolution"===c.purpose||(a=!1,!1)}),a&&(i=i.add(o))}),this.qe.forEach((o,s)=>s.setReadTime(e));const r=new Ym(e,t,this.Ke,this.qe,i);return this.qe=Kr(),this.Qe=QU(),this.Ke=new yn(et),r}Ue(e,t){if(!this.je(e))return;const i=this.st(e,t.key)?2:0;this.ze(e).Me(t.key,i),this.qe=this.qe.insert(t.key,t),this.Qe=this.Qe.insert(t.key,this.ot(t.key).add(e))}We(e,t,i){if(!this.je(e))return;const r=this.ze(e);this.st(e,t)?r.Me(t,1):r.xe(t),this.Qe=this.Qe.insert(t,this.ot(t).delete(e)),i&&(this.qe=this.qe.insert(t,i))}removeTarget(e){this.ke.delete(e)}Ze(e){const t=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let t=this.ke.get(e);return t||(t=new YU,this.ke.set(e,t)),t}ot(e){let t=this.Qe.get(e);return t||(t=new an(et),this.Qe=this.Qe.insert(e,t)),t}je(e){const t=null!==this.Ye(e);return t||se("WatchChangeAggregator","Detected inactive target",e),t}Ye(e){const t=this.ke.get(e);return t&&t.be?null:this.Le._t(e)}He(e){this.ke.set(e,new YU),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.We(e,t,null)})}st(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function QU(){return new yn(ge.comparator)}function XU(){return new yn(ge.comparator)}const gre={asc:"ASCENDING",desc:"DESCENDING"},_re={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},yre={and:"AND",or:"OR"};class vre{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function hD(n,e){return n.useProto3Json||Nm(e)?e:{value:e}}function wh(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function JU(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function bre(n,e){return wh(n,e.toTimestamp())}function ci(n){return ke(!!n),Oe.fromTimestamp(function(t){const i=wl(t);return new Nn(i.seconds,i.nanos)}(n))}function fD(n,e){return(i=n,new Vt(["projects",i.projectId,"databases",i.database])).child("documents").child(e).canonicalString();var i}function ej(n){const e=Vt.fromString(n);return ke(cj(e)),e}function Xm(n,e){return fD(n.databaseId,e.path)}function Fs(n,e){const t=ej(e);if(t.get(1)!==n.databaseId.projectId)throw new ne(W.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new ne(W.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new ge(nj(t))}function pD(n,e){return fD(n.databaseId,e)}function tj(n){const e=ej(n);return 4===e.length?Vt.emptyPath():nj(e)}function Jm(n){return new Vt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function nj(n){return ke(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function ij(n,e,t){return{name:Xm(n,e),fields:t.value.mapValue.fields}}function rj(n,e,t){const i=Fs(n,e.name),r=ci(e.updateTime),o=e.createTime?ci(e.createTime):Oe.min(),s=new er({mapValue:{fields:e.fields}}),a=Rn.newFoundDocument(i,r,o,s);return t&&a.setHasCommittedMutations(),t?a.setHasCommittedMutations():a}function eg(n,e){let t;if(e instanceof bh)t={update:ij(n,e.key,e.value)};else if(e instanceof Eh)t={delete:Xm(n,e.key)};else if(e instanceof Ea)t={update:ij(n,e.key,e.data),updateMask:Are(e.fieldMask)};else{if(!(e instanceof aD))return xe();t={verify:Xm(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(o,s){const a=s.transform;if(a instanceof yh)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof $c)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Wc)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof vh)return{fieldPath:s.field.canonicalString(),increment:a.Ie};throw xe()}(0,i))),e.precondition.isNone||(t.currentDocument=void 0!==(o=e.precondition).updateTime?{updateTime:bre(n,o.updateTime)}:void 0!==o.exists?{exists:o.exists}:xe()),t;var o}function mD(n,e){const t=e.currentDocument?void 0!==(o=e.currentDocument).updateTime?Fn.updateTime(ci(o.updateTime)):void 0!==o.exists?Fn.exists(o.exists):Fn.none():Fn.none(),i=e.updateTransforms?e.updateTransforms.map(r=>function(s,a){let l=null;"setToServerValue"in a?(ke("REQUEST_TIME"===a.setToServerValue),l=new yh):"appendMissingElements"in a?l=new $c(a.appendMissingElements.values||[]):"removeAllFromArray"in a?l=new Wc(a.removeAllFromArray.values||[]):"increment"in a?l=new vh(s,a.increment):xe();const c=Mn.fromServerFormat(a.fieldPath);return new Gm(c,l)}(n,r)):[];var o;if(e.update){const r=Fs(n,e.update.name),o=new er({mapValue:{fields:e.update.fields}});if(e.updateMask){const s=new Zr((e.updateMask.fieldPaths||[]).map(h=>Mn.fromServerFormat(h)));return new Ea(r,o,s,t,i)}return new bh(r,o,t,i)}if(e.delete){const r=Fs(n,e.delete);return new Eh(r,t)}if(e.verify){const r=Fs(n,e.verify);return new aD(r,t)}return xe()}function oj(n,e){return{documents:[pD(n,e.path)]}}function gD(n,e){const t={structuredQuery:{}},i=e.path;null!==e.collectionGroup?(t.parent=pD(n,i),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=pD(n,i.popLast()),t.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(l){if(0!==l.length)return lj(tn.create(l,"and"))}(e.filters);r&&(t.structuredQuery.where=r);const o=function(l){if(0!==l.length)return l.map(c=>{return{field:Al((p=c).field),direction:Cre(p.dir)};var p})}(e.orderBy);o&&(t.structuredQuery.orderBy=o);const s=hD(n,e.limit);return null!==s&&(t.structuredQuery.limit=s),e.startAt&&(t.structuredQuery.startAt={before:(l=e.startAt).inclusive,values:l.position}),e.endAt&&(t.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),t;var l}function sj(n){let e=tj(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let r=null;if(i>0){ke(1===i);const h=t.from[0];h.allDescendants?r=h.collectionId:e=e.child(h.collectionId)}let o=[];t.where&&(o=function(p){const g=aj(p);return g instanceof tn&&tD(g)?g.getFilters():[g]}(t.where));let s=[];t.orderBy&&(s=t.orderBy.map(g=>{return new jm(Ih((w=g).field),function(S){switch(S){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(w.direction));var w}));let a=null;t.limit&&(a=function(p){let g;return g="object"==typeof p?p.value:p,Nm(g)?null:g}(t.limit));let l=null;var p;t.startAt&&(l=new Dl((p=t.startAt).values||[],!!p.before));let c=null;return t.endAt&&(c=function(p){return new Dl(p.values||[],!p.before)}(t.endAt)),EU(e,r,s,o,a,"F",l,c)}function aj(n){return void 0!==n.unaryFilter?function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=Ih(t.unaryFilter.field);return Pt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const r=Ih(t.unaryFilter.field);return Pt.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Ih(t.unaryFilter.field);return Pt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Ih(t.unaryFilter.field);return Pt.create(s,"!=",{nullValue:"NULL_VALUE"});default:return xe()}}(n):void 0!==n.fieldFilter?Pt.create(Ih((t=n).fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return xe()}}(t.fieldFilter.op),t.fieldFilter.value):void 0!==n.compositeFilter?function(t){return tn.create(t.compositeFilter.filters.map(i=>aj(i)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return xe()}}(t.compositeFilter.op))}(n):xe();var t}function Cre(n){return gre[n]}function Tre(n){return _re[n]}function Dre(n){return yre[n]}function Al(n){return{fieldPath:n.canonicalString()}}function Ih(n){return Mn.fromServerFormat(n.fieldPath)}function lj(n){return n instanceof Pt?function(t){if("=="===t.op){if(oU(t.value))return{unaryFilter:{field:Al(t.field),op:"IS_NAN"}};if(rU(t.value))return{unaryFilter:{field:Al(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(oU(t.value))return{unaryFilter:{field:Al(t.field),op:"IS_NOT_NAN"}};if(rU(t.value))return{unaryFilter:{field:Al(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Al(t.field),op:Tre(t.op),value:t.value}}}(n):n instanceof tn?function(t){const i=t.getFilters().map(r=>lj(r));return 1===i.length?i[0]:{compositeFilter:{op:Dre(t.op),filters:i}}}(n):xe()}function Are(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function cj(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class wa{constructor(e,t,i,r,o=Oe.min(),s=Oe.min(),a=Ci.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new wa(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new wa(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new wa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new wa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class uj{constructor(e){this.ut=e}}function dj(n,e){const t=e.key,i={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:Xb(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())i.document={name:Xm(o=n.ut,(s=e).key),fields:s.data.value.mapValue.fields,updateTime:wh(o,s.version.toTimestamp()),createTime:wh(o,s.createTime.toTimestamp())};else if(e.isNoDocument())i.noDocument={path:t.path.toArray(),readTime:qc(e.version)};else{if(!e.isUnknownDocument())return xe();i.unknownDocument={path:t.path.toArray(),version:qc(e.version)}}var o,s;return i}function Xb(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function qc(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Gc(n){const e=new Nn(n.seconds,n.nanoseconds);return Oe.fromTimestamp(e)}function Zc(n,e){const t=(e.baseMutations||[]).map(o=>mD(n.ut,o));for(let o=0;o<e.mutations.length-1;++o)o+1<e.mutations.length&&void 0!==e.mutations[o+1].transform&&(e.mutations[o].updateTransforms=e.mutations[o+1].transform.fieldTransforms,e.mutations.splice(o+1,1),++o);const i=e.mutations.map(o=>mD(n.ut,o)),r=Nn.fromMillis(e.localWriteTimeMs);return new lD(e.batchId,r,t,i)}function tg(n){const e=Gc(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?Gc(n.lastLimboFreeSnapshotVersion):Oe.min();let i;return i=void 0!==n.query.documents?(ke(1===(o=n.query).documents.length),Lr(mh(tj(o.documents[0])))):function(o){return Lr(sj(o))}(n.query),new wa(i,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,e,t,Ci.fromBase64String(n.resumeToken));var o}function hj(n,e){const t=qc(e.snapshotVersion),i=qc(e.lastLimboFreeSnapshotVersion);let r;r=$b(e.target)?oj(n.ut,e.target):gD(n.ut,e.target);const o=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Hc(e.target),readTime:t,resumeToken:o,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:r}}function _D(n){const e=sj({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?qb(e,e.limit,"L"):e}function yD(n,e){return new uD(e.largestBatchId,mD(n.ut,e.overlayMutation))}function fj(n,e){const t=e.path.lastSegment();return[n,hr(e.path.popLast()),t]}function pj(n,e,t,i){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:qc(i.readTime),documentKey:hr(i.documentKey.path),largestBatchId:i.largestBatchId}}class Mre{getBundleMetadata(e,t){return mj(e).get(t).next(i=>{if(i)return{id:(o=i).bundleId,createTime:Gc(o.createTime),version:o.version};var o})}saveBundleMetadata(e,t){return mj(e).put({bundleId:(r=t).id,createTime:qc(ci(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return gj(e).get(t).next(i=>{if(i)return{name:(o=i).name,query:_D(o.bundledQuery),readTime:Gc(o.readTime)};var o})}saveNamedQuery(e,t){return gj(e).put({name:(r=t).name,readTime:qc(ci(r.readTime)),bundledQuery:r.bundledQuery});var r}}function mj(n){return Fi(n,"bundles")}function gj(n){return Fi(n,"namedQueries")}class Jb{constructor(e,t){this.serializer=e,this.userId=t}static ct(e,t){return new Jb(e,t.uid||"")}getOverlay(e,t){return ng(e).get(fj(this.userId,t)).next(i=>i?yD(this.serializer,i):null)}getOverlays(e,t){const i=Ns();return B.forEach(t,r=>this.getOverlay(e,r).next(o=>{null!==o&&i.set(r,o)})).next(()=>i)}saveOverlays(e,t,i){const r=[];return i.forEach((o,s)=>{const a=new uD(t,s);r.push(this.lt(e,a))}),B.waitFor(r)}removeOverlaysForBatchId(e,t,i){const r=new Set;t.forEach(s=>r.add(hr(s.getCollectionPath())));const o=[];return r.forEach(s=>{const a=IDBKeyRange.bound([this.userId,s,i],[this.userId,s,i+1],!1,!0);o.push(ng(e).H("collectionPathOverlayIndex",a))}),B.waitFor(o)}getOverlaysForCollection(e,t,i){const r=Ns(),o=hr(t),s=IDBKeyRange.bound([this.userId,o,i],[this.userId,o,Number.POSITIVE_INFINITY],!0);return ng(e).W("collectionPathOverlayIndex",s).next(a=>{for(const l of a){const c=yD(this.serializer,l);r.set(c.getKey(),c)}return r})}getOverlaysForCollectionGroup(e,t,i,r){const o=Ns();let s;const a=IDBKeyRange.bound([this.userId,t,i],[this.userId,t,Number.POSITIVE_INFINITY],!0);return ng(e).Y({index:"collectionGroupOverlayIndex",range:a},(l,c,h)=>{const p=yD(this.serializer,c);o.size()<r||p.largestBatchId===s?(o.set(p.getKey(),p),s=p.largestBatchId):h.done()}).next(()=>o)}lt(e,t){return ng(e).put(function(r,o,s){const[a,l,c]=fj(o,s.mutation.key);return{userId:o,collectionPath:l,documentId:c,collectionGroup:s.mutation.key.getCollectionGroup(),largestBatchId:s.largestBatchId,overlayMutation:eg(r.ut,s.mutation)}}(this.serializer,this.userId,t))}}function ng(n){return Fi(n,"documentOverlays")}class Kc{constructor(){}ht(e,t){this.Pt(e,t),t.It()}Pt(e,t){if("nullValue"in e)this.Tt(t,5);else if("booleanValue"in e)this.Tt(t,10),t.Et(e.booleanValue?1:0);else if("integerValue"in e)this.Tt(t,15),t.Et(Kn(e.integerValue));else if("doubleValue"in e){const i=Kn(e.doubleValue);isNaN(i)?this.Tt(t,13):(this.Tt(t,15),Fm(i)?t.Et(0):t.Et(i))}else if("timestampValue"in e){const i=e.timestampValue;this.Tt(t,20),"string"==typeof i?t.dt(i):(t.dt(`${i.seconds||""}`),t.Et(i.nanos||0))}else if("stringValue"in e)this.At(e.stringValue,t),this.Rt(t);else if("bytesValue"in e)this.Tt(t,30),t.Vt(ya(e.bytesValue)),this.Rt(t);else if("referenceValue"in e)this.ft(e.referenceValue,t);else if("geoPointValue"in e){const i=e.geoPointValue;this.Tt(t,45),t.Et(i.latitude||0),t.Et(i.longitude||0)}else"mapValue"in e?sU(e)?this.Tt(t,Number.MAX_SAFE_INTEGER):(this.gt(e.mapValue,t),this.Rt(t)):"arrayValue"in e?(this.yt(e.arrayValue,t),this.Rt(t)):xe()}At(e,t){this.Tt(t,25),this.wt(e,t)}wt(e,t){t.dt(e)}gt(e,t){const i=e.fields||{};this.Tt(t,55);for(const r of Object.keys(i))this.At(r,t),this.Pt(i[r],t)}yt(e,t){const i=e.values||[];this.Tt(t,50);for(const r of i)this.Pt(r,t)}ft(e,t){this.Tt(t,37),ge.fromName(e).path.forEach(i=>{this.Tt(t,60),this.wt(i,t)})}Tt(e,t){e.Et(t)}Rt(e){e.Et(2)}}function Rre(n){if(0===n)return 8;let e=0;return!(n>>4)&&(e+=4,n<<=4),!(n>>6)&&(e+=2,n<<=2),!(n>>7)&&(e+=1),e}function _j(n){const e=64-function(i){let r=0;for(let o=0;o<8;++o){const s=Rre(255&i[o]);if(r+=s,8!==s)break}return r}(n);return Math.ceil(e/8)}Kc.St=new Kc;class Pre{constructor(){this.buffer=new Uint8Array(1024),this.position=0}bt(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this.Dt(i.value),i=t.next();this.Ct()}vt(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this.Ft(i.value),i=t.next();this.Mt()}xt(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this.Dt(i);else if(i<2048)this.Dt(960|i>>>6),this.Dt(128|63&i);else if(t<"\ud800"||"\udbff"<t)this.Dt(480|i>>>12),this.Dt(128|63&i>>>6),this.Dt(128|63&i);else{const r=t.codePointAt(0);this.Dt(240|r>>>18),this.Dt(128|63&r>>>12),this.Dt(128|63&r>>>6),this.Dt(128|63&r)}}this.Ct()}Ot(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this.Ft(i);else if(i<2048)this.Ft(960|i>>>6),this.Ft(128|63&i);else if(t<"\ud800"||"\udbff"<t)this.Ft(480|i>>>12),this.Ft(128|63&i>>>6),this.Ft(128|63&i);else{const r=t.codePointAt(0);this.Ft(240|r>>>18),this.Ft(128|63&r>>>12),this.Ft(128|63&r>>>6),this.Ft(128|63&r)}}this.Mt()}Nt(e){const t=this.Bt(e),i=_j(t);this.Lt(1+i),this.buffer[this.position++]=255&i;for(let r=t.length-i;r<t.length;++r)this.buffer[this.position++]=255&t[r]}kt(e){const t=this.Bt(e),i=_j(t);this.Lt(1+i),this.buffer[this.position++]=~(255&i);for(let r=t.length-i;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}qt(){this.Qt(255),this.Qt(255)}Kt(){this.$t(255),this.$t(255)}reset(){this.position=0}seed(e){this.Lt(e.length),this.buffer.set(e,this.position),this.position+=e.length}Ut(){return this.buffer.slice(0,this.position)}Bt(e){const t=function(o){const s=new DataView(new ArrayBuffer(8));return s.setFloat64(0,o,!1),new Uint8Array(s.buffer)}(e),i=0!=(128&t[0]);t[0]^=i?255:128;for(let r=1;r<t.length;++r)t[r]^=i?255:0;return t}Dt(e){const t=255&e;0===t?(this.Qt(0),this.Qt(255)):255===t?(this.Qt(255),this.Qt(0)):this.Qt(t)}Ft(e){const t=255&e;0===t?(this.$t(0),this.$t(255)):255===t?(this.$t(255),this.$t(0)):this.$t(e)}Ct(){this.Qt(0),this.Qt(1)}Mt(){this.$t(0),this.$t(1)}Qt(e){this.Lt(1),this.buffer[this.position++]=e}$t(e){this.Lt(1),this.buffer[this.position++]=~e}Lt(e){const t=e+this.position;if(t<=this.buffer.length)return;let i=2*this.buffer.length;i<t&&(i=t);const r=new Uint8Array(i);r.set(this.buffer),this.buffer=r}}class kre{constructor(e){this.Wt=e}Vt(e){this.Wt.bt(e)}dt(e){this.Wt.xt(e)}Et(e){this.Wt.Nt(e)}It(){this.Wt.qt()}}class Ore{constructor(e){this.Wt=e}Vt(e){this.Wt.vt(e)}dt(e){this.Wt.Ot(e)}Et(e){this.Wt.kt(e)}It(){this.Wt.Kt()}}class ig{constructor(){this.Wt=new Pre,this.Gt=new kre(this.Wt),this.zt=new Ore(this.Wt)}seed(e){this.Wt.seed(e)}jt(e){return 0===e?this.Gt:this.zt}Ut(){return this.Wt.Ut()}reset(){this.Wt.reset()}}class Yc{constructor(e,t,i,r){this.indexId=e,this.documentKey=t,this.arrayValue=i,this.directionalValue=r}Ht(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,i=new Uint8Array(t);return i.set(this.directionalValue,0),t!==e?i.set([0],this.directionalValue.length):++i[i.length-1],new Yc(this.indexId,this.documentKey,this.arrayValue,i)}}function Sl(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=yj(n.arrayValue,e.arrayValue),0!==t?t:(t=yj(n.directionalValue,e.directionalValue),0!==t?t:ge.comparator(n.documentKey,e.documentKey)))}function yj(n,e){for(let t=0;t<n.length&&t<e.length;++t){const i=n[t]-e[t];if(0!==i)return i}return n.length-e.length}class vj{constructor(e){this.Jt=new an((t,i)=>Mn.comparator(t.field,i.field)),this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Yt=e.orderBy,this.Zt=[];for(const t of e.filters){const i=t;i.isInequality()?this.Jt=this.Jt.add(i):this.Zt.push(i)}}get Xt(){return this.Jt.size>1}en(e){if(ke(e.collectionGroup===this.collectionId),this.Xt)return!1;const t=GT(e);if(void 0!==t&&!this.tn(t))return!1;const i=Bc(e);let r=new Set,o=0,s=0;for(;o<i.length&&this.tn(i[o]);++o)r=r.add(i[o].fieldPath.canonicalString());if(o===i.length)return!0;if(this.Jt.size>0){const a=this.Jt.getIterator().getNext();if(!r.has(a.field.canonicalString())){const l=i[o];if(!this.nn(a,l)||!this.rn(this.Yt[s++],l))return!1}++o}for(;o<i.length;++o)if(s>=this.Yt.length||!this.rn(this.Yt[s++],i[o]))return!1;return!0}sn(){if(this.Xt)return null;let e=new an(Mn.comparator);const t=[];for(const i of this.Zt)if(!i.field.isKeyField())if("array-contains"===i.op||"array-contains-any"===i.op)t.push(new Uc(i.field,2));else{if(e.has(i.field))continue;e=e.add(i.field),t.push(new Uc(i.field,0))}for(const i of this.Yt)i.field.isKeyField()||e.has(i.field)||(e=e.add(i.field),t.push(new Uc(i.field,"asc"===i.dir?0:1)));return new uh(uh.UNKNOWN_ID,this.collectionId,t,dh.empty())}tn(e){for(const t of this.Zt)if(this.nn(t,e))return!0;return!1}nn(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}rn(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function bj(n){var e,t;if(ke(n instanceof Pt||n instanceof tn),n instanceof Pt){if(n instanceof yU){const r=(null===(t=null===(e=n.value.arrayValue)||void 0===e?void 0:e.values)||void 0===t?void 0:t.map(o=>Pt.create(n.field,"==",o)))||[];return tn.create(r,"or")}return n}const i=n.filters.map(r=>bj(r));return tn.create(i,n.op)}function Nre(n){if(0===n.getFilters().length)return[];const e=ED(bj(n));return ke(Ej(e)),vD(e)||bD(e)?[e]:e.getFilters()}function vD(n){return n instanceof Pt}function bD(n){return n instanceof tn&&tD(n)}function Ej(n){return vD(n)||bD(n)||function(t){if(t instanceof tn&&eD(t)){for(const i of t.getFilters())if(!vD(i)&&!bD(i))return!1;return!0}return!1}(n)}function ED(n){if(ke(n instanceof Pt||n instanceof tn),n instanceof Pt)return n;if(1===n.filters.length)return ED(n.filters[0]);const e=n.filters.map(i=>ED(i));let t=tn.create(e,n.op);return t=e0(t),Ej(t)?t:(ke(t instanceof tn),ke(ph(t)),ke(t.filters.length>1),t.filters.reduce((i,r)=>wD(i,r)))}function wD(n,e){let t;return ke(n instanceof Pt||n instanceof tn),ke(e instanceof Pt||e instanceof tn),t=n instanceof Pt?e instanceof Pt?tn.create([n,e],"and"):wj(n,e):e instanceof Pt?wj(e,n):function(r,o){if(ke(r.filters.length>0&&o.filters.length>0),ph(r)&&ph(o))return mU(r,o.getFilters());const s=eD(r)?r:o,a=eD(r)?o:r,l=s.filters.map(c=>wD(c,a));return tn.create(l,"or")}(n,e),e0(t)}function wj(n,e){if(ph(e))return mU(e,n.getFilters());{const t=e.filters.map(i=>wD(n,i));return tn.create(t,"or")}}function e0(n){if(ke(n instanceof Pt||n instanceof tn),n instanceof Pt)return n;const e=n.getFilters();if(1===e.length)return e0(e[0]);if(fU(n))return n;const t=e.map(r=>e0(r)),i=[];return t.forEach(r=>{r instanceof Pt?i.push(r):r instanceof tn&&(r.op===n.op?i.push(...r.filters):i.push(r))}),1===i.length?i[0]:tn.create(i,n.op)}class Fre{constructor(){this.on=new ID}addToCollectionParentIndex(e,t){return this.on.add(t),B.resolve()}getCollectionParents(e,t){return B.resolve(this.on.getEntries(t))}addFieldIndex(e,t){return B.resolve()}deleteFieldIndex(e,t){return B.resolve()}deleteAllFieldIndexes(e){return B.resolve()}createTargetIndexes(e,t){return B.resolve()}getDocumentsMatchingTarget(e,t){return B.resolve(null)}getIndexType(e,t){return B.resolve(0)}getFieldIndexes(e,t){return B.resolve([])}getNextCollectionGroupToUpdate(e){return B.resolve(null)}getMinOffset(e,t){return B.resolve(ho.min())}getMinOffsetFromCollectionGroup(e,t){return B.resolve(ho.min())}updateCollectionGroup(e,t,i){return B.resolve()}updateIndexEntries(e,t){return B.resolve()}}class ID{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t]||new an(Vt.comparator),o=!r.has(i);return this.index[t]=r.add(i),o}has(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t];return r&&r.has(i)}getEntries(e){return(this.index[e]||new an(Vt.comparator)).toArray()}}const t0=new Uint8Array(0);class Lre{constructor(e,t){this.user=e,this.databaseId=t,this._n=new ID,this.an=new ba(i=>Hc(i),(i,r)=>zm(i,r)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this._n.has(t)){const i=t.lastSegment(),r=t.popLast();e.addOnCommittedListener(()=>{this._n.add(t)});const o={collectionId:i,parent:hr(r)};return Ij(e).put(o)}return B.resolve()}getCollectionParents(e,t){const i=[],r=IDBKeyRange.bound([t,""],[UB(t),""],!1,!0);return Ij(e).W(r).next(o=>{for(const s of o){if(s.collectionId!==t)break;i.push(ks(s.parent))}return i})}addFieldIndex(e,t){const i=rg(e),r={indexId:(a=t).indexId,collectionGroup:a.collectionGroup,fields:a.fields.map(l=>[l.fieldPath.canonicalString(),l.kind])};var a;delete r.indexId;const o=i.add(r);if(t.indexState){const s=Ch(e);return o.next(a=>{s.put(pj(a,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return o.next()}deleteFieldIndex(e,t){const i=rg(e),r=Ch(e),o=xh(e);return i.delete(t.indexId).next(()=>r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>o.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const t=rg(e),i=xh(e),r=Ch(e);return t.H().next(()=>i.H()).next(()=>r.H())}createTargetIndexes(e,t){return B.forEach(this.un(t),i=>this.getIndexType(e,i).next(r=>{if(0===r||1===r){const o=new vj(i).sn();if(null!=o)return this.addFieldIndex(e,o)}}))}getDocumentsMatchingTarget(e,t){const i=xh(e);let r=!0;const o=new Map;return B.forEach(this.un(t),s=>this.cn(e,s).next(a=>{r&&(r=!!a),o.set(s,a)})).next(()=>{if(r){let s=ct();const a=[];return B.forEach(o,(l,c)=>{var z;se("IndexedDbIndexManager",`Using index ${z=l,`id=${z.indexId}|cg=${z.collectionGroup}|f=${z.fields.map(Q=>`${Q.fieldPath}:${Q.kind}`).join(",")}`} to execute ${Hc(t)}`);const h=function(z,Q){const ue=GT(Q);if(void 0===ue)return null;for(const Pe of Wb(z,ue.fieldPath))switch(Pe.op){case"array-contains-any":return Pe.value.arrayValue.values||[];case"array-contains":return[Pe.value]}return null}(c,l),p=function(z,Q){const ue=new Map;for(const Pe of Bc(Q))for(const Je of Wb(z,Pe.fieldPath))switch(Je.op){case"==":case"in":ue.set(Pe.fieldPath.canonicalString(),Je.value);break;case"not-in":case"!=":return ue.set(Pe.fieldPath.canonicalString(),Je.value),Array.from(ue.values())}return null}(c,l),g=function(z,Q){const ue=[];let Pe=!0;for(const Je of Bc(Q)){const ln=0===Je.kind?vU(z,Je.fieldPath,z.startAt):bU(z,Je.fieldPath,z.startAt);ue.push(ln.value),Pe&&(Pe=ln.inclusive)}return new Dl(ue,Pe)}(c,l),y=function(z,Q){const ue=[];let Pe=!0;for(const Je of Bc(Q)){const ln=0===Je.kind?bU(z,Je.fieldPath,z.endAt):vU(z,Je.fieldPath,z.endAt);ue.push(ln.value),Pe&&(Pe=ln.inclusive)}return new Dl(ue,Pe)}(c,l),w=this.ln(l,c,g),x=this.ln(l,c,y),S=this.hn(l,c,p),L=this.Pn(l.indexId,h,w,g.inclusive,x,y.inclusive,S);return B.forEach(L,R=>i.j(R,t.limit).next(z=>{z.forEach(Q=>{const ue=ge.fromSegments(Q.documentKey);s.has(ue)||(s=s.add(ue),a.push(ue))})}))}).next(()=>a)}return B.resolve(null)})}un(e){let t=this.an.get(e);return t||(t=0===e.filters.length?[e]:Nre(tn.create(e.filters,"and")).map(i=>iD(e.path,e.collectionGroup,e.orderBy,i.getFilters(),e.limit,e.startAt,e.endAt)),this.an.set(e,t),t)}Pn(e,t,i,r,o,s,a){const l=(null!=t?t.length:1)*Math.max(i.length,o.length),c=l/(null!=t?t.length:1),h=[];for(let p=0;p<l;++p){const g=t?this.In(t[p/c]):t0,y=this.Tn(e,g,i[p%c],r),w=this.En(e,g,o[p%c],s),x=a.map(S=>this.Tn(e,g,S,!0));h.push(...this.createRange(y,w,x))}return h}Tn(e,t,i,r){const o=new Yc(e,ge.empty(),t,i);return r?o:o.Ht()}En(e,t,i,r){const o=new Yc(e,ge.empty(),t,i);return r?o.Ht():o}cn(e,t){const i=new vj(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next(o=>{let s=null;for(const a of o)i.en(a)&&(!s||a.fields.length>s.fields.length)&&(s=a);return s})}getIndexType(e,t){let i=2;const r=this.un(t);return B.forEach(r,o=>this.cn(e,o).next(s=>{s?0!==i&&s.fields.length<function(l){let c=new an(Mn.comparator),h=!1;for(const p of l.filters)for(const g of p.getFlattenedFilters())g.field.isKeyField()||("array-contains"===g.op||"array-contains-any"===g.op?h=!0:c=c.add(g.field));for(const p of l.orderBy)p.field.isKeyField()||(c=c.add(p.field));return c.size+(h?1:0)}(o)&&(i=1):i=0})).next(()=>null!==t.limit&&r.length>1&&2===i?1:i)}dn(e,t){const i=new ig;for(const r of Bc(e)){const o=t.data.field(r.fieldPath);if(null==o)return null;const s=i.jt(r.kind);Kc.St.ht(o,s)}return i.Ut()}In(e){const t=new ig;return Kc.St.ht(e,t.jt(0)),t.Ut()}An(e,t){const i=new ig;return Kc.St.ht(zc(this.databaseId,t),i.jt(function(o){const s=Bc(o);return 0===s.length?0:s[s.length-1].kind}(e))),i.Ut()}hn(e,t,i){if(null===i)return[];let r=[];r.push(new ig);let o=0;for(const s of Bc(e)){const a=i[o++];for(const l of r)if(this.Rn(t,s.fieldPath)&&Bm(a))r=this.Vn(r,s,a);else{const c=l.jt(s.kind);Kc.St.ht(a,c)}}return this.mn(r)}ln(e,t,i){return this.hn(e,t,i.position)}mn(e){const t=[];for(let i=0;i<e.length;++i)t[i]=e[i].Ut();return t}Vn(e,t,i){const r=[...e],o=[];for(const s of i.arrayValue.values||[])for(const a of r){const l=new ig;l.seed(a.Ut()),Kc.St.ht(s,l.jt(t.kind)),o.push(l)}return o}Rn(e,t){return!!e.filters.find(i=>i instanceof Pt&&i.field.isEqual(t)&&("in"===i.op||"not-in"===i.op))}getFieldIndexes(e,t){const i=rg(e),r=Ch(e);return(t?i.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):i.W()).next(o=>{const s=[];return B.forEach(o,a=>r.get([a.indexId,this.uid]).next(l=>{s.push(function(h,p){const g=p?new dh(p.sequenceNumber,new ho(Gc(p.readTime),new ge(ks(p.documentKey)),p.largestBatchId)):dh.empty(),y=h.fields.map(([w,x])=>new Uc(Mn.fromServerFormat(w),x));return new uh(h.indexId,h.collectionGroup,y,g)}(a,l))})).next(()=>s)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((i,r)=>{const o=i.indexState.sequenceNumber-r.indexState.sequenceNumber;return 0!==o?o:et(i.collectionGroup,r.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,i){const r=rg(e),o=Ch(e);return this.fn(e).next(s=>r.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(a=>B.forEach(a,l=>o.put(pj(l.indexId,this.user,s,i)))))}updateIndexEntries(e,t){const i=new Map;return B.forEach(t,(r,o)=>{const s=i.get(r.collectionGroup);return(s?B.resolve(s):this.getFieldIndexes(e,r.collectionGroup)).next(a=>(i.set(r.collectionGroup,a),B.forEach(a,l=>this.gn(e,r,l).next(c=>{const h=this.pn(o,l);return c.isEqual(h)?B.resolve():this.yn(e,o,l,c,h)}))))})}wn(e,t,i,r){return xh(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.An(i,t.key),documentKey:t.key.path.toArray()})}Sn(e,t,i,r){return xh(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.An(i,t.key),t.key.path.toArray()])}gn(e,t,i){const r=xh(e);let o=new an(Sl);return r.Y({index:"documentKeyIndex",range:IDBKeyRange.only([i.indexId,this.uid,this.An(i,t)])},(s,a)=>{o=o.add(new Yc(i.indexId,t,a.arrayValue,a.directionalValue))}).next(()=>o)}pn(e,t){let i=new an(Sl);const r=this.dn(t,e);if(null==r)return i;const o=GT(t);if(null!=o){const s=e.data.field(o.fieldPath);if(Bm(s))for(const a of s.arrayValue.values||[])i=i.add(new Yc(t.indexId,e.key,this.In(a),r))}else i=i.add(new Yc(t.indexId,e.key,t0,r));return i}yn(e,t,i,r,o){se("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const s=[];return function(l,c,h,p,g){const y=l.getIterator(),w=c.getIterator();let x=hh(y),S=hh(w);for(;x||S;){let L=!1,R=!1;if(x&&S){const z=h(x,S);z<0?R=!0:z>0&&(L=!0)}else null!=x?R=!0:L=!0;L?(p(S),S=hh(w)):R?(g(x),x=hh(y)):(x=hh(y),S=hh(w))}}(r,o,Sl,a=>{s.push(this.wn(e,t,i,a))},a=>{s.push(this.Sn(e,t,i,a))}),B.waitFor(s)}fn(e){let t=1;return Ch(e).Y({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(i,r,o)=>{o.done(),t=r.sequenceNumber+1}).next(()=>t)}createRange(e,t,i){i=i.sort((s,a)=>Sl(s,a)).filter((s,a,l)=>!a||0!==Sl(s,l[a-1]));const r=[];r.push(e);for(const s of i){const a=Sl(s,e),l=Sl(s,t);if(0===a)r[0]=e.Ht();else if(a>0&&l<0)r.push(s),r.push(s.Ht());else if(l>0)break}r.push(t);const o=[];for(let s=0;s<r.length;s+=2){if(this.bn(r[s],r[s+1]))return[];o.push(IDBKeyRange.bound([r[s].indexId,this.uid,r[s].arrayValue,r[s].directionalValue,t0,[]],[r[s+1].indexId,this.uid,r[s+1].arrayValue,r[s+1].directionalValue,t0,[]]))}return o}bn(e,t){return Sl(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(xj)}getMinOffset(e,t){return B.mapArray(this.un(t),i=>this.cn(e,i).next(r=>r||xe())).next(xj)}}function Ij(n){return Fi(n,"collectionParents")}function xh(n){return Fi(n,"indexEntries")}function rg(n){return Fi(n,"indexConfiguration")}function Ch(n){return Fi(n,"indexState")}function xj(n){ke(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let i=1;i<n.length;i++){const r=n[i].indexState.offset;ZT(r,e)<0&&(e=r),t<r.largestBatchId&&(t=r.largestBatchId)}return new ho(e.readTime,e.documentKey,t)}const Cj={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class fr{constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}static withCacheSize(e){return new fr(e,fr.DEFAULT_COLLECTION_PERCENTILE,fr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Tj(n,e,t){const i=n.store("mutations"),r=n.store("documentMutations"),o=[],s=IDBKeyRange.only(t.batchId);let a=0;const l=i.Y({range:s},(h,p,g)=>(a++,g.delete()));o.push(l.next(()=>{ke(1===a)}));const c=[];for(const h of t.mutations){const p=KB(e,h.key.path,t.batchId);o.push(r.delete(p)),c.push(h.key)}return B.waitFor(o).next(()=>c)}function n0(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw xe();e=n.noDocument}return JSON.stringify(e).length}fr.DEFAULT_COLLECTION_PERCENTILE=10,fr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,fr.DEFAULT=new fr(41943040,fr.DEFAULT_COLLECTION_PERCENTILE,fr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),fr.DISABLED=new fr(-1,0,0);class r0{constructor(e,t,i,r){this.userId=e,this.serializer=t,this.indexManager=i,this.referenceDelegate=r,this.Dn={}}static ct(e,t,i,r){ke(""!==e.uid);const o=e.isAuthenticated()?e.uid:"";return new r0(o,t,i,r)}checkEmpty(e){let t=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Ml(e).Y({index:"userMutationsIndex",range:i},(r,o,s)=>{t=!1,s.done()}).next(()=>t)}addMutationBatch(e,t,i,r){const o=Th(e),s=Ml(e);return s.add({}).next(a=>{ke("number"==typeof a);const l=new lD(a,t,i,r),c=function(y,w,x){const S=x.baseMutations.map(R=>eg(y.ut,R)),L=x.mutations.map(R=>eg(y.ut,R));return{userId:w,batchId:x.batchId,localWriteTimeMs:x.localWriteTime.toMillis(),baseMutations:S,mutations:L}}(this.serializer,this.userId,l),h=[];let p=new an((g,y)=>et(g.canonicalString(),y.canonicalString()));for(const g of r){const y=KB(this.userId,g.key.path,a);p=p.add(g.key.path.popLast()),h.push(s.put(c)),h.push(o.put(y,Cie))}return p.forEach(g=>{h.push(this.indexManager.addToCollectionParentIndex(e,g))}),e.addOnCommittedListener(()=>{this.Dn[a]=l.keys()}),B.waitFor(h).next(()=>l)})}lookupMutationBatch(e,t){return Ml(e).get(t).next(i=>i?(ke(i.userId===this.userId),Zc(this.serializer,i)):null)}Cn(e,t){return this.Dn[t]?B.resolve(this.Dn[t]):this.lookupMutationBatch(e,t).next(i=>{if(i){const r=i.keys();return this.Dn[t]=r,r}return null})}getNextMutationBatchAfterBatchId(e,t){const i=t+1,r=IDBKeyRange.lowerBound([this.userId,i]);let o=null;return Ml(e).Y({index:"userMutationsIndex",range:r},(s,a,l)=>{a.userId===this.userId&&(ke(a.batchId>=i),o=Zc(this.serializer,a)),l.done()}).next(()=>o)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=-1;return Ml(e).Y({index:"userMutationsIndex",range:t,reverse:!0},(r,o,s)=>{i=o.batchId,s.done()}).next(()=>i)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Ml(e).W("userMutationsIndex",t).next(i=>i.map(r=>Zc(this.serializer,r)))}getAllMutationBatchesAffectingDocumentKey(e,t){const i=Lb(this.userId,t.path),r=IDBKeyRange.lowerBound(i),o=[];return Th(e).Y({range:r},(s,a,l)=>{const[c,h,p]=s,g=ks(h);if(c===this.userId&&t.path.isEqual(g))return Ml(e).get(p).next(y=>{if(!y)throw xe();ke(y.userId===this.userId),o.push(Zc(this.serializer,y))});l.done()}).next(()=>o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new an(et);const r=[];return t.forEach(o=>{const s=Lb(this.userId,o.path),a=IDBKeyRange.lowerBound(s),l=Th(e).Y({range:a},(c,h,p)=>{const[g,y,w]=c,x=ks(y);g===this.userId&&o.path.isEqual(x)?i=i.add(w):p.done()});r.push(l)}),B.waitFor(r).next(()=>this.vn(e,i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1,o=Lb(this.userId,i),s=IDBKeyRange.lowerBound(o);let a=new an(et);return Th(e).Y({range:s},(l,c,h)=>{const[p,g,y]=l,w=ks(g);p===this.userId&&i.isPrefixOf(w)?w.length===r&&(a=a.add(y)):h.done()}).next(()=>this.vn(e,a))}vn(e,t){const i=[],r=[];return t.forEach(o=>{r.push(Ml(e).get(o).next(s=>{if(null===s)throw xe();ke(s.userId===this.userId),i.push(Zc(this.serializer,s))}))}),B.waitFor(r).next(()=>i)}removeMutationBatch(e,t){return Tj(e.ae,this.userId,t).next(i=>(e.addOnCommittedListener(()=>{this.Fn(t.batchId)}),B.forEach(i,r=>this.referenceDelegate.markPotentiallyOrphaned(e,r))))}Fn(e){delete this.Dn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return B.resolve();const i=IDBKeyRange.lowerBound([this.userId]),r=[];return Th(e).Y({range:i},(o,s,a)=>{if(o[0]===this.userId){const l=ks(o[1]);r.push(l)}else a.done()}).next(()=>{ke(0===r.length)})})}containsKey(e,t){return Dj(e,this.userId,t)}Mn(e){return Aj(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function Dj(n,e,t){const i=Lb(e,t.path),r=i[1],o=IDBKeyRange.lowerBound(i);let s=!1;return Th(n).Y({range:o,J:!0},(a,l,c)=>{const[h,p,g]=a;h===e&&p===r&&(s=!0),c.done()}).next(()=>s)}function Ml(n){return Fi(n,"mutations")}function Th(n){return Fi(n,"documentMutations")}function Aj(n){return Fi(n,"mutationQueues")}class Qc{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static On(){return new Qc(0)}static Nn(){return new Qc(-1)}}class Vre{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.Bn(e).next(t=>{const i=new Qc(t.highestTargetId);return t.highestTargetId=i.next(),this.Ln(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Bn(e).next(t=>Oe.fromTimestamp(new Nn(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Bn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,i){return this.Bn(e).next(r=>(r.highestListenSequenceNumber=t,i&&(r.lastRemoteSnapshotVersion=i.toTimestamp()),t>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=t),this.Ln(e,r)))}addTargetData(e,t){return this.kn(e,t).next(()=>this.Bn(e).next(i=>(i.targetCount+=1,this.qn(t,i),this.Ln(e,i))))}updateTargetData(e,t){return this.kn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Dh(e).delete(t.targetId)).next(()=>this.Bn(e)).next(i=>(ke(i.targetCount>0),i.targetCount-=1,this.Ln(e,i)))}removeTargets(e,t,i){let r=0;const o=[];return Dh(e).Y((s,a)=>{const l=tg(a);l.sequenceNumber<=t&&null===i.get(l.targetId)&&(r++,o.push(this.removeTargetData(e,l)))}).next(()=>B.waitFor(o)).next(()=>r)}forEachTarget(e,t){return Dh(e).Y((i,r)=>{const o=tg(r);t(o)})}Bn(e){return Sj(e).get("targetGlobalKey").next(t=>(ke(null!==t),t))}Ln(e,t){return Sj(e).put("targetGlobalKey",t)}kn(e,t){return Dh(e).put(hj(this.serializer,t))}qn(e,t){let i=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,i=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,i=!0),i}getTargetCount(e){return this.Bn(e).next(t=>t.targetCount)}getTargetData(e,t){const i=Hc(t),r=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let o=null;return Dh(e).Y({range:r,index:"queryTargetsIndex"},(s,a,l)=>{const c=tg(a);zm(t,c.target)&&(o=c,l.done())}).next(()=>o)}addMatchingKeys(e,t,i){const r=[],o=Rl(e);return t.forEach(s=>{const a=hr(s.path);r.push(o.put({targetId:i,path:a})),r.push(this.referenceDelegate.addReference(e,i,s))}),B.waitFor(r)}removeMatchingKeys(e,t,i){const r=Rl(e);return B.forEach(t,o=>{const s=hr(o.path);return B.waitFor([r.delete([i,s]),this.referenceDelegate.removeReference(e,i,o)])})}removeMatchingKeysForTargetId(e,t){const i=Rl(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return i.delete(r)}getMatchingKeysForTargetId(e,t){const i=IDBKeyRange.bound([t],[t+1],!1,!0),r=Rl(e);let o=ct();return r.Y({range:i,J:!0},(s,a,l)=>{const c=ks(s[1]),h=new ge(c);o=o.add(h)}).next(()=>o)}containsKey(e,t){const i=hr(t.path),r=IDBKeyRange.bound([i],[UB(i)],!1,!0);let o=0;return Rl(e).Y({index:"documentTargetsIndex",J:!0,range:r},([s,a],l,c)=>{0!==s&&(o++,c.done())}).next(()=>o>0)}_t(e,t){return Dh(e).get(t).next(i=>i?tg(i):null)}}function Dh(n){return Fi(n,"targets")}function Sj(n){return Fi(n,"targetGlobal")}function Rl(n){return Fi(n,"targetDocuments")}function Mj([n,e],[t,i]){const r=et(n,t);return 0===r?et(e,i):r}class Bre{constructor(e){this.Qn=e,this.buffer=new an(Mj),this.Kn=0}$n(){return++this.Kn}Un(e){const t=[e,this.$n()];if(this.buffer.size<this.Qn)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();Mj(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Rj{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Wn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Gn(6e4)}stop(){this.Wn&&(this.Wn.cancel(),this.Wn=null)}get started(){return null!==this.Wn}Gn(e){var t=this;se("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Wn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,Y.Z)(function*(){t.Wn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(i){bl(i)?se("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i):yield vl(i)}yield t.Gn(3e5)}))}}class Ure{constructor(e,t){this.zn=e,this.params=t}calculateTargetCount(e,t){return this.zn.jn(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(0===t)return B.resolve(fo._e);const i=new Bre(t);return this.zn.forEachTarget(e,r=>i.Un(r.sequenceNumber)).next(()=>this.zn.Hn(e,r=>i.Un(r))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.zn.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.zn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(se("LruGarbageCollector","Garbage collection skipped; disabled"),B.resolve(Cj)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(se("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Cj):this.Jn(e,t))}getCacheSize(e){return this.zn.getCacheSize(e)}Jn(e,t){let i,r,o,s,a,l,c;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?(se("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),r=this.params.maximumSequenceNumbersToCollect):r=p,s=Date.now(),this.nthSequenceNumber(e,r))).next(p=>(i=p,a=Date.now(),this.removeTargets(e,i,t))).next(p=>(o=p,l=Date.now(),this.removeOrphanedDocuments(e,i))).next(p=>(c=Date.now(),lh()<=Ss.in.DEBUG&&se("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${s-h}ms\n\tDetermined least recently used ${r} in `+(a-s)+`ms\n\tRemoved ${o} targets in `+(l-a)+`ms\n\tRemoved ${p} documents in `+(c-l)+`ms\nTotal Duration: ${c-h}ms`),B.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:o,documentsRemoved:p})))}}class jre{constructor(e,t){this.db=e,this.garbageCollector=function Pj(n,e){return new Ure(n,e)}(this,t)}jn(e){const t=this.Yn(e);return this.db.getTargetCache().getTargetCount(e).next(i=>t.next(r=>i+r))}Yn(e){let t=0;return this.Hn(e,i=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Hn(e,t){return this.Zn(e,(i,r)=>t(r))}addReference(e,t,i){return o0(e,i)}removeReference(e,t,i){return o0(e,i)}removeTargets(e,t,i){return this.db.getTargetCache().removeTargets(e,t,i)}markPotentiallyOrphaned(e,t){return o0(e,t)}Xn(e,t){return function(r,o){let s=!1;return Aj(r).Z(a=>Dj(r,a,o).next(l=>(l&&(s=!0),B.resolve(!l)))).next(()=>s)}(e,t)}removeOrphanedDocuments(e,t){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let o=0;return this.Zn(e,(s,a)=>{if(a<=t){const l=this.Xn(e,s).next(c=>{if(!c)return o++,i.getEntry(e,s).next(()=>(i.removeEntry(s,Oe.min()),Rl(e).delete([0,hr(s.path)])))});r.push(l)}}).next(()=>B.waitFor(r)).next(()=>i.apply(e)).next(()=>o)}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,i)}updateLimboDocument(e,t){return o0(e,t)}Zn(e,t){const i=Rl(e);let r,o=fo._e;return i.Y({index:"documentTargetsIndex"},([s,a],{path:l,sequenceNumber:c})=>{0===s?(o!==fo._e&&t(new ge(ks(r)),o),o=c,r=l):o=fo._e}).next(()=>{o!==fo._e&&t(new ge(ks(r)),o)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function o0(n,e){return Rl(n).put((r=n.currentSequenceNumber,{targetId:0,path:hr(e.path),sequenceNumber:r}));var r}class kj{constructor(){this.changes=new ba(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Rn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return void 0!==i?B.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class zre{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,i){return Xc(e).put(i)}removeEntry(e,t,i){return Xc(e).delete(function(o,s){const a=o.path.toArray();return[a.slice(0,a.length-2),a[a.length-2],Xb(s),a[a.length-1]]}(t,i))}updateMetadata(e,t){return this.getMetadata(e).next(i=>(i.byteSize+=t,this.er(e,i)))}getEntry(e,t){let i=Rn.newInvalidDocument(t);return Xc(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(og(t))},(r,o)=>{i=this.tr(t,o)}).next(()=>i)}nr(e,t){let i={size:0,document:Rn.newInvalidDocument(t)};return Xc(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(og(t))},(r,o)=>{i={document:this.tr(t,o),size:n0(o)}}).next(()=>i)}getEntries(e,t){let i=Kr();return this.rr(e,t,(r,o)=>{const s=this.tr(r,o);i=i.insert(r,s)}).next(()=>i)}ir(e,t){let i=Kr(),r=new yn(ge.comparator);return this.rr(e,t,(o,s)=>{const a=this.tr(o,s);i=i.insert(o,a),r=r.insert(o,n0(s))}).next(()=>({documents:i,sr:r}))}rr(e,t,i){if(t.isEmpty())return B.resolve();let r=new an(Lj);t.forEach(l=>r=r.add(l));const o=IDBKeyRange.bound(og(r.first()),og(r.last())),s=r.getIterator();let a=s.getNext();return Xc(e).Y({index:"documentKeyIndex",range:o},(l,c,h)=>{const p=ge.fromSegments([...c.prefixPath,c.collectionGroup,c.documentId]);for(;a&&Lj(a,p)<0;)i(a,null),a=s.getNext();a&&a.isEqual(p)&&(i(a,c),a=s.hasNext()?s.getNext():null),a?h.U(og(a)):h.done()}).next(()=>{for(;a;)i(a,null),a=s.hasNext()?s.getNext():null})}getDocumentsMatchingQuery(e,t,i,r,o){const s=t.path,a=[s.popLast().toArray(),s.lastSegment(),Xb(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],l=[s.popLast().toArray(),s.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Xc(e).W(IDBKeyRange.bound(a,l,!0)).next(c=>{o?.incrementDocumentReadCount(c.length);let h=Kr();for(const p of c){const g=this.tr(ge.fromSegments(p.prefixPath.concat(p.collectionGroup,p.documentId)),p);g.isFoundDocument()&&($m(t,g)||r.has(g.key))&&(h=h.insert(g.key,g))}return h})}getAllFromCollectionGroup(e,t,i,r){let o=Kr();const s=Fj(t,i),a=Fj(t,ho.max());return Xc(e).Y({index:"collectionGroupIndex",range:IDBKeyRange.bound(s,a,!0)},(l,c,h)=>{const p=this.tr(ge.fromSegments(c.prefixPath.concat(c.collectionGroup,c.documentId)),c);o=o.insert(p.key,p),o.size===r&&h.done()}).next(()=>o)}newChangeBuffer(e){return new Hre(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return Nj(e).get("remoteDocumentGlobalKey").next(t=>(ke(!!t),t))}er(e,t){return Nj(e).put("remoteDocumentGlobalKey",t)}tr(e,t){if(t){const i=function Sre(n,e){let t;if(e.document)t=rj(n.ut,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const i=ge.fromSegments(e.noDocument.path),r=Gc(e.noDocument.readTime);t=Rn.newNoDocument(i,r),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return xe();{const i=ge.fromSegments(e.unknownDocument.path),r=Gc(e.unknownDocument.version);t=Rn.newUnknownDocument(i,r)}}return e.readTime&&t.setReadTime(function(r){const o=new Nn(r[0],r[1]);return Oe.fromTimestamp(o)}(e.readTime)),t}(this.serializer,t);if(!i.isNoDocument()||!i.version.isEqual(Oe.min()))return i}return Rn.newInvalidDocument(e)}}function Oj(n){return new zre(n)}class Hre extends kj{constructor(e,t){super(),this._r=e,this.trackRemovals=t,this.ar=new ba(i=>i.toString(),(i,r)=>i.isEqual(r))}applyChanges(e){const t=[];let i=0,r=new an((o,s)=>et(o.canonicalString(),s.canonicalString()));return this.changes.forEach((o,s)=>{const a=this.ar.get(o);if(t.push(this._r.removeEntry(e,o,a.readTime)),s.isValidDocument()){const l=dj(this._r.serializer,s);r=r.add(o.path.popLast());const c=n0(l);i+=c-a.size,t.push(this._r.addEntry(e,o,l))}else if(i-=a.size,this.trackRemovals){const l=dj(this._r.serializer,s.convertToNoDocument(Oe.min()));t.push(this._r.addEntry(e,o,l))}}),r.forEach(o=>{t.push(this._r.indexManager.addToCollectionParentIndex(e,o))}),t.push(this._r.updateMetadata(e,i)),B.waitFor(t)}getFromCache(e,t){return this._r.nr(e,t).next(i=>(this.ar.set(t,{size:i.size,readTime:i.document.readTime}),i.document))}getAllFromCache(e,t){return this._r.ir(e,t).next(({documents:i,sr:r})=>(r.forEach((o,s)=>{this.ar.set(o,{size:s,readTime:i.get(o).readTime})}),i))}}function Nj(n){return Fi(n,"remoteDocumentGlobal")}function Xc(n){return Fi(n,"remoteDocumentsV14")}function og(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function Fj(n,e){const t=e.documentKey.path.toArray();return[n,Xb(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function Lj(n,e){const t=n.path.toArray(),i=e.path.toArray();let r=0;for(let o=0;o<t.length-2&&o<i.length-2;++o)if(r=et(t[o],i[o]),r)return r;return r=et(t.length,i.length),r||(r=et(t[t.length-2],i[i.length-2]),r||et(t[t.length-1],i[i.length-1]))}class $re{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Vj{constructor(e,t,i,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(i=r,this.remoteDocumentCache.getEntry(e,t))).next(r=>(null!==i&&Zm(i.mutation,r,Zr.empty(),Nn.now()),r))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,ct()).next(()=>i))}getLocalViewOfDocuments(e,t,i=ct()){const r=Ns();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,i).next(o=>{let s=Wm();return o.forEach((a,l)=>{s=s.insert(a,l.overlayedDocument)}),s}))}getOverlayedDocuments(e,t){const i=Ns();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,ct()))}populateOverlays(e,t,i){const r=[];return i.forEach(o=>{t.has(o)||r.push(o)}),this.documentOverlayCache.getOverlays(e,r).next(o=>{o.forEach((s,a)=>{t.set(s,a)})})}computeViews(e,t,i,r){let o=Kr();const s=qm(),a=qm();return t.forEach((l,c)=>{const h=i.get(c.key);r.has(c.key)&&(void 0===h||h.mutation instanceof Ea)?o=o.insert(c.key,c):void 0!==h?(s.set(c.key,h.mutation.getFieldMask()),Zm(h.mutation,c,h.mutation.getFieldMask(),Nn.now())):s.set(c.key,Zr.empty())}),this.recalculateAndSaveOverlays(e,o).next(l=>(l.forEach((c,h)=>s.set(c,h)),t.forEach((c,h)=>{var p;return a.set(c,new $re(h,null!==(p=s.get(c))&&void 0!==p?p:null))}),a))}recalculateAndSaveOverlays(e,t){const i=qm();let r=new yn((s,a)=>s-a),o=ct();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(s=>{for(const a of s)a.keys().forEach(l=>{const c=t.get(l);if(null===c)return;let h=i.get(l)||Zr.empty();h=a.applyToLocalView(c,h),i.set(l,h);const p=(r.get(a.batchId)||ct()).add(l);r=r.insert(a.batchId,p)})}).next(()=>{const s=[],a=r.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,h=l.value,p=SU();h.forEach(g=>{if(!o.has(g)){const y=VU(t.get(g),i.get(g));null!==y&&p.set(g,y),o=o.add(g)}}),s.push(this.documentOverlayCache.saveOverlays(e,c,p))}return B.waitFor(s)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i,r){return ge.isDocumentKey((s=t).path)&&null===s.collectionGroup&&0===s.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):rD(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,r):this.getDocumentsMatchingCollectionQuery(e,t,i,r);var s}getNextDocuments(e,t,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,r).next(o=>{const s=r-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,r-o.size):B.resolve(Ns());let a=-1,l=o;return s.next(c=>B.forEach(c,(h,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),o.get(h)?B.resolve():this.remoteDocumentCache.getEntry(e,h).next(g=>{l=l.insert(h,g)}))).next(()=>this.populateOverlays(e,c,o)).next(()=>this.computeViews(e,l,c,ct())).next(h=>({batchId:a,changes:AU(h)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ge(t)).next(i=>{let r=Wm();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(e,t,i,r){const o=t.collectionGroup;let s=Wm();return this.indexManager.getCollectionParents(e,o).next(a=>B.forEach(a,l=>{const c=(p=t,g=l.child(o),new va(g,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt));var p,g;return this.getDocumentsMatchingCollectionQuery(e,c,i,r).next(h=>{h.forEach((p,g)=>{s=s.insert(p,g)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,i,r){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,o,r))).next(s=>{o.forEach((l,c)=>{const h=c.getKey();null===s.get(h)&&(s=s.insert(h,Rn.newInvalidDocument(h)))});let a=Wm();return s.forEach((l,c)=>{const h=o.get(l);void 0!==h&&Zm(h.mutation,c,Zr.empty(),Nn.now()),$m(t,c)&&(a=a.insert(l,c))}),a})}}class Wre{constructor(e){this.serializer=e,this.ur=new Map,this.cr=new Map}getBundleMetadata(e,t){return B.resolve(this.ur.get(t))}saveBundleMetadata(e,t){return this.ur.set(t.id,{id:(r=t).id,version:r.version,createTime:ci(r.createTime)}),B.resolve();var r}getNamedQuery(e,t){return B.resolve(this.cr.get(t))}saveNamedQuery(e,t){return this.cr.set(t.name,{name:(r=t).name,query:_D(r.bundledQuery),readTime:ci(r.readTime)}),B.resolve();var r}}class qre{constructor(){this.overlays=new yn(ge.comparator),this.lr=new Map}getOverlay(e,t){return B.resolve(this.overlays.get(t))}getOverlays(e,t){const i=Ns();return B.forEach(t,r=>this.getOverlay(e,r).next(o=>{null!==o&&i.set(r,o)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((r,o)=>{this.lt(e,t,o)}),B.resolve()}removeOverlaysForBatchId(e,t,i){const r=this.lr.get(i);return void 0!==r&&(r.forEach(o=>this.overlays=this.overlays.remove(o)),this.lr.delete(i)),B.resolve()}getOverlaysForCollection(e,t,i){const r=Ns(),o=t.length+1,s=new ge(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!t.isPrefixOf(c.path))break;c.path.length===o&&l.largestBatchId>i&&r.set(l.getKey(),l)}return B.resolve(r)}getOverlaysForCollectionGroup(e,t,i,r){let o=new yn((c,h)=>c-h);const s=this.overlays.getIterator();for(;s.hasNext();){const c=s.getNext().value;if(c.getKey().getCollectionGroup()===t&&c.largestBatchId>i){let h=o.get(c.largestBatchId);null===h&&(h=Ns(),o=o.insert(c.largestBatchId,h)),h.set(c.getKey(),c)}}const a=Ns(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,h)=>a.set(c,h)),!(a.size()>=r)););return B.resolve(a)}lt(e,t,i){const r=this.overlays.get(i.key);if(null!==r){const s=this.lr.get(r.largestBatchId).delete(i.key);this.lr.set(r.largestBatchId,s)}this.overlays=this.overlays.insert(i.key,new uD(t,i));let o=this.lr.get(t);void 0===o&&(o=ct(),this.lr.set(t,o)),this.lr.set(t,o.add(i.key))}}class xD{constructor(){this.hr=new an(Li.Pr),this.Ir=new an(Li.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(e,t){const i=new Li(e,t);this.hr=this.hr.add(i),this.Ir=this.Ir.add(i)}Er(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.dr(new Li(e,t))}Ar(e,t){e.forEach(i=>this.removeReference(i,t))}Rr(e){const t=new ge(new Vt([])),i=new Li(t,e),r=new Li(t,e+1),o=[];return this.Ir.forEachInRange([i,r],s=>{this.dr(s),o.push(s.key)}),o}Vr(){this.hr.forEach(e=>this.dr(e))}dr(e){this.hr=this.hr.delete(e),this.Ir=this.Ir.delete(e)}mr(e){const t=new ge(new Vt([])),i=new Li(t,e),r=new Li(t,e+1);let o=ct();return this.Ir.forEachInRange([i,r],s=>{o=o.add(s.key)}),o}containsKey(e){const t=new Li(e,0),i=this.hr.firstAfterOrEqual(t);return null!==i&&e.isEqual(i.key)}}class Li{constructor(e,t){this.key=e,this.gr=t}static Pr(e,t){return ge.comparator(e.key,t.key)||et(e.gr,t.gr)}static Tr(e,t){return et(e.gr,t.gr)||ge.comparator(e.key,t.key)}}class Gre{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.pr=1,this.yr=new an(Li.Pr)}checkEmpty(e){return B.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,i,r){const o=this.pr;this.pr++;const s=new lD(o,t,i,r);this.mutationQueue.push(s);for(const a of r)this.yr=this.yr.add(new Li(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return B.resolve(s)}lookupMutationBatch(e,t){return B.resolve(this.wr(t))}getNextMutationBatchAfterBatchId(e,t){const r=this.Sr(t+1),o=r<0?0:r;return B.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return B.resolve(0===this.mutationQueue.length?-1:this.pr-1)}getAllMutationBatches(e){return B.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new Li(t,0),r=new Li(t,Number.POSITIVE_INFINITY),o=[];return this.yr.forEachInRange([i,r],s=>{const a=this.wr(s.gr);o.push(a)}),B.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new an(et);return t.forEach(r=>{const o=new Li(r,0),s=new Li(r,Number.POSITIVE_INFINITY);this.yr.forEachInRange([o,s],a=>{i=i.add(a.gr)})}),B.resolve(this.br(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1;let o=i;ge.isDocumentKey(o)||(o=o.child(""));const s=new Li(new ge(o),0);let a=new an(et);return this.yr.forEachWhile(l=>{const c=l.key.path;return!!i.isPrefixOf(c)&&(c.length===r&&(a=a.add(l.gr)),!0)},s),B.resolve(this.br(a))}br(e){const t=[];return e.forEach(i=>{const r=this.wr(i);null!==r&&t.push(r)}),t}removeMutationBatch(e,t){ke(0===this.Dr(t.batchId,"removed")),this.mutationQueue.shift();let i=this.yr;return B.forEach(t.mutations,r=>{const o=new Li(r.key,t.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.yr=i})}Fn(e){}containsKey(e,t){const i=new Li(t,0),r=this.yr.firstAfterOrEqual(i);return B.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return B.resolve()}Dr(e,t){return this.Sr(e)}Sr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}wr(e){const t=this.Sr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Zre{constructor(e){this.Cr=e,this.docs=new yn(ge.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,r=this.docs.get(i),o=r?r.size:0,s=this.Cr(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return B.resolve(i?i.document.mutableCopy():Rn.newInvalidDocument(t))}getEntries(e,t){let i=Kr();return t.forEach(r=>{const o=this.docs.get(r);i=i.insert(r,o?o.document.mutableCopy():Rn.newInvalidDocument(r))}),B.resolve(i)}getDocumentsMatchingQuery(e,t,i,r){let o=Kr();const s=t.path,a=new ge(s.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:h}}=l.getNext();if(!s.isPrefixOf(c.path))break;c.path.length>s.length+1||ZT(zB(h),i)<=0||(r.has(h.key)||$m(t,h))&&(o=o.insert(h.key,h.mutableCopy()))}return B.resolve(o)}getAllFromCollectionGroup(e,t,i,r){xe()}vr(e,t){return B.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new Kre(this)}getSize(e){return B.resolve(this.size)}}class Kre extends kj{constructor(e){super(),this._r=e}applyChanges(e){const t=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?t.push(this._r.addEntry(e,r)):this._r.removeEntry(i)}),B.waitFor(t)}getFromCache(e,t){return this._r.getEntry(e,t)}getAllFromCache(e,t){return this._r.getEntries(e,t)}}class Yre{constructor(e){this.persistence=e,this.Fr=new ba(t=>Hc(t),zm),this.lastRemoteSnapshotVersion=Oe.min(),this.highestTargetId=0,this.Mr=0,this.Or=new xD,this.targetCount=0,this.Nr=Qc.On()}forEachTarget(e,t){return this.Fr.forEach((i,r)=>t(r)),B.resolve()}getLastRemoteSnapshotVersion(e){return B.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return B.resolve(this.Mr)}allocateTargetId(e){return this.highestTargetId=this.Nr.next(),B.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.Mr&&(this.Mr=t),B.resolve()}kn(e){this.Fr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Nr=new Qc(t),this.highestTargetId=t),e.sequenceNumber>this.Mr&&(this.Mr=e.sequenceNumber)}addTargetData(e,t){return this.kn(t),this.targetCount+=1,B.resolve()}updateTargetData(e,t){return this.kn(t),B.resolve()}removeTargetData(e,t){return this.Fr.delete(t.target),this.Or.Rr(t.targetId),this.targetCount-=1,B.resolve()}removeTargets(e,t,i){let r=0;const o=[];return this.Fr.forEach((s,a)=>{a.sequenceNumber<=t&&null===i.get(a.targetId)&&(this.Fr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)}),B.waitFor(o).next(()=>r)}getTargetCount(e){return B.resolve(this.targetCount)}getTargetData(e,t){const i=this.Fr.get(t)||null;return B.resolve(i)}addMatchingKeys(e,t,i){return this.Or.Er(t,i),B.resolve()}removeMatchingKeys(e,t,i){this.Or.Ar(t,i);const r=this.persistence.referenceDelegate,o=[];return r&&t.forEach(s=>{o.push(r.markPotentiallyOrphaned(e,s))}),B.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.Or.Rr(t),B.resolve()}getMatchingKeysForTargetId(e,t){const i=this.Or.mr(t);return B.resolve(i)}containsKey(e,t){return B.resolve(this.Or.containsKey(t))}}class CD{constructor(e,t){this.Br={},this.overlays={},this.Lr=new fo(0),this.kr=!1,this.kr=!0,this.referenceDelegate=e(this),this.qr=new Yre(this),this.indexManager=new Fre,this.remoteDocumentCache=new Zre(i=>this.referenceDelegate.Qr(i)),this.serializer=new uj(t),this.Kr=new Wre(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new qre,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.Br[e.toKey()];return i||(i=new Gre(t,this.referenceDelegate),this.Br[e.toKey()]=i),i}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(e,t,i){se("MemoryPersistence","Starting transaction:",e);const r=new Qre(this.Lr.next());return this.referenceDelegate.$r(),i(r).next(o=>this.referenceDelegate.Ur(r).next(()=>o)).toPromise().then(o=>(r.raiseOnCommittedEvent(),o))}Wr(e,t){return B.or(Object.values(this.Br).map(i=>()=>i.containsKey(e,t)))}}class Qre extends $B{constructor(e){super(),this.currentSequenceNumber=e}}class s0{constructor(e){this.persistence=e,this.Gr=new xD,this.zr=null}static jr(e){return new s0(e)}get Hr(){if(this.zr)return this.zr;throw xe()}addReference(e,t,i){return this.Gr.addReference(i,t),this.Hr.delete(i.toString()),B.resolve()}removeReference(e,t,i){return this.Gr.removeReference(i,t),this.Hr.add(i.toString()),B.resolve()}markPotentiallyOrphaned(e,t){return this.Hr.add(t.toString()),B.resolve()}removeTarget(e,t){this.Gr.Rr(t.targetId).forEach(r=>this.Hr.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(r=>{r.forEach(o=>this.Hr.add(o.toString()))}).next(()=>i.removeTargetData(e,t))}$r(){this.zr=new Set}Ur(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return B.forEach(this.Hr,i=>{const r=ge.fromPath(i);return this.Jr(e,r).next(o=>{o||t.removeEntry(r,Oe.min())})}).next(()=>(this.zr=null,t.apply(e)))}updateLimboDocument(e,t){return this.Jr(e,t).next(i=>{i?this.Hr.delete(t.toString()):this.Hr.add(t.toString())})}Qr(e){return 0}Jr(e,t){return B.or([()=>B.resolve(this.Gr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Wr(e,t)])}}class Xre{constructor(e){this.serializer=e}N(e,t,i,r){const o=new Fb("createOrUpgrade",t);var l;i<1&&r>=1&&(e.createObjectStore("owner"),(l=e).createObjectStore("mutationQueues",{keyPath:"userId"}),l.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",ZB,{unique:!0}),l.createObjectStore("documentMutations"),Bj(e),function(l){l.createObjectStore("remoteDocuments")}(e));let s=B.resolve();return i<3&&r>=3&&(0!==i&&(function(l){l.deleteObjectStore("targetDocuments"),l.deleteObjectStore("targets"),l.deleteObjectStore("targetGlobal")}(e),Bj(e)),s=s.next(()=>function(l){const c=l.store("targetGlobal"),h={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Oe.min().toTimestamp(),targetCount:0};return c.put("targetGlobalKey",h)}(o))),i<4&&r>=4&&(0!==i&&(s=s.next(()=>function(l,c){return c.store("mutations").W().next(h=>{l.deleteObjectStore("mutations"),l.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",ZB,{unique:!0});const p=c.store("mutations"),g=h.map(y=>p.put(y));return B.waitFor(g)})}(e,o))),s=s.next(()=>{!function(l){l.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),i<5&&r>=5&&(s=s.next(()=>this.Zr(o))),i<6&&r>=6&&(s=s.next(()=>(function(l){l.createObjectStore("remoteDocumentGlobal")}(e),this.Xr(o)))),i<7&&r>=7&&(s=s.next(()=>this.ei(o))),i<8&&r>=8&&(s=s.next(()=>this.ti(e,o))),i<9&&r>=9&&(s=s.next(()=>{!function(l){l.objectStoreNames.contains("remoteDocumentChanges")&&l.deleteObjectStore("remoteDocumentChanges")}(e)})),i<10&&r>=10&&(s=s.next(()=>this.ni(o))),i<11&&r>=11&&(s=s.next(()=>{(function(l){l.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(l){l.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),i<12&&r>=12&&(s=s.next(()=>{!function(l){const c=l.createObjectStore("documentOverlays",{keyPath:Lie});c.createIndex("collectionPathOverlayIndex",Vie,{unique:!1}),c.createIndex("collectionGroupOverlayIndex",Bie,{unique:!1})}(e)})),i<13&&r>=13&&(s=s.next(()=>function(l){const c=l.createObjectStore("remoteDocumentsV14",{keyPath:Tie});c.createIndex("documentKeyIndex",Die),c.createIndex("collectionGroupIndex",Aie)}(e)).next(()=>this.ri(e,o)).next(()=>e.deleteObjectStore("remoteDocuments"))),i<14&&r>=14&&(s=s.next(()=>this.ii(e,o))),i<15&&r>=15&&(s=s.next(()=>function(l){l.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),l.createObjectStore("indexState",{keyPath:kie}).createIndex("sequenceNumberIndex",Oie,{unique:!1}),l.createObjectStore("indexEntries",{keyPath:Nie}).createIndex("documentKeyIndex",Fie,{unique:!1})}(e))),s}Xr(e){let t=0;return e.store("remoteDocuments").Y((i,r)=>{t+=n0(r)}).next(()=>{const i={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",i)})}Zr(e){const t=e.store("mutationQueues"),i=e.store("mutations");return t.W().next(r=>B.forEach(r,o=>{const s=IDBKeyRange.bound([o.userId,-1],[o.userId,o.lastAcknowledgedBatchId]);return i.W("userMutationsIndex",s).next(a=>B.forEach(a,l=>{ke(l.userId===o.userId);const c=Zc(this.serializer,l);return Tj(e,o.userId,c).next(()=>{})}))}))}ei(e){const t=e.store("targetDocuments"),i=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(r=>{const o=[];return i.Y((s,a)=>{const l=new Vt(s),c=[0,hr(l)];o.push(t.get(c).next(h=>h?B.resolve():t.put({targetId:0,path:hr(l),sequenceNumber:r.highestListenSequenceNumber})))}).next(()=>B.waitFor(o))})}ti(e,t){e.createObjectStore("collectionParents",{keyPath:Pie});const i=t.store("collectionParents"),r=new ID,o=s=>{if(r.add(s)){const a=s.lastSegment(),l=s.popLast();return i.put({collectionId:a,parent:hr(l)})}};return t.store("remoteDocuments").Y({J:!0},(s,a)=>{const l=new Vt(s);return o(l.popLast())}).next(()=>t.store("documentMutations").Y({J:!0},([s,a,l],c)=>{const h=ks(a);return o(h.popLast())}))}ni(e){const t=e.store("targets");return t.Y((i,r)=>{const o=tg(r),s=hj(this.serializer,o);return t.put(s)})}ri(e,t){const i=t.store("remoteDocuments"),r=[];return i.Y((o,s)=>{const a=t.store("remoteDocumentsV14"),l=(p=s,p.document?new ge(Vt.fromString(p.document.name).popFirst(5)):p.noDocument?ge.fromSegments(p.noDocument.path):p.unknownDocument?ge.fromSegments(p.unknownDocument.path):xe()).path.toArray(),c={prefixPath:l.slice(0,l.length-2),collectionGroup:l[l.length-2],documentId:l[l.length-1],readTime:s.readTime||[0,0],unknownDocument:s.unknownDocument,noDocument:s.noDocument,document:s.document,hasCommittedMutations:!!s.hasCommittedMutations};var p;r.push(a.put(c))}).next(()=>B.waitFor(r))}ii(e,t){const i=t.store("mutations"),r=Oj(this.serializer),o=new CD(s0.jr,this.serializer.ut);return i.W().next(s=>{const a=new Map;return s.forEach(l=>{var c;let h=null!==(c=a.get(l.userId))&&void 0!==c?c:ct();Zc(this.serializer,l).keys().forEach(p=>h=h.add(p)),a.set(l.userId,h)}),B.forEach(a,(l,c)=>{const h=new Ni(c),p=Jb.ct(this.serializer,h),g=o.getIndexManager(h),y=r0.ct(h,this.serializer,g,o.referenceDelegate);return new Vj(r,y,p,g).recalculateAndSaveOverlaysForDocumentKeys(new QT(t,fo._e),l).next()})})}}function Bj(n){n.createObjectStore("targetDocuments",{keyPath:Mie}).createIndex("documentTargetsIndex",Rie,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Sie,{unique:!0}),n.createObjectStore("targetGlobal")}const TD="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class DD{constructor(e,t,i,r,o,s,a,l,c,h,p=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=i,this.si=o,this.window=s,this.document=a,this.oi=c,this._i=h,this.ai=p,this.Lr=null,this.kr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ui=null,this.inForeground=!1,this.ci=null,this.li=null,this.hi=Number.NEGATIVE_INFINITY,this.Pi=g=>Promise.resolve(),!DD.D())throw new ne(W.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new jre(this,r),this.Ii=t+"main",this.serializer=new uj(l),this.Ti=new rs(this.Ii,this.ai,new Xre(this.serializer)),this.qr=new Vre(this.referenceDelegate,this.serializer),this.remoteDocumentCache=Oj(this.serializer),this.Kr=new Mre,this.window&&this.window.localStorage?this.Ei=this.window.localStorage:(this.Ei=null,!1===h&&li("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.di().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new ne(W.FAILED_PRECONDITION,TD);return this.Ai(),this.Ri(),this.Vi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.qr.getHighestSequenceNumber(e))}).then(e=>{this.Lr=new fo(e,this.oi)}).then(()=>{this.kr=!0}).catch(e=>(this.Ti&&this.Ti.close(),Promise.reject(e)))}mi(e){var t=this;return this.Pi=function(){var i=(0,Y.Z)(function*(r){if(t.started)return e(r)});return function(r){return i.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ti.L(function(){var t=(0,Y.Z)(function*(i){null===i.newVersion&&(yield e())});return function(i){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.si.enqueueAndForget((0,Y.Z)(function*(){t.started&&(yield t.di())})))}di(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>l0(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(e).next(t=>{t||(this.isPrimary=!1,this.si.enqueueRetryable(()=>this.Pi(!1)))})}).next(()=>this.gi(e)).next(t=>this.isPrimary&&!t?this.pi(e).next(()=>!1):!!t&&this.yi(e).next(()=>!0))).catch(e=>{if(bl(e))return se("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return se("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.si.enqueueRetryable(()=>this.Pi(e)),this.isPrimary=e})}fi(e){return sg(e).get("owner").next(t=>B.resolve(this.wi(t)))}Si(e){return l0(e).delete(this.clientId)}bi(){var e=this;return(0,Y.Z)(function*(){if(e.isPrimary&&!e.Di(e.hi,18e5)){e.hi=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",i=>{const r=Fi(i,"clientMetadata");return r.W().next(o=>{const s=e.Ci(o,18e5),a=o.filter(l=>-1===s.indexOf(l));return B.forEach(a,l=>r.delete(l.clientId)).next(()=>a)})}).catch(()=>[]);if(e.Ei)for(const i of t)e.Ei.removeItem(e.vi(i.clientId))}})()}Vi(){this.li=this.si.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.di().then(()=>this.bi()).then(()=>this.Vi()))}wi(e){return!!e&&e.ownerId===this.clientId}gi(e){return this._i?B.resolve(!0):sg(e).get("owner").next(t=>{if(null!==t&&this.Di(t.leaseTimestampMs,5e3)&&!this.Fi(t.ownerId)){if(this.wi(t)&&this.networkEnabled)return!0;if(!this.wi(t)){if(!t.allowTabSynchronization)throw new ne(W.FAILED_PRECONDITION,TD);return!1}}return!(!this.networkEnabled||!this.inForeground)||l0(e).W().next(i=>void 0===this.Ci(i,5e3).find(r=>!(this.clientId===r.clientId||!(!this.networkEnabled&&r.networkEnabled||!this.inForeground&&r.inForeground&&this.networkEnabled===r.networkEnabled))))}).next(t=>(this.isPrimary!==t&&se("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,Y.Z)(function*(){e.kr=!1,e.Mi(),e.li&&(e.li.cancel(),e.li=null),e.xi(),e.Oi(),yield e.Ti.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const i=new QT(t,fo._e);return e.pi(i).next(()=>e.Si(i))}),e.Ti.close(),e.Ni()})()}Ci(e,t){return e.filter(i=>this.Di(i.updateTimeMs,t)&&!this.Fi(i.clientId))}Bi(){return this.runTransaction("getActiveClients","readonly",e=>l0(e).W().next(t=>this.Ci(t,18e5).map(i=>i.clientId)))}get started(){return this.kr}getMutationQueue(e,t){return r0.ct(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new Lre(e,this.serializer.ut.databaseId)}getDocumentOverlayCache(e){return Jb.ct(this.serializer,e)}getBundleCache(){return this.Kr}runTransaction(e,t,i){se("IndexedDbPersistence","Starting transaction:",e);const r="readonly"===t?"readonly":"readwrite",o=15===(l=this.ai)?jie:14===l?XB:13===l?QB:12===l?Uie:11===l?YB:void xe();var l;let s;return this.Ti.runTransaction(e,r,o,a=>(s=new QT(a,this.Lr?this.Lr.next():fo._e),"readwrite-primary"===t?this.fi(s).next(l=>!!l||this.gi(s)).next(l=>{if(!l)throw li(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.si.enqueueRetryable(()=>this.Pi(!1)),new ne(W.FAILED_PRECONDITION,HB);return i(s)}).next(l=>this.yi(s).next(()=>l)):this.Li(s).next(()=>i(s)))).then(a=>(s.raiseOnCommittedEvent(),a))}Li(e){return sg(e).get("owner").next(t=>{if(null!==t&&this.Di(t.leaseTimestampMs,5e3)&&!this.Fi(t.ownerId)&&!this.wi(t)&&!(this._i||this.allowTabSynchronization&&t.allowTabSynchronization))throw new ne(W.FAILED_PRECONDITION,TD)})}yi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return sg(e).put("owner",t)}static D(){return rs.D()}pi(e){const t=sg(e);return t.get("owner").next(i=>this.wi(i)?(se("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):B.resolve())}Di(e,t){const i=Date.now();return!(e<i-t||e>i&&(li(`Detected an update time that is in the future: ${e} > ${i}`),1))}Ai(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ci=()=>{this.si.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.di()))},this.document.addEventListener("visibilitychange",this.ci),this.inForeground="visible"===this.document.visibilityState)}xi(){this.ci&&(this.document.removeEventListener("visibilitychange",this.ci),this.ci=null)}Ri(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ui=()=>{this.Mi();const t=/(?:Version|Mobile)\/1[456]/;(0,sn.G6)()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.si.enterRestrictedMode(!0),this.si.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ui))}Oi(){this.ui&&(this.window.removeEventListener("pagehide",this.ui),this.ui=null)}Fi(e){var t;try{const i=null!==(null===(t=this.Ei)||void 0===t?void 0:t.getItem(this.vi(e)));return se("IndexedDbPersistence",`Client '${e}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return li("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}Mi(){if(this.Ei)try{this.Ei.setItem(this.vi(this.clientId),String(Date.now()))}catch(e){li("Failed to set zombie client id.",e)}}Ni(){if(this.Ei)try{this.Ei.removeItem(this.vi(this.clientId))}catch{}}vi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function sg(n){return Fi(n,"owner")}function l0(n){return Fi(n,"clientMetadata")}function AD(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class SD{constructor(e,t,i,r){this.targetId=e,this.fromCache=t,this.ki=i,this.qi=r}static Qi(e,t){let i=ct(),r=ct();for(const o of t.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:r=r.add(o.doc.key)}return new SD(e,t.fromCache,i,r)}}class Jre{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class Uj{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=8}initialize(e,t){this.Gi=e,this.indexManager=t,this.Ki=!0}getDocumentsMatchingQuery(e,t,i,r){const o={result:null};return this.zi(e,t).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.ji(e,t,r,i).next(s=>{o.result=s})}).next(()=>{if(o.result)return;const s=new Jre;return this.Hi(e,t,s).next(a=>{if(o.result=a,this.$i)return this.Ji(e,t,s,a.size)})}).next(()=>o.result)}Ji(e,t,i,r){return i.documentReadCount<this.Ui?(lh()<=Ss.in.DEBUG&&se("QueryEngine","SDK will not create cache indexes for query:",_h(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),B.resolve()):(lh()<=Ss.in.DEBUG&&se("QueryEngine","Query:",_h(t),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.Wi*r?(lh()<=Ss.in.DEBUG&&se("QueryEngine","The SDK decides to create cache indexes for query:",_h(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Lr(t))):B.resolve())}zi(e,t){if(wU(t))return B.resolve(null);let i=Lr(t);return this.indexManager.getIndexType(e,i).next(r=>0===r?null:(null!==t.limit&&1===r&&(t=qb(t,null,"F"),i=Lr(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(o=>{const s=ct(...o);return this.Gi.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,i).next(l=>{const c=this.Yi(t,a);return this.Zi(t,c,s,l.readTime)?this.zi(e,qb(t,null,"F")):this.Xi(e,c,t,l)}))})))}ji(e,t,i,r){return wU(t)||r.isEqual(Oe.min())?B.resolve(null):this.Gi.getDocuments(e,i).next(o=>{const s=this.Yi(t,o);return this.Zi(t,s,i,r)?B.resolve(null):(lh()<=Ss.in.DEBUG&&se("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),_h(t)),this.Xi(e,s,t,jB(r,-1)).next(a=>a))})}Yi(e,t){let i=new an(TU(e));return t.forEach((r,o)=>{$m(e,o)&&(i=i.add(o))}),i}Zi(e,t,i,r){if(null===e.limit)return!1;if(i.size!==t.size)return!0;const o="F"===e.limitType?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(r)>0)}Hi(e,t,i){return lh()<=Ss.in.DEBUG&&se("QueryEngine","Using full collection scan to execute query:",_h(t)),this.Gi.getDocumentsMatchingQuery(e,t,ho.min(),i)}Xi(e,t,i,r){return this.Gi.getDocumentsMatchingQuery(e,i,r).next(o=>(t.forEach(s=>{o=o.insert(s.key,s)}),o))}}class eoe{constructor(e,t,i,r){this.persistence=e,this.es=t,this.serializer=r,this.ts=new yn(et),this.ns=new ba(o=>Hc(o),zm),this.rs=new Map,this.ss=e.getRemoteDocumentCache(),this.qr=e.getTargetCache(),this.Kr=e.getBundleCache(),this.os(i)}os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Vj(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.ts))}}function jj(n,e,t,i){return new eoe(n,e,t,i)}function zj(n,e){return MD.apply(this,arguments)}function MD(){return MD=(0,Y.Z)(function*(n,e){const t=me(n);return yield t.persistence.runTransaction("Handle user change","readonly",i=>{let r;return t.mutationQueue.getAllMutationBatches(i).next(o=>(r=o,t.os(e),t.mutationQueue.getAllMutationBatches(i))).next(o=>{const s=[],a=[];let l=ct();for(const c of r){s.push(c.batchId);for(const h of c.mutations)l=l.add(h.key)}for(const c of o){a.push(c.batchId);for(const h of c.mutations)l=l.add(h.key)}return t.localDocuments.getDocuments(i,l).next(c=>({_s:c,removedBatchIds:s,addedBatchIds:a}))})})}),MD.apply(this,arguments)}function Hj(n){const e=me(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.qr.getLastRemoteSnapshotVersion(t))}function $j(n,e,t){let i=ct(),r=ct();return t.forEach(o=>i=i.add(o)),e.getEntries(n,i).next(o=>{let s=Kr();return t.forEach((a,l)=>{const c=o.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(r=r.add(a)),l.isNoDocument()&&l.version.isEqual(Oe.min())?(e.removeEntry(a,l.readTime),s=s.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||0===l.version.compareTo(c.version)&&c.hasPendingWrites?(e.addEntry(l),s=s.insert(a,l)):se("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{us:s,cs:r}})}function ioe(n,e){const t=me(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function Ah(n,e){const t=me(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return t.qr.getTargetData(i,e).next(o=>o?(r=o,B.resolve(r)):t.qr.allocateTargetId(i).next(s=>(r=new wa(e,s,"TargetPurposeListen",i.currentSequenceNumber),t.qr.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=t.ts.get(i.targetId);return(null===r||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(t.ts=t.ts.insert(i.targetId,i),t.ns.set(e,i.targetId)),i})}function Sh(n,e,t){return RD.apply(this,arguments)}function RD(){return RD=(0,Y.Z)(function*(n,e,t){const i=me(n),r=i.ts.get(e),o=t?"readwrite":"readwrite-primary";try{t||(yield i.persistence.runTransaction("Release target",o,s=>i.persistence.referenceDelegate.removeTarget(s,r)))}catch(s){if(!bl(s))throw s;se("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}i.ts=i.ts.remove(e),i.ns.delete(r.target)}),RD.apply(this,arguments)}function c0(n,e,t){const i=me(n);let r=Oe.min(),o=ct();return i.persistence.runTransaction("Execute query","readwrite",s=>function(l,c,h){const p=me(l),g=p.ns.get(h);return void 0!==g?B.resolve(p.ts.get(g)):p.qr.getTargetData(c,h)}(i,s,Lr(e)).next(a=>{if(a)return r=a.lastLimboFreeSnapshotVersion,i.qr.getMatchingKeysForTargetId(s,a.targetId).next(l=>{o=l})}).next(()=>i.es.getDocumentsMatchingQuery(s,e,t?r:Oe.min(),t?o:ct())).next(a=>(Gj(i,CU(e),a),{documents:a,ls:o})))}function Wj(n,e){const t=me(n),i=me(t.qr),r=t.ts.get(e);return r?Promise.resolve(r.target):t.persistence.runTransaction("Get target data","readonly",o=>i._t(o,e).next(s=>s?s.target:null))}function qj(n,e){const t=me(n),i=t.rs.get(e)||Oe.min();return t.persistence.runTransaction("Get new document changes","readonly",r=>t.ss.getAllFromCollectionGroup(r,e,jB(i,-1),Number.MAX_SAFE_INTEGER)).then(r=>(Gj(t,e,r),r))}function Gj(n,e,t){let i=n.rs.get(e)||Oe.min();t.forEach((r,o)=>{o.readTime.compareTo(i)>0&&(i=o.readTime)}),n.rs.set(e,i)}function PD(){return PD=(0,Y.Z)(function*(n,e,t,i){const r=me(n);let o=ct(),s=Kr();for(const c of t){const h=e.hs(c.metadata.name);c.document&&(o=o.add(h));const p=e.Ps(c);p.setReadTime(e.Is(c.metadata.readTime)),s=s.insert(h,p)}const a=r.ss.newChangeBuffer({trackRemovals:!0}),l=yield Ah(r,(h=i,Lr(mh(Vt.fromString(`__bundle__/docs/${h}`)))));var h;return r.persistence.runTransaction("Apply bundle documents","readwrite",c=>$j(c,a,s).next(h=>(a.apply(c),h)).next(h=>r.qr.removeMatchingKeysForTargetId(c,l.targetId).next(()=>r.qr.addMatchingKeys(c,o,l.targetId)).next(()=>r.localDocuments.getLocalViewOfDocuments(c,h.us,h.cs)).next(()=>h.us)))}),PD.apply(this,arguments)}function ooe(n,e){return kD.apply(this,arguments)}function kD(){return kD=(0,Y.Z)(function*(n,e,t=ct()){const i=yield Ah(n,Lr(_D(e.bundledQuery))),r=me(n);return r.persistence.runTransaction("Save named query","readwrite",o=>{const s=ci(e.readTime);if(i.snapshotVersion.compareTo(s)>=0)return r.Kr.saveNamedQuery(o,e);const a=i.withResumeToken(Ci.EMPTY_BYTE_STRING,s);return r.ts=r.ts.insert(a.targetId,a),r.qr.updateTargetData(o,a).next(()=>r.qr.removeMatchingKeysForTargetId(o,i.targetId)).next(()=>r.qr.addMatchingKeys(o,t,i.targetId)).next(()=>r.Kr.saveNamedQuery(o,e))})}),kD.apply(this,arguments)}function Zj(n,e){return`firestore_clients_${n}_${e}`}function Kj(n,e,t){let i=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(i+=`_${e.uid}`),i}function OD(n,e){return`firestore_targets_${n}_${e}`}class u0{constructor(e,t,i,r){this.user=e,this.batchId=t,this.state=i,this.error=r}static Ts(e,t,i){const r=JSON.parse(i);let o,s="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return s&&r.error&&(s="string"==typeof r.error.message&&"string"==typeof r.error.code,s&&(o=new ne(r.error.code,r.error.message))),s?new u0(e,t,r.state,o):(li("SharedClientState",`Failed to parse mutation state for ID '${t}': ${i}`),null)}Es(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class ag{constructor(e,t,i){this.targetId=e,this.state=t,this.error=i}static Ts(e,t){const i=JSON.parse(t);let r,o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code,o&&(r=new ne(i.error.code,i.error.message))),o?new ag(e,i.state,r):(li("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}Es(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class d0{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Ts(e,t){const i=JSON.parse(t);let r="object"==typeof i&&i.activeTargetIds instanceof Array,o=sD();for(let s=0;r&&s<i.activeTargetIds.length;++s)r=qB(i.activeTargetIds[s]),o=o.add(i.activeTargetIds[s]);return r?new d0(e,o):(li("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class ND{constructor(e,t){this.clientId=e,this.onlineState=t}static Ts(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new ND(t.clientId,t.onlineState):(li("SharedClientState",`Failed to parse online state: ${e}`),null)}}class FD{constructor(){this.activeTargetIds=sD()}ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}As(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Es(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class LD{constructor(e,t,i,r,o){this.window=e,this.si=t,this.persistenceKey=i,this.Rs=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Vs=this.fs.bind(this),this.gs=new yn(et),this.started=!1,this.ps=[];const s=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=o,this.ys=Zj(this.persistenceKey,this.Rs),this.ws=`firestore_sequence_number_${this.persistenceKey}`,this.gs=this.gs.insert(this.Rs,new FD),this.Ss=new RegExp(`^firestore_clients_${s}_([^_]*)$`),this.bs=new RegExp(`^firestore_mutations_${s}_(\\d+)(?:_(.*))?$`),this.Ds=new RegExp(`^firestore_targets_${s}_(\\d+)$`),this.Cs=`firestore_online_state_${this.persistenceKey}`,this.vs=function(l){return`firestore_bundle_loaded_v2_${l}`}(this.persistenceKey),this.window.addEventListener("storage",this.Vs)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,Y.Z)(function*(){const t=yield e.syncEngine.Bi();for(const r of t){if(r===e.Rs)continue;const o=e.getItem(Zj(e.persistenceKey,r));if(o){const s=d0.Ts(r,o);s&&(e.gs=e.gs.insert(s.clientId,s))}}e.Fs();const i=e.storage.getItem(e.Cs);if(i){const r=e.Ms(i);r&&e.xs(r)}for(const r of e.ps)e.fs(r);e.ps=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.ws,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Os(this.gs)}isActiveQueryTarget(e){let t=!1;return this.gs.forEach((i,r)=>{r.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Ns(e,"pending")}updateMutationState(e,t,i){this.Ns(e,t,i),this.Bs(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const i=this.storage.getItem(OD(this.persistenceKey,e));if(i){const r=ag.Ts(e,i);r&&(t=r.state)}}return this.Ls.ds(e),this.Fs(),t}removeLocalQueryTarget(e){this.Ls.As(e),this.Fs()}isLocalQueryTarget(e){return this.Ls.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(OD(this.persistenceKey,e))}updateQueryState(e,t,i){this.ks(e,t,i)}handleUserChange(e,t,i){t.forEach(r=>{this.Bs(r)}),this.currentUser=e,i.forEach(r=>{this.addPendingMutation(r)})}setOnlineState(e){this.qs(e)}notifyBundleLoaded(e){this.Qs(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Vs),this.removeItem(this.ys),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return se("SharedClientState","READ",e,t),t}setItem(e,t){se("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){se("SharedClientState","REMOVE",e),this.storage.removeItem(e)}fs(e){var t=this;const i=e;if(i.storageArea===this.storage){if(se("SharedClientState","EVENT",i.key,i.newValue),i.key===this.ys)return void li("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.si.enqueueRetryable((0,Y.Z)(function*(){if(t.started){if(null!==i.key)if(t.Ss.test(i.key)){if(null==i.newValue){const r=t.Ks(i.key);return t.$s(r,null)}{const r=t.Us(i.key,i.newValue);if(r)return t.$s(r.clientId,r)}}else if(t.bs.test(i.key)){if(null!==i.newValue){const r=t.Ws(i.key,i.newValue);if(r)return t.Gs(r)}}else if(t.Ds.test(i.key)){if(null!==i.newValue){const r=t.zs(i.key,i.newValue);if(r)return t.js(r)}}else if(i.key===t.Cs){if(null!==i.newValue){const r=t.Ms(i.newValue);if(r)return t.xs(r)}}else if(i.key===t.ws){const r=function(s){let a=fo._e;if(null!=s)try{const l=JSON.parse(s);ke("number"==typeof l),a=l}catch(l){li("SharedClientState","Failed to read sequence number from WebStorage",l)}return a}(i.newValue);r!==fo._e&&t.sequenceNumberHandler(r)}else if(i.key===t.vs){const r=t.Hs(i.newValue);yield Promise.all(r.map(o=>t.syncEngine.Js(o)))}}else t.ps.push(i)}))}}get Ls(){return this.gs.get(this.Rs)}Fs(){this.setItem(this.ys,this.Ls.Es())}Ns(e,t,i){const r=new u0(this.currentUser,e,t,i),o=Kj(this.persistenceKey,this.currentUser,e);this.setItem(o,r.Es())}Bs(e){const t=Kj(this.persistenceKey,this.currentUser,e);this.removeItem(t)}qs(e){this.storage.setItem(this.Cs,JSON.stringify({clientId:this.Rs,onlineState:e}))}ks(e,t,i){const r=OD(this.persistenceKey,e),o=new ag(e,t,i);this.setItem(r,o.Es())}Qs(e){const t=JSON.stringify(Array.from(e));this.setItem(this.vs,t)}Ks(e){const t=this.Ss.exec(e);return t?t[1]:null}Us(e,t){const i=this.Ks(e);return d0.Ts(i,t)}Ws(e,t){const i=this.bs.exec(e),r=Number(i[1]);return u0.Ts(new Ni(void 0!==i[2]?i[2]:null),r,t)}zs(e,t){const i=this.Ds.exec(e),r=Number(i[1]);return ag.Ts(r,t)}Ms(e){return ND.Ts(e)}Hs(e){return JSON.parse(e)}Gs(e){var t=this;return(0,Y.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.Ys(e.batchId,e.state,e.error);se("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}js(e){return this.syncEngine.Zs(e.targetId,e.state,e.error)}$s(e,t){const i=t?this.gs.insert(e,t):this.gs.remove(e),r=this.Os(this.gs),o=this.Os(i),s=[],a=[];return o.forEach(l=>{r.has(l)||s.push(l)}),r.forEach(l=>{o.has(l)||a.push(l)}),this.syncEngine.Xs(s,a).then(()=>{this.gs=i})}xs(e){this.gs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Os(e){let t=sD();return e.forEach((i,r)=>{t=t.unionWith(r.activeTargetIds)}),t}}class Yj{constructor(){this.eo=new FD,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e){return this.eo.ds(e),this.no[e]||"not-current"}updateQueryState(e,t,i){this.no[e]=t}removeLocalQueryTarget(e){this.eo.As(e)}isLocalQueryTarget(e){return this.eo.activeTargetIds.has(e)}clearQueryState(e){delete this.no[e]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(e){return this.eo.activeTargetIds.has(e)}start(){return this.eo=new FD,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class soe{ro(e){}shutdown(){}}class Qj{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(e){this.ao.push(e)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){se("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ao)e(0)}_o(){se("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ao)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let h0=null;function VD(){return null===h0?h0=268435456+Math.round(2147483648*Math.random()):h0++,"0x"+h0.toString(16)}const aoe={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class loe{constructor(e){this.co=e.co,this.lo=e.lo}ho(e){this.Po=e}Io(e){this.To=e}onMessage(e){this.Eo=e}close(){this.lo()}send(e){this.co(e)}Ao(){this.Po()}Ro(e){this.To(e)}Vo(e){this.Eo(e)}}const pr="WebChannelConnection";class coe extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.mo=i+"://"+t.host,this.fo=`projects/${r}/databases/${o}`,this.po="(default)"===this.databaseId.database?`project_id=${r}`:`project_id=${r}&database_id=${o}`}get yo(){return!1}wo(t,i,r,o,s){const a=VD(),l=this.So(t,i);se("RestConnection",`Sending RPC '${t}' ${a}:`,l,r);const c={"google-cloud-resource-prefix":this.fo,"x-goog-request-params":this.po};return this.bo(c,o,s),this.Do(t,l,c,r).then(h=>(se("RestConnection",`Received RPC '${t}' ${a}: `,h),h),h=>{throw Gr("RestConnection",`RPC '${t}' ${a} failed with error: `,h,"url: ",l,"request:",r),h})}Co(t,i,r,o,s,a){return this.wo(t,i,r,o,s)}bo(t,i,r){t["X-Goog-Api-Client"]="gl-js/ fire/"+ah,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((o,s)=>t[s]=o),r&&r.headers.forEach((o,s)=>t[s]=o)}So(t,i){return`${this.mo}/v1/${i}:${aoe[t]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Do(e,t,i,r){const o=VD();return new Promise((s,a)=>{const l=new sie;l.setWithCredentials(!0),l.listenOnce(iie.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case WT.NO_ERROR:const h=l.getResponseJson();se(pr,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(h)),s(h);break;case WT.TIMEOUT:se(pr,`RPC '${e}' ${o} timed out`),a(new ne(W.DEADLINE_EXCEEDED,"Request time out"));break;case WT.HTTP_ERROR:const p=l.getStatus();if(se(pr,`RPC '${e}' ${o} failed with status:`,p,"response text:",l.getResponseText()),p>0){let g=l.getResponseJson();Array.isArray(g)&&(g=g[0]);const y=g?.error;if(y&&y.status&&y.message){const w=function(S){const L=S.toLowerCase().replace(/_/g,"-");return Object.values(W).indexOf(L)>=0?L:W.UNKNOWN}(y.status);a(new ne(w,y.message))}else a(new ne(W.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new ne(W.UNAVAILABLE,"Connection failed."));break;default:xe()}}finally{se(pr,`RPC '${e}' ${o} completed.`)}});const c=JSON.stringify(r);se(pr,`RPC '${e}' ${o} sending request:`,r),l.send(t,"POST",c,i,15)})}vo(e,t,i){const r=VD(),o=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=tie(),a=nie(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;void 0!==c&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.xmlHttpFactory=new oie({})),this.bo(l.initMessageHeaders,t,i),l.encodeInitMessageHeaders=!0;const h=o.join("");se(pr,`Creating RPC '${e}' stream ${r}: ${h}`,l);const p=s.createWebChannel(h,l);let g=!1,y=!1;const w=new loe({co:S=>{y?se(pr,`Not sending because RPC '${e}' stream ${r} is closed:`,S):(g||(se(pr,`Opening RPC '${e}' stream ${r} transport.`),p.open(),g=!0),se(pr,`RPC '${e}' stream ${r} sending:`,S),p.send(S))},lo:()=>p.close()}),x=(S,L,R)=>{S.listen(L,z=>{try{R(z)}catch(Q){setTimeout(()=>{throw Q},0)}})};return x(p,Nb.EventType.OPEN,()=>{y||se(pr,`RPC '${e}' stream ${r} transport opened.`)}),x(p,Nb.EventType.CLOSE,()=>{y||(y=!0,se(pr,`RPC '${e}' stream ${r} transport closed`),w.Ro())}),x(p,Nb.EventType.ERROR,S=>{y||(y=!0,Gr(pr,`RPC '${e}' stream ${r} transport errored:`,S),w.Ro(new ne(W.UNAVAILABLE,"The operation could not be completed")))}),x(p,Nb.EventType.MESSAGE,S=>{var L;if(!y){const R=S.data[0];ke(!!R);const Q=R.error||(null===(L=R[0])||void 0===L?void 0:L.error);if(Q){se(pr,`RPC '${e}' stream ${r} received error:`,Q);const ue=Q.status;let Pe=function(Ur){const Yr=mi[Ur];if(void 0!==Yr)return $U(Yr)}(ue),Je=Q.message;void 0===Pe&&(Pe=W.INTERNAL,Je="Unknown error status: "+ue+" with message "+Q.message),y=!0,w.Ro(new ne(Pe,Je)),p.close()}else se(pr,`RPC '${e}' stream ${r} received:`,R),w.Vo(R)}}),x(a,rie.STAT_EVENT,S=>{S.stat===NB.PROXY?se(pr,`RPC '${e}' stream ${r} detected buffering proxy`):S.stat===NB.NOPROXY&&se(pr,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{w.Ao()},0),w}}function Xj(){return typeof window<"u"?window:null}function f0(){return typeof document<"u"?document:null}function lg(n){return new vre(n,!0)}class BD{constructor(e,t,i=1e3,r=1.5,o=6e4){this.si=e,this.timerId=t,this.Fo=i,this.Mo=r,this.xo=o,this.Oo=0,this.No=null,this.Bo=Date.now(),this.reset()}reset(){this.Oo=0}Lo(){this.Oo=this.xo}ko(e){this.cancel();const t=Math.floor(this.Oo+this.qo()),i=Math.max(0,Date.now()-this.Bo),r=Math.max(0,t-i);r>0&&se("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Oo} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.No=this.si.enqueueAfterDelay(this.timerId,r,()=>(this.Bo=Date.now(),e())),this.Oo*=this.Mo,this.Oo<this.Fo&&(this.Oo=this.Fo),this.Oo>this.xo&&(this.Oo=this.xo)}Qo(){null!==this.No&&(this.No.skipDelay(),this.No=null)}cancel(){null!==this.No&&(this.No.cancel(),this.No=null)}qo(){return(Math.random()-.5)*this.Oo}}class Jj{constructor(e,t,i,r,o,s,a,l){this.si=e,this.Ko=i,this.$o=r,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Uo=0,this.Wo=null,this.Go=null,this.stream=null,this.zo=new BD(e,t)}jo(){return 1===this.state||5===this.state||this.Ho()}Ho(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Jo()}stop(){var e=this;return(0,Y.Z)(function*(){e.jo()&&(yield e.close(0))})()}Yo(){this.state=0,this.zo.reset()}Zo(){this.Ho()&&null===this.Wo&&(this.Wo=this.si.enqueueAfterDelay(this.Ko,6e4,()=>this.Xo()))}e_(e){this.t_(),this.stream.send(e)}Xo(){var e=this;return(0,Y.Z)(function*(){if(e.Ho())return e.close(0)})()}t_(){this.Wo&&(this.Wo.cancel(),this.Wo=null)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}close(e,t){var i=this;return(0,Y.Z)(function*(){i.t_(),i.n_(),i.zo.cancel(),i.Uo++,4!==e?i.zo.reset():t&&t.code===W.RESOURCE_EXHAUSTED?(li(t.toString()),li("Using maximum backoff delay to prevent overloading the backend."),i.zo.Lo()):t&&t.code===W.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.r_(),i.stream.close(),i.stream=null),i.state=e,yield i.listener.Io(t)})()}r_(){}auth(){this.state=1;const e=this.i_(this.Uo),t=this.Uo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.Uo===t&&this.s_(i,r)},i=>{e(()=>{const r=new ne(W.UNKNOWN,"Fetching auth token failed: "+i.message);return this.o_(r)})})}s_(e,t){const i=this.i_(this.Uo);this.stream=this.__(e,t),this.stream.ho(()=>{i(()=>(this.state=2,this.Go=this.si.enqueueAfterDelay(this.$o,1e4,()=>(this.Ho()&&(this.state=3),Promise.resolve())),this.listener.ho()))}),this.stream.Io(r=>{i(()=>this.o_(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}Jo(){var e=this;this.state=5,this.zo.ko((0,Y.Z)(function*(){e.state=0,e.start()}))}o_(e){return se("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}i_(e){return t=>{this.si.enqueueAndForget(()=>this.Uo===e?t():(se("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class uoe extends Jj{constructor(e,t,i,r,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,r,s),this.serializer=o}__(e,t){return this.connection.vo("Listen",e,t)}onMessage(e){this.zo.reset();const t=function wre(n,e){let t;if("targetChange"in e){const i="NO_CHANGE"===(c=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===c?1:"REMOVE"===c?2:"CURRENT"===c?3:"RESET"===c?4:xe(),r=e.targetChange.targetIds||[],o=function(c,h){return c.useProto3Json?(ke(void 0===h||"string"==typeof h),Ci.fromBase64String(h||"")):(ke(void 0===h||h instanceof Uint8Array),Ci.fromUint8Array(h||new Uint8Array))}(n,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(c){const h=void 0===c.code?W.UNKNOWN:$U(c.code);return new ne(h,c.message||"")}(s);t=new KU(i,r,o,a||null)}else if("documentChange"in e){const i=e.documentChange,r=Fs(n,i.document.name),o=ci(i.document.updateTime),s=i.document.createTime?ci(i.document.createTime):Oe.min(),a=new er({mapValue:{fields:i.document.fields}}),l=Rn.newFoundDocument(r,o,s,a);t=new Qb(i.targetIds||[],i.removedTargetIds||[],l.key,l)}else if("documentDelete"in e){const i=e.documentDelete,r=Fs(n,i.document),o=i.readTime?ci(i.readTime):Oe.min(),s=Rn.newNoDocument(r,o);t=new Qb([],i.removedTargetIds||[],s.key,s)}else if("documentRemove"in e){const i=e.documentRemove,r=Fs(n,i.document);t=new Qb([],i.removedTargetIds||[],r,null)}else{if(!("filter"in e))return xe();{const i=e.filter,{count:r=0,unchangedNames:o}=i,s=new fre(r,o);t=new ZU(i.targetId,s)}}var c;return t}(this.serializer,e),i=function(o){if(!("targetChange"in o))return Oe.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?Oe.min():s.readTime?ci(s.readTime):Oe.min()}(e);return this.listener.a_(t,i)}u_(e){const t={};t.database=Jm(this.serializer),t.addTarget=function(o,s){let a;const l=s.target;if(a=$b(l)?{documents:oj(o,l)}:{query:gD(o,l)},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=JU(o,s.resumeToken);const c=hD(o,s.expectedCount);null!==c&&(a.expectedCount=c)}else if(s.snapshotVersion.compareTo(Oe.min())>0){a.readTime=wh(o,s.snapshotVersion.toTimestamp());const c=hD(o,s.expectedCount);null!==c&&(a.expectedCount=c)}return a}(this.serializer,e);const i=function xre(n,e){const t=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return xe()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);i&&(t.labels=i),this.e_(t)}c_(e){const t={};t.database=Jm(this.serializer),t.removeTarget=e,this.e_(t)}}class doe extends Jj{constructor(e,t,i,r,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,r,s),this.serializer=o,this.l_=!1}get h_(){return this.l_}start(){this.l_=!1,this.lastStreamToken=void 0,super.start()}r_(){this.l_&&this.P_([])}__(e,t){return this.connection.vo("Write",e,t)}onMessage(e){if(ke(!!e.streamToken),this.lastStreamToken=e.streamToken,this.l_){this.zo.reset();const t=function Ire(n,e){return n&&n.length>0?(ke(void 0!==e),n.map(t=>function(r,o){let s=ci(r.updateTime?r.updateTime:o);return s.isEqual(Oe.min())&&(s=ci(o)),new cre(s,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),i=ci(e.commitTime);return this.listener.I_(i,t)}return ke(!e.writeResults||0===e.writeResults.length),this.l_=!0,this.listener.T_()}E_(){const e={};e.database=Jm(this.serializer),this.e_(e)}P_(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>eg(this.serializer,i))};this.e_(t)}}class hoe extends class{}{constructor(e,t,i,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=r,this.d_=!1}A_(){if(this.d_)throw new ne(W.FAILED_PRECONDITION,"The client has already been terminated.")}wo(e,t,i){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,o])=>this.connection.wo(e,t,i,r,o)).catch(r=>{throw"FirebaseError"===r.name?(r.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new ne(W.UNKNOWN,r.toString())})}Co(e,t,i,r){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Co(e,t,i,o,s,r)).catch(o=>{throw"FirebaseError"===o.name?(o.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ne(W.UNKNOWN,o.toString())})}terminate(){this.d_=!0}}class poe{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.V_=0,this.m_=null,this.f_=!0}g_(){0===this.V_&&(this.p_("Unknown"),this.m_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.m_=null,this.y_("Backend didn't respond within 10 seconds."),this.p_("Offline"),Promise.resolve())))}w_(e){"Online"===this.state?this.p_("Unknown"):(this.V_++,this.V_>=1&&(this.S_(),this.y_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.p_("Offline")))}set(e){this.S_(),this.V_=0,"Online"===e&&(this.f_=!1),this.p_(e)}p_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}y_(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.f_?(li(t),this.f_=!1):se("OnlineStateTracker",t)}S_(){null!==this.m_&&(this.m_.cancel(),this.m_=null)}}class moe{constructor(e,t,i,r,o){var s=this;this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.b_=[],this.D_=new Map,this.C_=new Set,this.v_=[],this.F_=o,this.F_.ro(a=>{i.enqueueAndForget((0,Y.Z)(function*(){var l;Pl(s)&&(se("RemoteStore","Restarting streams for network reachability change."),yield(l=(0,Y.Z)(function*(h){const p=me(h);p.C_.add(4),yield Mh(p),p.M_.set("Unknown"),p.C_.delete(4),yield cg(p)}),function c(h){return l.apply(this,arguments)})(s))}))}),this.M_=new poe(i,r)}}function cg(n){return jD.apply(this,arguments)}function jD(){return jD=(0,Y.Z)(function*(n){if(Pl(n))for(const e of n.v_)yield e(!0)}),jD.apply(this,arguments)}function Mh(n){return zD.apply(this,arguments)}function zD(){return zD=(0,Y.Z)(function*(n){for(const e of n.v_)yield e(!1)}),zD.apply(this,arguments)}function p0(n,e){const t=me(n);t.D_.has(e.targetId)||(t.D_.set(e.targetId,e),WD(t)?$D(t):Ph(t).Ho()&&HD(t,e))}function ug(n,e){const t=me(n),i=Ph(t);t.D_.delete(e),i.Ho()&&ez(t,e),0===t.D_.size&&(i.Ho()?i.Zo():Pl(t)&&t.M_.set("Unknown"))}function HD(n,e){if(n.x_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Oe.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Ph(n).u_(e)}function ez(n,e){n.x_.Oe(e),Ph(n).c_(e)}function $D(n){n.x_=new mre({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>n.D_.get(e)||null,nt:()=>n.datastore.serializer.databaseId}),Ph(n).start(),n.M_.g_()}function WD(n){return Pl(n)&&!Ph(n).jo()&&n.D_.size>0}function Pl(n){return 0===me(n).C_.size}function tz(n){n.x_=void 0}function goe(n){return qD.apply(this,arguments)}function qD(){return qD=(0,Y.Z)(function*(n){n.D_.forEach((e,t)=>{HD(n,e)})}),qD.apply(this,arguments)}function _oe(n,e){return GD.apply(this,arguments)}function GD(){return GD=(0,Y.Z)(function*(n,e){tz(n),WD(n)?(n.M_.w_(e),$D(n)):n.M_.set("Unknown")}),GD.apply(this,arguments)}function yoe(n,e,t){return ZD.apply(this,arguments)}function ZD(){return ZD=(0,Y.Z)(function*(n,e,t){if(n.M_.set("Online"),e instanceof KU&&2===e.state&&e.cause)try{yield(i=(0,Y.Z)(function*(o,s){const a=s.cause;for(const l of s.targetIds)o.D_.has(l)&&(yield o.remoteSyncer.rejectListen(l,a),o.D_.delete(l),o.x_.removeTarget(l))}),function r(o,s){return i.apply(this,arguments)})(n,e)}catch(i){se("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),yield m0(n,i)}else if(e instanceof Qb?n.x_.$e(e):e instanceof ZU?n.x_.Je(e):n.x_.Ge(e),!t.isEqual(Oe.min()))try{const i=yield Hj(n.localStore);t.compareTo(i)>=0&&(yield function(o,s){const a=o.x_.it(s);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const h=o.D_.get(c);h&&o.D_.set(c,h.withResumeToken(l.resumeToken,s))}}),a.targetMismatches.forEach((l,c)=>{const h=o.D_.get(l);if(!h)return;o.D_.set(l,h.withResumeToken(Ci.EMPTY_BYTE_STRING,h.snapshotVersion)),ez(o,l);const p=new wa(h.target,l,c,h.sequenceNumber);HD(o,p)}),o.remoteSyncer.applyRemoteEvent(a)}(n,t))}catch(i){se("RemoteStore","Failed to raise snapshot:",i),yield m0(n,i)}var i}),ZD.apply(this,arguments)}function m0(n,e,t){return KD.apply(this,arguments)}function KD(){return KD=(0,Y.Z)(function*(n,e,t){if(!bl(e))throw e;n.C_.add(1),yield Mh(n),n.M_.set("Offline"),t||(t=()=>Hj(n.localStore)),n.asyncQueue.enqueueRetryable((0,Y.Z)(function*(){se("RemoteStore","Retrying IndexedDB access"),yield t(),n.C_.delete(1),yield cg(n)}))}),KD.apply(this,arguments)}function nz(n,e){return e().catch(t=>m0(n,t,e))}function Rh(n){return YD.apply(this,arguments)}function YD(){return YD=(0,Y.Z)(function*(n){const e=me(n),t=kl(e);let i=e.b_.length>0?e.b_[e.b_.length-1].batchId:-1;for(;voe(e);)try{const r=yield ioe(e.localStore,i);if(null===r){0===e.b_.length&&t.Zo();break}i=r.batchId,boe(e,r)}catch(r){yield m0(e,r)}iz(e)&&rz(e)}),YD.apply(this,arguments)}function voe(n){return Pl(n)&&n.b_.length<10}function boe(n,e){n.b_.push(e);const t=kl(n);t.Ho()&&t.h_&&t.P_(e.mutations)}function iz(n){return Pl(n)&&!kl(n).jo()&&n.b_.length>0}function rz(n){kl(n).start()}function Eoe(n){return QD.apply(this,arguments)}function QD(){return QD=(0,Y.Z)(function*(n){kl(n).E_()}),QD.apply(this,arguments)}function woe(n){return XD.apply(this,arguments)}function XD(){return XD=(0,Y.Z)(function*(n){const e=kl(n);for(const t of n.b_)e.P_(t.mutations)}),XD.apply(this,arguments)}function Ioe(n,e,t){return JD.apply(this,arguments)}function JD(){return JD=(0,Y.Z)(function*(n,e,t){const i=n.b_.shift(),r=cD.from(i,e,t);yield nz(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield Rh(n)}),JD.apply(this,arguments)}function xoe(n,e){return eA.apply(this,arguments)}function eA(){return eA=(0,Y.Z)(function*(n,e){var t;e&&kl(n).h_&&(yield(t=(0,Y.Z)(function*(r,o){if(HU(a=o.code)&&a!==W.ABORTED){const s=r.b_.shift();kl(r).Yo(),yield nz(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,o)),yield Rh(r)}var a}),function i(r,o){return t.apply(this,arguments)})(n,e)),iz(n)&&rz(n)}),eA.apply(this,arguments)}function oz(n,e){return tA.apply(this,arguments)}function tA(){return tA=(0,Y.Z)(function*(n,e){const t=me(n);t.asyncQueue.verifyOperationInProgress(),se("RemoteStore","RemoteStore received new credentials");const i=Pl(t);t.C_.add(3),yield Mh(t),i&&t.M_.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.C_.delete(3),yield cg(t)}),tA.apply(this,arguments)}function nA(n,e){return iA.apply(this,arguments)}function iA(){return iA=(0,Y.Z)(function*(n,e){const t=me(n);e?(t.C_.delete(2),yield cg(t)):e||(t.C_.add(2),yield Mh(t),t.M_.set("Unknown"))}),iA.apply(this,arguments)}function Ph(n){return n.O_||(n.O_=function(t,i,r){const o=me(t);return o.A_(),new uoe(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)}(n.datastore,n.asyncQueue,{ho:goe.bind(null,n),Io:_oe.bind(null,n),a_:yoe.bind(null,n)}),n.v_.push(function(){var e=(0,Y.Z)(function*(t){t?(n.O_.Yo(),WD(n)?$D(n):n.M_.set("Unknown")):(yield n.O_.stop(),tz(n))});return function(t){return e.apply(this,arguments)}}())),n.O_}function kl(n){return n.N_||(n.N_=function(t,i,r){const o=me(t);return o.A_(),new doe(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)}(n.datastore,n.asyncQueue,{ho:Eoe.bind(null,n),Io:xoe.bind(null,n),T_:woe.bind(null,n),I_:Ioe.bind(null,n)}),n.v_.push(function(){var e=(0,Y.Z)(function*(t){t?(n.N_.Yo(),yield Rh(n)):(yield n.N_.stop(),n.b_.length>0&&(se("RemoteStore",`Stopping write stream with ${n.b_.length} pending writes`),n.b_=[]))});return function(t){return e.apply(this,arguments)}}())),n.N_}class rA{constructor(e,t,i,r,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=r,this.removalCallback=o,this.deferred=new xi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,r,o){const s=Date.now()+i,a=new rA(e,t,s,r,o);return a.start(i),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new ne(W.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function kh(n,e){if(li("AsyncQueue",`${e}: ${n}`),bl(n))return new ne(W.UNAVAILABLE,`${e}: ${n}`);throw n}class Oh{constructor(e){this.comparator=e?(t,i)=>e(t,i)||ge.comparator(t.key,i.key):(t,i)=>ge.comparator(t.key,i.key),this.keyedMap=Wm(),this.sortedSet=new yn(this.comparator)}static emptySet(e){return new Oh(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Oh)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const r=t.getNext().key,o=i.getNext().key;if(!r.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const i=new Oh;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}class sz{constructor(){this.B_=new yn(ge.comparator)}track(e){const t=e.doc.key,i=this.B_.get(t);i?0!==e.type&&3===i.type?this.B_=this.B_.insert(t,e):3===e.type&&1!==i.type?this.B_=this.B_.insert(t,{type:i.type,doc:e.doc}):2===e.type&&2===i.type?this.B_=this.B_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===i.type?this.B_=this.B_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===i.type?this.B_=this.B_.remove(t):1===e.type&&2===i.type?this.B_=this.B_.insert(t,{type:1,doc:i.doc}):0===e.type&&1===i.type?this.B_=this.B_.insert(t,{type:2,doc:e.doc}):xe():this.B_=this.B_.insert(t,e)}L_(){const e=[];return this.B_.inorderTraversal((t,i)=>{e.push(i)}),e}}class Nh{constructor(e,t,i,r,o,s,a,l,c){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,t,i,r,o){const s=[];return t.forEach(a=>{s.push({type:0,doc:a})}),new Nh(e,t,Oh.emptySet(t),s,i,r,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Hm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==i[r].type||!t[r].doc.isEqual(i[r].doc))return!1;return!0}}class Coe{constructor(){this.k_=void 0,this.listeners=[]}}class Toe{constructor(){this.queries=new ba(e=>xU(e),Hm),this.onlineState="Unknown",this.q_=new Set}}function oA(n,e){return sA.apply(this,arguments)}function sA(){return sA=(0,Y.Z)(function*(n,e){const t=me(n),i=e.query;let r=!1,o=t.queries.get(i);if(o||(r=!0,o=new Coe),r)try{o.k_=yield t.onListen(i)}catch(s){const a=kh(s,`Initialization of query '${_h(e.query)}' failed`);return void e.onError(a)}t.queries.set(i,o),o.listeners.push(e),e.Q_(t.onlineState),o.k_&&e.K_(o.k_)&&cA(t)}),sA.apply(this,arguments)}function aA(n,e){return lA.apply(this,arguments)}function lA(){return lA=(0,Y.Z)(function*(n,e){const t=me(n),i=e.query;let r=!1;const o=t.queries.get(i);if(o){const s=o.listeners.indexOf(e);s>=0&&(o.listeners.splice(s,1),r=0===o.listeners.length)}if(r)return t.queries.delete(i),t.onUnlisten(i)}),lA.apply(this,arguments)}function Doe(n,e){const t=me(n);let i=!1;for(const r of e){const s=t.queries.get(r.query);if(s){for(const a of s.listeners)a.K_(r)&&(i=!0);s.k_=r}}i&&cA(t)}function Aoe(n,e,t){const i=me(n),r=i.queries.get(e);if(r)for(const o of r.listeners)o.onError(t);i.queries.delete(e)}function cA(n){n.q_.forEach(e=>{e.next()})}class uA{constructor(e,t,i){this.query=e,this.U_=t,this.W_=!1,this.G_=null,this.onlineState="Unknown",this.options=i||{}}K_(e){if(!this.options.includeMetadataChanges){const i=[];for(const r of e.docChanges)3!==r.type&&i.push(r);e=new Nh(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.W_?this.z_(e)&&(this.U_.next(e),t=!0):this.j_(e,this.onlineState)&&(this.H_(e),t=!0),this.G_=e,t}onError(e){this.U_.error(e)}Q_(e){this.onlineState=e;let t=!1;return this.G_&&!this.W_&&this.j_(this.G_,e)&&(this.H_(this.G_),t=!0),t}j_(e,t){return!e.fromCache||(!this.options.J_||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}z_(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.G_&&this.G_.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}H_(e){e=Nh.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.W_=!0,this.U_.next(e)}}class Soe{constructor(e,t){this.Y_=e,this.byteLength=t}Z_(){return"metadata"in this.Y_}}class az{constructor(e){this.serializer=e}hs(e){return Fs(this.serializer,e)}Ps(e){return e.metadata.exists?rj(this.serializer,e.document,!1):Rn.newNoDocument(this.hs(e.metadata.name),this.Is(e.metadata.readTime))}Is(e){return ci(e)}}class Moe{constructor(e,t,i){this.X_=e,this.localStore=t,this.serializer=i,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=lz(e)}ea(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.Y_.namedQuery)this.queries.push(e.Y_.namedQuery);else if(e.Y_.documentMetadata){this.documents.push({metadata:e.Y_.documentMetadata}),e.Y_.documentMetadata.exists||++t;const i=Vt.fromString(e.Y_.documentMetadata.name);this.collectionGroups.add(i.get(i.length-2))}else e.Y_.document&&(this.documents[this.documents.length-1].document=e.Y_.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}ta(e){const t=new Map,i=new az(this.serializer);for(const r of e)if(r.metadata.queries){const o=i.hs(r.metadata.name);for(const s of r.metadata.queries){const a=(t.get(s)||ct()).add(o);t.set(s,a)}}return t}complete(){var e=this;return(0,Y.Z)(function*(){const t=yield function roe(n,e,t,i){return PD.apply(this,arguments)}(e.localStore,new az(e.serializer),e.documents,e.X_.id),i=e.ta(e.documents);for(const r of e.queries)yield ooe(e.localStore,r,i.get(r.name));return e.progress.taskState="Success",{progress:e.progress,na:e.collectionGroups,ra:t}})()}}function lz(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class cz{constructor(e){this.key=e}}class uz{constructor(e){this.key=e}}class dz{constructor(e,t){this.query=e,this.ia=t,this.sa=null,this.hasCachedResults=!1,this.current=!1,this.oa=ct(),this.mutatedKeys=ct(),this._a=TU(e),this.aa=new Oh(this._a)}get ua(){return this.ia}ca(e,t){const i=t?t.la:new sz,r=t?t.aa:this.aa;let o=t?t.mutatedKeys:this.mutatedKeys,s=r,a=!1;const l="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,c="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((h,p)=>{const g=r.get(h),y=$m(this.query,p)?p:null,w=!!g&&this.mutatedKeys.has(g.key),x=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations);let S=!1;g&&y?g.data.isEqual(y.data)?w!==x&&(i.track({type:3,doc:y}),S=!0):this.ha(g,y)||(i.track({type:2,doc:y}),S=!0,(l&&this._a(y,l)>0||c&&this._a(y,c)<0)&&(a=!0)):!g&&y?(i.track({type:0,doc:y}),S=!0):g&&!y&&(i.track({type:1,doc:g}),S=!0,(l||c)&&(a=!0)),S&&(y?(s=s.add(y),o=x?o.add(h):o.delete(h)):(s=s.delete(h),o=o.delete(h)))}),null!==this.query.limit)for(;s.size>this.query.limit;){const h="F"===this.query.limitType?s.last():s.first();s=s.delete(h.key),o=o.delete(h.key),i.track({type:1,doc:h})}return{aa:s,la:i,Zi:a,mutatedKeys:o}}ha(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i){const r=this.aa;this.aa=e.aa,this.mutatedKeys=e.mutatedKeys;const o=e.la.L_();o.sort((c,h)=>function(g,y){const w=x=>{switch(x){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return xe()}};return w(g)-w(y)}(c.type,h.type)||this._a(c.doc,h.doc)),this.Pa(i);const s=t?this.Ia():[],a=0===this.oa.size&&this.current?1:0,l=a!==this.sa;return this.sa=a,0!==o.length||l?{snapshot:new Nh(this.query,e.aa,r,o,e.mutatedKeys,0===a,l,!1,!!i&&i.resumeToken.approximateByteSize()>0),Ta:s}:{Ta:s}}Q_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({aa:this.aa,la:new sz,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{Ta:[]}}Ea(e){return!this.ia.has(e)&&!!this.aa.has(e)&&!this.aa.get(e).hasLocalMutations}Pa(e){e&&(e.addedDocuments.forEach(t=>this.ia=this.ia.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.ia=this.ia.delete(t)),this.current=e.current)}Ia(){if(!this.current)return[];const e=this.oa;this.oa=ct(),this.aa.forEach(i=>{this.Ea(i.key)&&(this.oa=this.oa.add(i.key))});const t=[];return e.forEach(i=>{this.oa.has(i)||t.push(new uz(i))}),this.oa.forEach(i=>{e.has(i)||t.push(new cz(i))}),t}da(e){this.ia=e.ls,this.oa=ct();const t=this.ca(e.documents);return this.applyChanges(t,!0)}Aa(){return Nh.fromInitialDocuments(this.query,this.aa,this.mutatedKeys,0===this.sa,this.hasCachedResults)}}class Roe{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class Poe{constructor(e){this.key=e,this.Ra=!1}}class koe{constructor(e,t,i,r,o,s){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=r,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Va={},this.ma=new ba(a=>xU(a),Hm),this.fa=new Map,this.ga=new Set,this.pa=new yn(ge.comparator),this.ya=new Map,this.wa=new xD,this.Sa={},this.ba=new Map,this.Da=Qc.Nn(),this.onlineState="Unknown",this.Ca=void 0}get isPrimaryClient(){return!0===this.Ca}}function Ooe(n,e){return dA.apply(this,arguments)}function dA(){return dA=(0,Y.Z)(function*(n,e){const t=OA(n);let i,r;const o=t.ma.get(e);if(o)i=o.targetId,t.sharedClientState.addLocalQueryTarget(i),r=o.view.Aa();else{const s=yield Ah(t.localStore,Lr(e)),a=t.sharedClientState.addLocalQueryTarget(s.targetId);i=s.targetId,r=yield hA(t,e,i,"current"===a,s.resumeToken),t.isPrimaryClient&&p0(t.remoteStore,s)}return r}),dA.apply(this,arguments)}function hA(n,e,t,i,r){return fA.apply(this,arguments)}function fA(){return fA=(0,Y.Z)(function*(n,e,t,i,r){n.va=(p,g,y)=>{return(w=(0,Y.Z)(function*(S,L,R,z){let Q=L.view.ca(R);Q.Zi&&(Q=yield c0(S.localStore,L.query,!1).then(({documents:Je})=>L.view.ca(Je,Q)));const ue=z&&z.targetChanges.get(L.targetId),Pe=L.view.applyChanges(Q,S.isPrimaryClient,ue);return IA(S,L.targetId,Pe.Ta),Pe.snapshot}),function x(S,L,R,z){return w.apply(this,arguments)})(n,p,g,y);var w};const o=yield c0(n.localStore,e,!0),s=new dz(e,o.ls),a=s.ca(o.documents),l=Qm.createSynthesizedTargetChangeForCurrentChange(t,i&&"Offline"!==n.onlineState,r),c=s.applyChanges(a,n.isPrimaryClient,l);IA(n,t,c.Ta);const h=new Roe(e,t,s);return n.ma.set(e,h),n.fa.has(t)?n.fa.get(t).push(e):n.fa.set(t,[e]),c.snapshot}),fA.apply(this,arguments)}function Noe(n,e){return pA.apply(this,arguments)}function pA(){return pA=(0,Y.Z)(function*(n,e){const t=me(n),i=t.ma.get(e),r=t.fa.get(i.targetId);if(r.length>1)return t.fa.set(i.targetId,r.filter(o=>!Hm(o,e))),void t.ma.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(i.targetId),t.sharedClientState.isActiveQueryTarget(i.targetId)||(yield Sh(t.localStore,i.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(i.targetId),ug(t.remoteStore,i.targetId),Fh(t,i.targetId)}).catch(vl))):(Fh(t,i.targetId),yield Sh(t.localStore,i.targetId,!0))}),pA.apply(this,arguments)}function mA(){return mA=(0,Y.Z)(function*(n,e,t){const i=NA(n);try{const r=yield function(s,a){const l=me(s),c=Nn.now(),h=a.reduce((y,w)=>y.add(w.key),ct());let p,g;return l.persistence.runTransaction("Locally write mutations","readwrite",y=>{let w=Kr(),x=ct();return l.ss.getEntries(y,h).next(S=>{w=S,w.forEach((L,R)=>{R.isValidDocument()||(x=x.add(L))})}).next(()=>l.localDocuments.getOverlayedDocuments(y,w)).next(S=>{p=S;const L=[];for(const R of a){const z=dre(R,p.get(R.key).overlayedDocument);null!=z&&L.push(new Ea(R.key,z,cU(z.value.mapValue),Fn.exists(!0)))}return l.mutationQueue.addMutationBatch(y,c,L,a)}).next(S=>{g=S;const L=S.applyToLocalDocumentSet(p,x);return l.documentOverlayCache.saveOverlays(y,S.batchId,L)})}).then(()=>({batchId:g.batchId,changes:AU(p)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(s,a,l){let c=s.Sa[s.currentUser.toKey()];c||(c=new yn(et)),c=c.insert(a,l),s.Sa[s.currentUser.toKey()]=c}(i,r.batchId,t),yield Ia(i,r.changes),yield Rh(i.remoteStore)}catch(r){const o=kh(r,"Failed to persist write");t.reject(o)}}),mA.apply(this,arguments)}function hz(n,e){return gA.apply(this,arguments)}function gA(){return gA=(0,Y.Z)(function*(n,e){const t=me(n);try{const i=yield function noe(n,e){const t=me(n),i=e.snapshotVersion;let r=t.ts;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=t.ss.newChangeBuffer({trackRemovals:!0});r=t.ts;const a=[];e.targetChanges.forEach((h,p)=>{const g=r.get(p);if(!g)return;a.push(t.qr.removeMatchingKeys(o,h.removedDocuments,p).next(()=>t.qr.addMatchingKeys(o,h.addedDocuments,p)));let y=g.withSequenceNumber(o.currentSequenceNumber);var x,S,L;null!==e.targetMismatches.get(p)?y=y.withResumeToken(Ci.EMPTY_BYTE_STRING,Oe.min()).withLastLimboFreeSnapshotVersion(Oe.min()):h.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(h.resumeToken,i)),r=r.insert(p,y),S=y,L=h,(0===(x=g).resumeToken.approximateByteSize()||S.snapshotVersion.toMicroseconds()-x.snapshotVersion.toMicroseconds()>=3e8||L.addedDocuments.size+L.modifiedDocuments.size+L.removedDocuments.size>0)&&a.push(t.qr.updateTargetData(o,y))});let l=Kr(),c=ct();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(o,h))}),a.push($j(o,s,e.documentUpdates).next(h=>{l=h.us,c=h.cs})),!i.isEqual(Oe.min())){const h=t.qr.getLastRemoteSnapshotVersion(o).next(p=>t.qr.setTargetsMetadata(o,o.currentSequenceNumber,i));a.push(h)}return B.waitFor(a).next(()=>s.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,l,c)).next(()=>l)}).then(o=>(t.ts=r,o))}(t.localStore,e);e.targetChanges.forEach((r,o)=>{const s=t.ya.get(o);s&&(ke(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?s.Ra=!0:r.modifiedDocuments.size>0?ke(s.Ra):r.removedDocuments.size>0&&(ke(s.Ra),s.Ra=!1))}),yield Ia(t,i,e)}catch(i){yield vl(i)}}),gA.apply(this,arguments)}function fz(n,e,t){const i=me(n);if(i.isPrimaryClient&&0===t||!i.isPrimaryClient&&1===t){const r=[];i.ma.forEach((o,s)=>{const a=s.view.Q_(e);a.snapshot&&r.push(a.snapshot)}),function(s,a){const l=me(s);l.onlineState=a;let c=!1;l.queries.forEach((h,p)=>{for(const g of p.listeners)g.Q_(a)&&(c=!0)}),c&&cA(l)}(i.eventManager,e),r.length&&i.Va.a_(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}function Loe(n,e,t){return _A.apply(this,arguments)}function _A(){return _A=(0,Y.Z)(function*(n,e,t){const i=me(n);i.sharedClientState.updateQueryState(e,"rejected",t);const r=i.ya.get(e),o=r&&r.key;if(o){let s=new yn(ge.comparator);s=s.insert(o,Rn.newNoDocument(o,Oe.min()));const a=ct().add(o),l=new Ym(Oe.min(),new Map,new yn(et),s,a);yield hz(i,l),i.pa=i.pa.remove(o),i.ya.delete(e),xA(i)}else yield Sh(i.localStore,e,!1).then(()=>Fh(i,e,t)).catch(vl)}),_A.apply(this,arguments)}function Voe(n,e){return yA.apply(this,arguments)}function yA(){return yA=(0,Y.Z)(function*(n,e){const t=me(n),i=e.batch.batchId;try{const r=yield function toe(n,e){const t=me(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=e.batch.keys(),o=t.ss.newChangeBuffer({trackRemovals:!0});return function(a,l,c,h){const p=c.batch,g=p.keys();let y=B.resolve();return g.forEach(w=>{y=y.next(()=>h.getEntry(l,w)).next(x=>{const S=c.docVersions.get(w);ke(null!==S),x.version.compareTo(S)<0&&(p.applyToRemoteDocument(x,c),x.isValidDocument()&&(x.setReadTime(c.commitVersion),h.addEntry(x)))})}),y.next(()=>a.mutationQueue.removeMutationBatch(l,p))}(t,i,e,o).next(()=>o.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(a){let l=ct();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>t.localDocuments.getDocuments(i,r))})}(t.localStore,e);wA(t,i,null),EA(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),yield Ia(t,r)}catch(r){yield vl(r)}}),yA.apply(this,arguments)}function Boe(n,e,t){return vA.apply(this,arguments)}function vA(){return vA=(0,Y.Z)(function*(n,e,t){const i=me(n);try{const r=yield function(s,a){const l=me(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let h;return l.mutationQueue.lookupMutationBatch(c,a).next(p=>(ke(null!==p),h=p.keys(),l.mutationQueue.removeMutationBatch(c,p))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,h,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,h)).next(()=>l.localDocuments.getDocuments(c,h))})}(i.localStore,e);wA(i,e,t),EA(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),yield Ia(i,r)}catch(r){yield vl(r)}}),vA.apply(this,arguments)}function bA(){return bA=(0,Y.Z)(function*(n,e){const t=me(n);Pl(t.remoteStore)||se("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const i=yield function(s){const a=me(s);return a.persistence.runTransaction("Get highest unacknowledged batch id","readonly",l=>a.mutationQueue.getHighestUnacknowledgedBatchId(l))}(t.localStore);if(-1===i)return void e.resolve();const r=t.ba.get(i)||[];r.push(e),t.ba.set(i,r)}catch(i){const r=kh(i,"Initialization of waitForPendingWrites() operation failed");e.reject(r)}}),bA.apply(this,arguments)}function EA(n,e){(n.ba.get(e)||[]).forEach(t=>{t.resolve()}),n.ba.delete(e)}function wA(n,e,t){const i=me(n);let r=i.Sa[i.currentUser.toKey()];if(r){const o=r.get(e);o&&(t?o.reject(t):o.resolve(),r=r.remove(e)),i.Sa[i.currentUser.toKey()]=r}}function Fh(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.fa.get(e))n.ma.delete(i),t&&n.Va.Fa(i,t);n.fa.delete(e),n.isPrimaryClient&&n.wa.Rr(e).forEach(i=>{n.wa.containsKey(i)||pz(n,i)})}function pz(n,e){n.ga.delete(e.path.canonicalString());const t=n.pa.get(e);null!==t&&(ug(n.remoteStore,t),n.pa=n.pa.remove(e),n.ya.delete(t),xA(n))}function IA(n,e,t){for(const i of t)i instanceof cz?(n.wa.addReference(i.key,e),joe(n,i)):i instanceof uz?(se("SyncEngine","Document no longer in limbo: "+i.key),n.wa.removeReference(i.key,e),n.wa.containsKey(i.key)||pz(n,i.key)):xe()}function joe(n,e){const t=e.key,i=t.path.canonicalString();n.pa.get(t)||n.ga.has(i)||(se("SyncEngine","New document in limbo: "+t),n.ga.add(i),xA(n))}function xA(n){for(;n.ga.size>0&&n.pa.size<n.maxConcurrentLimboResolutions;){const e=n.ga.values().next().value;n.ga.delete(e);const t=new ge(Vt.fromString(e)),i=n.Da.next();n.ya.set(i,new Poe(t)),n.pa=n.pa.insert(t,i),p0(n.remoteStore,new wa(Lr(mh(t.path)),i,"TargetPurposeLimboResolution",fo._e))}}function Ia(n,e,t){return CA.apply(this,arguments)}function CA(){return CA=(0,Y.Z)(function*(n,e,t){const i=me(n),r=[],o=[],s=[];var a;i.ma.isEmpty()||(i.ma.forEach((a,l)=>{s.push(i.va(l,e,t).then(c=>{if((c||t)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(l.targetId,c?.fromCache?"not-current":"current"),c){r.push(c);const h=SD.Qi(l.targetId,c);o.push(h)}}))}),yield Promise.all(s),i.Va.a_(r),yield(a=(0,Y.Z)(function*(c,h){const p=me(c);try{yield p.persistence.runTransaction("notifyLocalViewChanges","readwrite",g=>B.forEach(h,y=>B.forEach(y.ki,w=>p.persistence.referenceDelegate.addReference(g,y.targetId,w)).next(()=>B.forEach(y.qi,w=>p.persistence.referenceDelegate.removeReference(g,y.targetId,w)))))}catch(g){if(!bl(g))throw g;se("LocalStore","Failed to update sequence numbers: "+g)}for(const g of h){const y=g.targetId;if(!g.fromCache){const w=p.ts.get(y),S=w.withLastLimboFreeSnapshotVersion(w.snapshotVersion);p.ts=p.ts.insert(y,S)}}}),function l(c,h){return a.apply(this,arguments)})(i.localStore,o))}),CA.apply(this,arguments)}function zoe(n,e){return TA.apply(this,arguments)}function TA(){return TA=(0,Y.Z)(function*(n,e){const t=me(n);if(!t.currentUser.isEqual(e)){se("SyncEngine","User change. New user:",e.toKey());const i=yield zj(t.localStore,e);t.currentUser=e,(o=t).ba.forEach(a=>{a.forEach(l=>{l.reject(new ne(W.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),o.ba.clear(),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),yield Ia(t,i._s)}var o}),TA.apply(this,arguments)}function Hoe(n,e){const t=me(n),i=t.ya.get(e);if(i&&i.Ra)return ct().add(i.key);{let r=ct();const o=t.fa.get(e);if(!o)return r;for(const s of o){const a=t.ma.get(s);r=r.unionWith(a.view.ua)}return r}}function $oe(n,e){return DA.apply(this,arguments)}function DA(){return DA=(0,Y.Z)(function*(n,e){const t=me(n),i=yield c0(t.localStore,e.query,!0),r=e.view.da(i);return t.isPrimaryClient&&IA(t,e.targetId,r.Ta),r}),DA.apply(this,arguments)}function Woe(n,e){return AA.apply(this,arguments)}function AA(){return AA=(0,Y.Z)(function*(n,e){const t=me(n);return qj(t.localStore,e).then(i=>Ia(t,i))}),AA.apply(this,arguments)}function qoe(n,e,t,i){return SA.apply(this,arguments)}function SA(){return SA=(0,Y.Z)(function*(n,e,t,i){const r=me(n),o=yield function(a,l){const c=me(a),h=me(c.mutationQueue);return c.persistence.runTransaction("Lookup mutation documents","readonly",p=>h.Cn(p,l).next(g=>g?c.localDocuments.getDocuments(p,g):B.resolve(null)))}(r.localStore,e);var l;null!==o?("pending"===t?yield Rh(r.remoteStore):"acknowledged"===t||"rejected"===t?(wA(r,e,i||null),EA(r,e),l=e,me(me(r.localStore).mutationQueue).Fn(l)):xe(),yield Ia(r,o)):se("SyncEngine","Cannot apply mutation batch with id: "+e)}),SA.apply(this,arguments)}function MA(){return MA=(0,Y.Z)(function*(n,e){const t=me(n);if(OA(t),NA(t),!0===e&&!0!==t.Ca){const i=t.sharedClientState.getAllActiveQueryTargets(),r=yield mz(t,i.toArray());t.Ca=!0,yield nA(t.remoteStore,!0);for(const o of r)p0(t.remoteStore,o)}else if(!1===e&&!1!==t.Ca){const i=[];let r=Promise.resolve();t.fa.forEach((o,s)=>{t.sharedClientState.isLocalQueryTarget(s)?i.push(s):r=r.then(()=>(Fh(t,s),Sh(t.localStore,s,!0))),ug(t.remoteStore,s)}),yield r,yield mz(t,i),function(s){const a=me(s);a.ya.forEach((l,c)=>{ug(a.remoteStore,c)}),a.wa.Vr(),a.ya=new Map,a.pa=new yn(ge.comparator)}(t),t.Ca=!1,yield nA(t.remoteStore,!1)}}),MA.apply(this,arguments)}function mz(n,e,t){return RA.apply(this,arguments)}function RA(){return RA=(0,Y.Z)(function*(n,e,t){const i=me(n),r=[],o=[];for(const s of e){let a;const l=i.fa.get(s);if(l&&0!==l.length){a=yield Ah(i.localStore,Lr(l[0]));for(const c of l){const h=i.ma.get(c),p=yield $oe(i,h);p.snapshot&&o.push(p.snapshot)}}else{const c=yield Wj(i.localStore,s);a=yield Ah(i.localStore,c),yield hA(i,gz(c),s,!1,a.resumeToken)}r.push(a)}return i.Va.a_(o),r}),RA.apply(this,arguments)}function gz(n){return EU(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function Zoe(n){return t=me(n).localStore,me(me(t).persistence).Bi();var t}function Koe(n,e,t,i){return PA.apply(this,arguments)}function PA(){return PA=(0,Y.Z)(function*(n,e,t,i){const r=me(n);if(r.Ca)return void se("SyncEngine","Ignoring unexpected query state notification.");const o=r.fa.get(e);if(o&&o.length>0)switch(t){case"current":case"not-current":{const s=yield qj(r.localStore,CU(o[0])),a=Ym.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,Ci.EMPTY_BYTE_STRING);yield Ia(r,s,a);break}case"rejected":yield Sh(r.localStore,e,!0),Fh(r,e,i);break;default:xe()}}),PA.apply(this,arguments)}function Yoe(n,e,t){return kA.apply(this,arguments)}function kA(){return kA=(0,Y.Z)(function*(n,e,t){const i=OA(n);if(i.Ca){for(const r of e){if(i.fa.has(r)){se("SyncEngine","Adding an already active target "+r);continue}const o=yield Wj(i.localStore,r),s=yield Ah(i.localStore,o);yield hA(i,gz(o),s.targetId,!1,s.resumeToken),p0(i.remoteStore,s)}for(const r of t)i.fa.has(r)&&(yield Sh(i.localStore,r,!1).then(()=>{ug(i.remoteStore,r),Fh(i,r)}).catch(vl))}}),kA.apply(this,arguments)}function OA(n){const e=me(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=hz.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Hoe.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Loe.bind(null,e),e.Va.a_=Doe.bind(null,e.eventManager),e.Va.Fa=Aoe.bind(null,e.eventManager),e}function NA(n){const e=me(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Voe.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Boe.bind(null,e),e}class dg{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,Y.Z)(function*(){t.serializer=lg(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return jj(this.persistence,new Uj,e.initialUser,this.serializer)}createPersistence(e){return new CD(s0.jr,this.serializer)}createSharedClientState(e){return new Yj}terminate(){var e=this;return(0,Y.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class FA extends dg{constructor(e,t,i){super(),this.xa=e,this.cacheSizeBytes=t,this.forceOwnership=i,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,i=this;return(0,Y.Z)(function*(){yield t().call(i,e),yield i.xa.initialize(i,e),yield NA(i.xa.syncEngine),yield Rh(i.xa.remoteStore),yield i.persistence.mi(()=>(i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(),i.indexBackfillerScheduler&&!i.indexBackfillerScheduler.started&&i.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return jj(this.persistence,new Uj,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){return new Rj(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const i=new Iie(t,this.persistence);return new wie(e.asyncQueue,i)}createPersistence(e){const t=AD(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),i=void 0!==this.cacheSizeBytes?fr.withCacheSize(this.cacheSizeBytes):fr.DEFAULT;return new DD(this.synchronizeTabs,t,e.clientId,i,e.asyncQueue,Xj(),f0(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new Yj}}class _z extends FA{constructor(e,t){super(e,t,!1),this.xa=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,i=this;return(0,Y.Z)(function*(){yield t().call(i,e);const r=i.xa.syncEngine;i.sharedClientState instanceof LD&&(i.sharedClientState.syncEngine={Ys:qoe.bind(null,r),Zs:Koe.bind(null,r),Xs:Yoe.bind(null,r),Bi:Zoe.bind(null,r),Js:Woe.bind(null,r)},yield i.sharedClientState.start()),yield i.persistence.mi(function(){var o=(0,Y.Z)(function*(s){yield function Goe(n,e){return MA.apply(this,arguments)}(i.xa.syncEngine,s),i.gcScheduler&&(s&&!i.gcScheduler.started?i.gcScheduler.start():s||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(s&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():s||i.indexBackfillerScheduler.stop())});return function(s){return o.apply(this,arguments)}}())})()}createSharedClientState(e){const t=Xj();if(!LD.D(t))throw new ne(W.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const i=AD(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new LD(t,e.asyncQueue,i,e.clientId,e.initialUser)}}class Lh{initialize(e,t){var i=this;return(0,Y.Z)(function*(){i.localStore||(i.localStore=e.localStore,i.sharedClientState=e.sharedClientState,i.datastore=i.createDatastore(t),i.remoteStore=i.createRemoteStore(t),i.eventManager=i.createEventManager(t),i.syncEngine=i.createSyncEngine(t,!e.synchronizeTabs),i.sharedClientState.onlineStateHandler=r=>fz(i.syncEngine,r,1),i.remoteStore.remoteSyncer.handleCredentialChange=zoe.bind(null,i.syncEngine),yield nA(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Toe}createDatastore(e){const t=lg(e.databaseInfo.databaseId),i=new coe(e.databaseInfo);return new hoe(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return i=this.localStore,r=this.datastore,o=e.asyncQueue,s=t=>fz(this.syncEngine,t,0),a=Qj.D()?new Qj:new soe,new moe(i,r,o,s,a);var i,r,o,s,a}createSyncEngine(e,t){return function(r,o,s,a,l,c,h){const p=new koe(r,o,s,a,l,c);return h&&(p.Ca=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,Y.Z)(function*(i){const r=me(i);se("RemoteStore","RemoteStore shutting down."),r.C_.add(5),yield Mh(r),r.F_.shutdown(),r.M_.set("Unknown")}),function t(i){return e.apply(this,arguments)})(this.remoteStore);var e}}function yz(n,e=10240){let t=0;return{read:()=>(0,Y.Z)(function*(){if(t<n.byteLength){const i={value:n.slice(t,t+e),done:!1};return t+=e,i}return{done:!0}})(),cancel:()=>(0,Y.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class g0{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Oa(this.observer.next,e)}error(e){this.observer.error?this.Oa(this.observer.error,e):li("Uncaught Error in snapshot listener:",e.toString())}Na(){this.muted=!0}Oa(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class Joe{constructor(e,t){this.Ba=e,this.serializer=t,this.metadata=new xi,this.buffer=new Uint8Array,this.La=new TextDecoder("utf-8"),this.ka().then(i=>{i&&i.Z_()?this.metadata.resolve(i.Y_.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(i?.Y_)}`))},i=>this.metadata.reject(i))}close(){return this.Ba.cancel()}getMetadata(){var e=this;return(0,Y.Z)(function*(){return e.metadata.promise})()}Ma(){var e=this;return(0,Y.Z)(function*(){return yield e.getMetadata(),e.ka()})()}ka(){var e=this;return(0,Y.Z)(function*(){const t=yield e.qa();if(null===t)return null;const i=e.La.decode(t),r=Number(i);isNaN(r)&&e.Qa(`length string (${i}) is not valid number`);const o=yield e.Ka(r);return new Soe(JSON.parse(o),t.length+r)})()}$a(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}qa(){var e=this;return(0,Y.Z)(function*(){for(;e.$a()<0&&!(yield e.Ua()););if(0===e.buffer.length)return null;const t=e.$a();t<0&&e.Qa("Reached the end of bundle when a length string is expected.");const i=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),i})()}Ka(e){var t=this;return(0,Y.Z)(function*(){for(;t.buffer.length<e;)(yield t.Ua())&&t.Qa("Reached the end of bundle when more is expected.");const i=t.La.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),i})()}Qa(e){throw this.Ba.cancel(),new Error(`Invalid bundle format: ${e}`)}Ua(){var e=this;return(0,Y.Z)(function*(){const t=yield e.Ba.read();if(!t.done){const i=new Uint8Array(e.buffer.length+t.value.length);i.set(e.buffer),i.set(t.value,e.buffer.length),e.buffer=i}return t.done})()}}class ese{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,Y.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new ne(W.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const i=yield(r=(0,Y.Z)(function*(s,a){const l=me(s),c=Jm(l.serializer)+"/documents",h={documents:a.map(w=>Xm(l.serializer,w))},p=yield l.Co("BatchGetDocuments",c,h,a.length),g=new Map;p.forEach(w=>{const x=function Ere(n,e){return"found"in e?function(i,r){ke(!!r.found);const o=Fs(i,r.found.name),s=ci(r.found.updateTime),a=r.found.createTime?ci(r.found.createTime):Oe.min(),l=new er({mapValue:{fields:r.found.fields}});return Rn.newFoundDocument(o,s,a,l)}(n,e):"missing"in e?function(i,r){ke(!!r.missing),ke(!!r.readTime);const o=Fs(i,r.missing),s=ci(r.readTime);return Rn.newNoDocument(o,s)}(n,e):xe()}(l.serializer,w);g.set(x.key.toString(),x)});const y=[];return a.forEach(w=>{const x=g.get(w.toString());ke(!!x),y.push(x)}),y}),function o(s,a){return r.apply(this,arguments)})(t.datastore,e);var r;return i.forEach(r=>t.recordVersion(r)),i})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(i){this.lastWriteError=i}this.writtenDocs.add(e.toString())}delete(e){this.write(new Eh(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,Y.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var i;e.mutations.forEach(i=>{t.delete(i.key.toString())}),t.forEach((i,r)=>{const o=ge.fromPath(r);e.mutations.push(new aD(o,e.precondition(o)))}),yield(i=(0,Y.Z)(function*(o,s){const a=me(o),l=Jm(a.serializer)+"/documents",c={writes:s.map(h=>eg(a.serializer,h))};yield a.wo("Commit",l,c)}),function r(o,s){return i.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw xe();t=Oe.min()}const i=this.readVersions.get(e.key.toString());if(i){if(!t.isEqual(i))throw new ne(W.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Oe.min())?Fn.exists(!1):Fn.updateTime(t):Fn.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Oe.min()))throw new ne(W.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Fn.updateTime(t)}return Fn.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class tse{constructor(e,t,i,r,o){this.asyncQueue=e,this.datastore=t,this.options=i,this.updateFunction=r,this.deferred=o,this.Wa=i.maxAttempts,this.zo=new BD(this.asyncQueue,"transaction_retry")}run(){this.Wa-=1,this.Ga()}Ga(){var e=this;this.zo.ko((0,Y.Z)(function*(){const t=new ese(e.datastore),i=e.za(t);i&&i.then(r=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(r)}).catch(o=>{e.ja(o)}))}).catch(r=>{e.ja(r)})}))}za(e){try{const t=this.updateFunction(e);return!Nm(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}ja(e){this.Wa>0&&this.Ha(e)?(this.Wa-=1,this.asyncQueue.enqueueAndForget(()=>(this.Ga(),Promise.resolve()))):this.deferred.reject(e)}Ha(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!HU(t)}return!1}}class nse{constructor(e,t,i,r){var o=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=r,this.user=Ni.UNAUTHENTICATED,this.clientId=BB.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var s=(0,Y.Z)(function*(a){se("FirestoreClient","Received user=",a.uid),yield o.authCredentialListener(a),o.user=a});return function(a){return s.apply(this,arguments)}}()),this.appCheckCredentials.start(i,s=>(se("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}getConfiguration(){var e=this;return(0,Y.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new ne(W.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new xi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Y.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(i){const r=kh(i,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}function _0(n,e){return LA.apply(this,arguments)}function LA(){return LA=(0,Y.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),se("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(function(){var r=(0,Y.Z)(function*(o){i.isEqual(o)||(yield zj(e.localStore,o),i=o)});return function(o){return r.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}),LA.apply(this,arguments)}function VA(n,e){return BA.apply(this,arguments)}function BA(){return BA=(0,Y.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield UA(n);se("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield e.initialize(t,i),n.setCredentialChangeListener(r=>oz(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,o)=>oz(e.remoteStore,o)),n._onlineComponents=e}),BA.apply(this,arguments)}function vz(n){return"FirebaseError"===n.name?n.code===W.FAILED_PRECONDITION||n.code===W.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}function UA(n){return jA.apply(this,arguments)}function jA(){return jA=(0,Y.Z)(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){se("FirestoreClient","Using user provided OfflineComponentProvider");try{yield _0(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!vz(t))throw t;Gr("Error using user provided cache. Falling back to memory cache: "+t),yield _0(n,new dg)}}else se("FirestoreClient","Using default OfflineComponentProvider"),yield _0(n,new dg);return n._offlineComponents}),jA.apply(this,arguments)}function y0(n){return zA.apply(this,arguments)}function zA(){return zA=(0,Y.Z)(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(se("FirestoreClient","Using user provided OnlineComponentProvider"),yield VA(n,n._uninitializedComponentsProvider._online)):(se("FirestoreClient","Using default OnlineComponentProvider"),yield VA(n,new Lh))),n._onlineComponents}),zA.apply(this,arguments)}function bz(n){return UA(n).then(e=>e.persistence)}function Vh(n){return UA(n).then(e=>e.localStore)}function Ez(n){return y0(n).then(e=>e.remoteStore)}function HA(n){return y0(n).then(e=>e.syncEngine)}function Bh(n){return $A.apply(this,arguments)}function $A(){return $A=(0,Y.Z)(function*(n){const e=yield y0(n),t=e.eventManager;return t.onListen=Ooe.bind(null,e.syncEngine),t.onUnlisten=Noe.bind(null,e.syncEngine),t}),$A.apply(this,arguments)}function Iz(n,e,t={}){const i=new xi;return n.asyncQueue.enqueueAndForget((0,Y.Z)(function*(){return function(o,s,a,l,c){const h=new g0({next:g=>{s.enqueueAndForget(()=>aA(o,p));const y=g.docs.has(a);!y&&g.fromCache?c.reject(new ne(W.UNAVAILABLE,"Failed to get document because the client is offline.")):y&&g.fromCache&&l&&"server"===l.source?c.reject(new ne(W.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(g)},error:g=>c.reject(g)}),p=new uA(mh(a.path),h,{includeMetadataChanges:!0,J_:!0});return oA(o,p)}(yield Bh(n),n.asyncQueue,e,t,i)})),i.promise}function xz(n,e,t={}){const i=new xi;return n.asyncQueue.enqueueAndForget((0,Y.Z)(function*(){return function(o,s,a,l,c){const h=new g0({next:g=>{s.enqueueAndForget(()=>aA(o,p)),g.fromCache&&"server"===l.source?c.reject(new ne(W.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(g)},error:g=>c.reject(g)}),p=new uA(a,h,{includeMetadataChanges:!0,J_:!0});return oA(o,p)}(yield Bh(n),n.asyncQueue,e,t,i)})),i.promise}function Cz(n){const e={};return void 0!==n.timeoutSeconds&&(e.timeoutSeconds=n.timeoutSeconds),e}const Tz=new Map;function WA(n,e,t){if(!t)throw new ne(W.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function Dz(n,e,t,i){if(!0===e&&!0===i)throw new ne(W.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function Az(n){if(!ge.isDocumentKey(n))throw new ne(W.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Sz(n){if(ge.isDocumentKey(n))throw new ne(W.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function v0(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(i=n).constructor?i.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var i;return"function"==typeof n?"a function":xe()}function At(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new ne(W.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=v0(n);throw new ne(W.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function Mz(n,e){if(e<=0)throw new ne(W.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class Rz{constructor(e){var t,i;if(void 0===e.host){if(void 0!==e.ssl)throw new ne(W.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new ne(W.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Dz("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=Cz(null!==(i=e.experimentalLongPollingOptions)&&void 0!==i?i:{}),function(o){if(void 0!==o.timeoutSeconds){if(isNaN(o.timeoutSeconds))throw new ne(W.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new ne(W.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new ne(W.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class hg{constructor(e,t,i,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Rz({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new ne(W.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new ne(W.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Rz(e),void 0!==e.credentials&&(this._authCredentials=function(i){if(!i)return new uie;switch(i.type){case"firstParty":return new pie(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new ne(W.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const i=Tz.get(t);i&&(se("ComponentProvider","Removing Datastore"),Tz.delete(t),i.terminate())}(this),Promise.resolve()}}function Pz(n,e,t,i={}){var r;const o=(n=At(n,hg))._getSettings(),s=`${e}:${t}`;if("firestore.googleapis.com"!==o.host&&o.host!==s&&Gr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),i.mockUserToken){let a,l;if("string"==typeof i.mockUserToken)a=i.mockUserToken,l=Ni.MOCK_USER;else{a=(0,sn.Sg)(i.mockUserToken,null===(r=n._app)||void 0===r?void 0:r.options.projectId);const c=i.mockUserToken.sub||i.mockUserToken.user_id;if(!c)throw new ne(W.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Ni(c)}n._authCredentials=new die(new LB(a,l))}}class tr{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new tr(this.firestore,e,this._query)}}class Pn{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ls(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Pn(this.firestore,e,this._key)}}class Ls extends tr{constructor(e,t,i){super(e,t,mh(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Pn(this.firestore,null,new ge(e))}withConverter(e){return new Ls(this.firestore,e,this._path)}}function kz(n,e,...t){if(n=(0,sn.m9)(n),WA("collection","path",e),n instanceof hg){const i=Vt.fromString(e,...t);return Sz(i),new Ls(n,null,i)}{if(!(n instanceof Pn||n instanceof Ls))throw new ne(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Vt.fromString(e,...t));return Sz(i),new Ls(n.firestore,null,i)}}function b0(n,e,...t){if(n=(0,sn.m9)(n),1===arguments.length&&(e=BB.newId()),WA("doc","path",e),n instanceof hg){const i=Vt.fromString(e,...t);return Az(i),new Pn(n,null,new ge(i))}{if(!(n instanceof Pn||n instanceof Ls))throw new ne(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Vt.fromString(e,...t));return Az(i),new Pn(n.firestore,n instanceof Ls?n.converter:null,new ge(i))}}function Oz(n,e){return n=(0,sn.m9)(n),e=(0,sn.m9)(e),(n instanceof Pn||n instanceof Ls)&&(e instanceof Pn||e instanceof Ls)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function qA(n,e){return n=(0,sn.m9)(n),e=(0,sn.m9)(e),n instanceof tr&&e instanceof tr&&n.firestore===e.firestore&&Hm(n._query,e._query)&&n.converter===e.converter}class pse{constructor(){this.Ja=Promise.resolve(),this.Ya=[],this.Za=!1,this.Xa=[],this.eu=null,this.tu=!1,this.nu=!1,this.ru=[],this.zo=new BD(this,"async_queue_retry"),this.iu=()=>{const t=f0();t&&se("AsyncQueue","Visibility state changed to "+t.visibilityState),this.zo.Qo()};const e=f0();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.iu)}get isShuttingDown(){return this.Za}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.su(),this.ou(e)}enterRestrictedMode(e){if(!this.Za){this.Za=!0,this.nu=e||!1;const t=f0();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.iu)}}enqueue(e){if(this.su(),this.Za)return new Promise(()=>{});const t=new xi;return this.ou(()=>this.Za&&this.nu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ya.push(e),this._u()))}_u(){var e=this;return(0,Y.Z)(function*(){if(0!==e.Ya.length){try{yield e.Ya[0](),e.Ya.shift(),e.zo.reset()}catch(t){if(!bl(t))throw t;se("AsyncQueue","Operation failed with retryable error: "+t)}e.Ya.length>0&&e.zo.ko(()=>e._u())}})()}ou(e){const t=this.Ja.then(()=>(this.tu=!0,e().catch(i=>{throw this.eu=i,this.tu=!1,li("INTERNAL UNHANDLED ERROR: ",function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),a}(i)),i}).then(i=>(this.tu=!1,i))));return this.Ja=t,t}enqueueAfterDelay(e,t,i){this.su(),this.ru.indexOf(e)>-1&&(t=0);const r=rA.createAndSchedule(this,e,t,i,o=>this.au(o));return this.Xa.push(r),r}su(){this.eu&&xe()}verifyOperationInProgress(){}uu(){var e=this;return(0,Y.Z)(function*(){let t;do{t=e.Ja,yield t}while(t!==e.Ja)})()}cu(e){for(const t of this.Xa)if(t.timerId===e)return!0;return!1}lu(e){return this.uu().then(()=>{this.Xa.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.Xa)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.uu()})}hu(e){this.ru.push(e)}au(e){const t=this.Xa.indexOf(e);this.Xa.splice(t,1)}}function GA(n){return function(t,i){if("object"!=typeof t||null===t)return!1;const r=t;for(const o of["next","error","complete"])if(o in r&&"function"==typeof r[o])return!0;return!1}(n)}class mse{constructor(){this._progressObserver={},this._taskCompletionResolver=new xi,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,i){this._progressObserver={next:e,error:t,complete:i}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class vn extends hg{constructor(e,t,i,r){super(e,t,i,r),this.type="firestore",this._queue=new pse,this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||Nz(this),this._firestoreClient.terminate()}}function Yn(n){return n._firestoreClient||Nz(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function Nz(n){var e,t,i;const r=n._freezeSettings(),o=(l=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new $ie(n._databaseId,l,n._persistenceKey,(h=r).host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,Cz(h.experimentalLongPollingOptions),h.useFetchStreams));var l,h;n._firestoreClient=new nse(n._authCredentials,n._appCheckCredentials,n._queue,o),null!==(t=r.localCache)&&void 0!==t&&t._offlineComponentProvider&&null!==(i=r.localCache)&&void 0!==i&&i._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:r.localCache.kind,_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider})}function Fz(n,e,t){const i=new xi;return n.asyncQueue.enqueue((0,Y.Z)(function*(){try{yield _0(n,t),yield VA(n,e),i.resolve()}catch(r){const o=r;if(!vz(o))throw o;Gr("Error enabling indexeddb cache. Falling back to memory cache: "+o),i.reject(o)}})).then(()=>i.promise)}function Lz(n){if(n._initialized||n._terminated)throw new ne(W.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Vs{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Vs(Ci.fromBase64String(e))}catch(t){throw new ne(W.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Vs(Ci.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class xa{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new ne(W.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Mn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Jc{constructor(e){this._methodName=e}}class E0{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ne(W.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ne(W.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return et(this._lat,e._lat)||et(this._long,e._long)}}const Dse=/^__.*__$/;class Ase{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return null!==this.fieldMask?new Ea(e,this.data,this.fieldMask,t,this.fieldTransforms):new bh(e,this.data,t,this.fieldTransforms)}}class Vz{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new Ea(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Bz(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw xe()}}class w0{constructor(e,t,i,r,o,s){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=r,void 0===o&&this.Pu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Iu(){return this.settings.Iu}Tu(e){return new w0(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Eu(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Tu({path:i,du:!1});return r.Au(e),r}Ru(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Tu({path:i,du:!1});return r.Pu(),r}Vu(e){return this.Tu({path:void 0,du:!0})}mu(e){return C0(e,this.settings.methodName,this.settings.fu||!1,this.path,this.settings.gu)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Pu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Au(this.path.get(e))}Au(e){if(0===e.length)throw this.mu("Document fields must not be empty");if(Bz(this.Iu)&&Dse.test(e))throw this.mu('Document fields cannot begin and end with "__"')}}class Sse{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||lg(e)}pu(e,t,i,r=!1){return new w0({Iu:e,methodName:t,gu:i,path:Mn.emptyPath(),du:!1,fu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function eu(n){const e=n._freezeSettings(),t=lg(n._databaseId);return new Sse(n._databaseId,!!e.ignoreUndefinedProperties,t)}function I0(n,e,t,i,r,o={}){const s=n.pu(o.merge||o.mergeFields?2:0,e,t,r);QA("Data must be an object, but it was:",s,i);const a=zz(i,s);let l,c;if(o.merge)l=new Zr(s.fieldMask),c=s.fieldTransforms;else if(o.mergeFields){const h=[];for(const p of o.mergeFields){const g=mg(e,p,t);if(!s.contains(g))throw new ne(W.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);$z(h,g)||h.push(g)}l=new Zr(h),c=s.fieldTransforms.filter(p=>l.covers(p.field))}else l=null,c=s.fieldTransforms;return new Ase(new er(a),l,c)}class pg extends Jc{_toFieldTransform(e){if(2!==e.Iu)throw e.mu(1===e.Iu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof pg}}function Uz(n,e,t){return new w0({Iu:3,gu:e.settings.gu,methodName:n._methodName,du:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class ZA extends Jc{_toFieldTransform(e){return new Gm(e.path,new yh)}isEqual(e){return e instanceof ZA}}class Mse extends Jc{constructor(e,t){super(e),this.yu=t}_toFieldTransform(e){const t=Uz(this,e,!0),i=this.yu.map(o=>tu(o,t)),r=new $c(i);return new Gm(e.path,r)}isEqual(e){return this===e}}class Rse extends Jc{constructor(e,t){super(e),this.yu=t}_toFieldTransform(e){const t=Uz(this,e,!0),i=this.yu.map(o=>tu(o,t)),r=new Wc(i);return new Gm(e.path,r)}isEqual(e){return this===e}}class Pse extends Jc{constructor(e,t){super(e),this.wu=t}_toFieldTransform(e){const t=new vh(e.serializer,PU(e.serializer,this.wu));return new Gm(e.path,t)}isEqual(e){return this===e}}function KA(n,e,t,i){const r=n.pu(1,e,t);QA("Data must be an object, but it was:",r,i);const o=[],s=er.empty();El(i,(l,c)=>{const h=x0(e,l,t);c=(0,sn.m9)(c);const p=r.Ru(h);if(c instanceof pg)o.push(h);else{const g=tu(c,p);null!=g&&(o.push(h),s.set(h,g))}});const a=new Zr(o);return new Vz(s,a,r.fieldTransforms)}function YA(n,e,t,i,r,o){const s=n.pu(1,e,t),a=[mg(e,i,t)],l=[r];if(o.length%2!=0)throw new ne(W.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let g=0;g<o.length;g+=2)a.push(mg(e,o[g])),l.push(o[g+1]);const c=[],h=er.empty();for(let g=a.length-1;g>=0;--g)if(!$z(c,a[g])){const y=a[g];let w=l[g];w=(0,sn.m9)(w);const x=s.Ru(y);if(w instanceof pg)c.push(y);else{const S=tu(w,x);null!=S&&(c.push(y),h.set(y,S))}}const p=new Zr(c);return new Vz(h,p,s.fieldTransforms)}function jz(n,e,t,i=!1){return tu(t,n.pu(i?4:3,e))}function tu(n,e){if(Hz(n=(0,sn.m9)(n)))return QA("Unsupported field value:",e,n),zz(n,e);if(n instanceof Jc)return function(i,r){if(!Bz(r.Iu))throw r.mu(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.mu(`${i._methodName}() is not currently supported inside arrays`);const o=i._toFieldTransform(r);o&&r.fieldTransforms.push(o)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.du&&4!==e.Iu)throw e.mu("Nested arrays are not supported");return function(i,r){const o=[];let s=0;for(const a of i){let l=tu(a,r.Vu(s));null==l&&(l={nullValue:"NULL_VALUE"}),o.push(l),s++}return{arrayValue:{values:o}}}(n,e)}return function(i,r){if(null===(i=(0,sn.m9)(i)))return{nullValue:"NULL_VALUE"};if("number"==typeof i)return PU(r.serializer,i);if("boolean"==typeof i)return{booleanValue:i};if("string"==typeof i)return{stringValue:i};if(i instanceof Date){const o=Nn.fromDate(i);return{timestampValue:wh(r.serializer,o)}}if(i instanceof Nn){const o=new Nn(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:wh(r.serializer,o)}}if(i instanceof E0)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Vs)return{bytesValue:JU(r.serializer,i._byteString)};if(i instanceof Pn){const o=r.databaseId,s=i.firestore._databaseId;if(!s.isEqual(o))throw r.mu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:fD(i.firestore._databaseId||r.databaseId,i._key.path)}}throw r.mu(`Unsupported field value: ${v0(i)}`)}(n,e)}function zz(n,e){const t={};return eU(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):El(n,(i,r)=>{const o=tu(r,e.Eu(i));null!=o&&(t[i]=o)}),{mapValue:{fields:t}}}function Hz(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Nn||n instanceof E0||n instanceof Vs||n instanceof Pn||n instanceof Jc)}function QA(n,e,t){if(!Hz(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const i=v0(t);throw e.mu("an object"===i?n+" a custom object":n+" "+i)}var r}function mg(n,e,t){if((e=(0,sn.m9)(e))instanceof xa)return e._internalPath;if("string"==typeof e)return x0(n,e);throw C0("Field path arguments must be of type string or ",n,!1,void 0,t)}const kse=new RegExp("[~\\*/\\[\\]]");function x0(n,e,t){if(e.search(kse)>=0)throw C0(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new xa(...e.split("."))._internalPath}catch{throw C0(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function C0(n,e,t,i,r){const o=i&&!i.isEmpty(),s=void 0!==r;let a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=` in field ${i}`),s&&(l+=` in document ${r}`),l+=")"),new ne(W.INVALID_ARGUMENT,a+n+l)}function $z(n,e){return n.some(t=>t.isEqual(e))}class gg{constructor(e,t,i,r,o){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=r,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Pn(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Ose(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(T0("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Ose extends gg{data(){return super.data()}}function T0(n,e){return"string"==typeof e?x0(n,e):e instanceof xa?e._internalPath:e._delegate._internalPath}function Wz(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new ne(W.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class XA{}class _g extends XA{}function Ol(n,e,...t){let i=[];e instanceof XA&&i.push(e),i=i.concat(t),function(o){const s=o.filter(l=>l instanceof Uh).length,a=o.filter(l=>l instanceof yg).length;if(s>1||s>0&&a>0)throw new ne(W.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const r of i)n=r._apply(n);return n}class yg extends _g{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new yg(e,t,i)}_apply(e){const t=this._parse(e);return Kz(e._query,t),new tr(e.firestore,e.converter,oD(e._query,t))}_parse(e){const t=eu(e.firestore);return function(o,s,a,l,c,h,p){let g;if(c.isKeyField()){if("array-contains"===h||"array-contains-any"===h)throw new ne(W.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if("in"===h||"not-in"===h){Zz(p,h);const y=[];for(const w of p)y.push(Gz(l,o,w));g={arrayValue:{values:y}}}else g=Gz(l,o,p)}else"in"!==h&&"not-in"!==h&&"array-contains-any"!==h||Zz(p,h),g=jz(a,"where",p,"in"===h||"not-in"===h);return Pt.create(c,h,g)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class Uh extends XA{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Uh(e,t)}_parse(e){const t=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return 1===t.length?t[0]:tn.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(r,o){let s=r;const a=o.getFlattenedFilters();for(const l of a)Kz(s,l),s=oD(s,l)}(e._query,t),new tr(e.firestore,e.converter,oD(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class JA extends _g{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new JA(e,t)}_apply(e){const t=function(r,o,s){if(null!==r.startAt)throw new ne(W.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new ne(W.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new jm(o,s)}(e._query,this._field,this._direction);return new tr(e.firestore,e.converter,function(r,o){const s=r.explicitOrderBy.concat([o]);return new va(r.path,r.collectionGroup,s,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class D0 extends _g{constructor(e,t,i){super(),this.type=e,this._limit=t,this._limitType=i}static _create(e,t,i){return new D0(e,t,i)}_apply(e){return new tr(e.firestore,e.converter,qb(e._query,this._limit,this._limitType))}}class A0 extends _g{constructor(e,t,i){super(),this.type=e,this._docOrFields=t,this._inclusive=i}static _create(e,t,i){return new A0(e,t,i)}_apply(e){const t=qz(e,this.type,this._docOrFields,this._inclusive);return new tr(e.firestore,e.converter,(o=t,new va((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,o,r.endAt)));var r,o}}class S0 extends _g{constructor(e,t,i){super(),this.type=e,this._docOrFields=t,this._inclusive=i}static _create(e,t,i){return new S0(e,t,i)}_apply(e){const t=qz(e,this.type,this._docOrFields,this._inclusive);return new tr(e.firestore,e.converter,(o=t,new va((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,o)));var r,o}}function qz(n,e,t,i){if(t[0]=(0,sn.m9)(t[0]),t[0]instanceof gg)return function(o,s,a,l,c){if(!l)throw new ne(W.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${a}().`);const h=[];for(const p of gh(o))if(p.field.isKeyField())h.push(zc(s,l.key));else{const g=l.data.field(p.field);if(Bb(g))throw new ne(W.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+p.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===g){const y=p.field.canonicalString();throw new ne(W.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${y}' (used as the orderBy) does not exist.`)}h.push(g)}return new Dl(h,c)}(n._query,n.firestore._databaseId,e,t[0]._document,i);{const r=eu(n.firestore);return function(s,a,l,c,h,p){const g=s.explicitOrderBy;if(h.length>g.length)throw new ne(W.INVALID_ARGUMENT,`Too many arguments provided to ${c}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const y=[];for(let w=0;w<h.length;w++){const x=h[w];if(g[w].field.isKeyField()){if("string"!=typeof x)throw new ne(W.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${c}(), but got a ${typeof x}`);if(!rD(s)&&-1!==x.indexOf("/"))throw new ne(W.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${c}() must be a plain document ID, but '${x}' contains a slash.`);const S=s.path.child(Vt.fromString(x));if(!ge.isDocumentKey(S))throw new ne(W.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${c}() must result in a valid document path, but '${S}' is not because it contains an odd number of segments.`);const L=new ge(S);y.push(zc(a,L))}else{const S=jz(l,c,x);y.push(S)}}return new Dl(y,p)}(n._query,n.firestore._databaseId,r,e,t,i)}}function Gz(n,e,t){if("string"==typeof(t=(0,sn.m9)(t))){if(""===t)throw new ne(W.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!rD(e)&&-1!==t.indexOf("/"))throw new ne(W.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(Vt.fromString(t));if(!ge.isDocumentKey(i))throw new ne(W.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return zc(n,new ge(i))}if(t instanceof Pn)return zc(n,t._key);throw new ne(W.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${v0(t)}.`)}function Zz(n,e){if(!Array.isArray(n)||0===n.length)throw new ne(W.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Kz(n,e){const t=function(r,o){for(const s of r)for(const a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(n.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new ne(W.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class eS{convertValue(e,t="none"){switch(Cl(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Kn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ya(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw xe()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return El(e,(r,o)=>{i[r]=this.convertValue(o,t)}),i}convertGeoPoint(e){return new E0(Kn(e.latitude),Kn(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=Ub(e);return null==i?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(Lm(e));default:return null}}convertTimestamp(e){const t=wl(e);return new Nn(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=Vt.fromString(e);ke(cj(i));const r=new Il(i.get(1),i.get(3)),o=new ge(i.popFirst(5));return r.isEqual(t)||li(`Document ${o} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}function M0(n,e,t){let i;return i=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,i}class Hse extends eS{constructor(e){super(),this.firestore=e}convertBytes(e){return new Vs(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Pn(this.firestore,null,t)}}class nu{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ca extends gg{constructor(e,t,i,r,o,s){super(e,t,i,r,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new vg(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(T0("DocumentSnapshot.get",e));if(null!==i)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class vg extends Ca{data(e={}){return super.data(e)}}class Nl{constructor(e,t,i,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new nu(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new vg(this._firestore,this._userDataWriter,i.key,i,new nu(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ne(W.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,o){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(a=>({type:"added",doc:new vg(r._firestore,r._userDataWriter,a.doc.key,a.doc,new nu(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:s++}))}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(a=>o||3!==a.type).map(a=>{const l=new vg(r._firestore,r._userDataWriter,a.doc.key,a.doc,new nu(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter);let c=-1,h=-1;return 0!==a.type&&(c=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),1!==a.type&&(s=s.add(a.doc),h=s.indexOf(a.doc.key)),{type:Wse(a.type),doc:l,oldIndex:c,newIndex:h}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function Wse(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return xe()}}function Qz(n,e){return n instanceof Ca&&e instanceof Ca?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof Nl&&e instanceof Nl&&n._firestore===e._firestore&&qA(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}class Fl extends eS{constructor(e){super(),this.firestore=e}convertBytes(e){return new Vs(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Pn(this.firestore,null,t)}}function Xz(n,e,t){n=At(n,Pn);const i=At(n.firestore,vn),r=M0(n.converter,e,t);return jh(i,[I0(eu(i),"setDoc",n._key,r,null!==n.converter,t).toMutation(n._key,Fn.none())])}function Jz(n,e,t,...i){n=At(n,Pn);const r=At(n.firestore,vn),o=eu(r);let s;return s="string"==typeof(e=(0,sn.m9)(e))||e instanceof xa?YA(o,"updateDoc",n._key,e,t,i):KA(o,"updateDoc",n._key,e),jh(r,[s.toMutation(n._key,Fn.exists(!0))])}function eH(n,...e){var t,i,r;n=(0,sn.m9)(n);let o={includeMetadataChanges:!1},s=0;"object"!=typeof e[s]||GA(e[s])||(o=e[s],s++);const a={includeMetadataChanges:o.includeMetadataChanges};if(GA(e[s])){const p=e[s];e[s]=null===(t=p.next)||void 0===t?void 0:t.bind(p),e[s+1]=null===(i=p.error)||void 0===i?void 0:i.bind(p),e[s+2]=null===(r=p.complete)||void 0===r?void 0:r.bind(p)}let l,c,h;if(n instanceof Pn)c=At(n.firestore,vn),h=mh(n._key.path),l={next:p=>{e[s]&&e[s](tS(c,n,p))},error:e[s+1],complete:e[s+2]};else{const p=At(n,tr);c=At(p.firestore,vn),h=p._query;const g=new Fl(c);l={next:y=>{e[s]&&e[s](new Nl(c,g,p,y))},error:e[s+1],complete:e[s+2]},Wz(n._query)}return function(g,y,w,x){const S=new g0(x),L=new uA(y,S,w);return g.asyncQueue.enqueueAndForget((0,Y.Z)(function*(){return oA(yield Bh(g),L)})),()=>{S.Na(),g.asyncQueue.enqueueAndForget((0,Y.Z)(function*(){return aA(yield Bh(g),L)}))}}(Yn(c),h,a,l)}function jh(n,e){return function(i,r){const o=new xi;return i.asyncQueue.enqueueAndForget((0,Y.Z)(function*(){return function Foe(n,e,t){return mA.apply(this,arguments)}(yield HA(i),r,o)})),o.promise}(Yn(n),e)}function tS(n,e,t){const i=t.docs.get(e._key),r=new Fl(n);return new Ca(n,r,e._key,i,new nu(t.hasPendingWrites,t.fromCache),e.converter)}const cae={maxAttempts:5};class tH{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=eu(e)}set(e,t,i){this._verifyNotCommitted();const r=Ll(e,this._firestore),o=M0(r.converter,t,i),s=I0(this._dataReader,"WriteBatch.set",r._key,o,null!==r.converter,i);return this._mutations.push(s.toMutation(r._key,Fn.none())),this}update(e,t,i,...r){this._verifyNotCommitted();const o=Ll(e,this._firestore);let s;return s="string"==typeof(t=(0,sn.m9)(t))||t instanceof xa?YA(this._dataReader,"WriteBatch.update",o._key,t,i,r):KA(this._dataReader,"WriteBatch.update",o._key,t),this._mutations.push(s.toMutation(o._key,Fn.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Ll(e,this._firestore);return this._mutations=this._mutations.concat(new Eh(t._key,Fn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ne(W.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Ll(n,e){if((n=(0,sn.m9)(n)).firestore!==e)throw new ne(W.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class uae extends class{constructor(t,i){this._firestore=t,this._transaction=i,this._dataReader=eu(t)}get(t){const i=Ll(t,this._firestore),r=new Hse(this._firestore);return this._transaction.lookup([i._key]).then(o=>{if(!o||1!==o.length)return xe();const s=o[0];if(s.isFoundDocument())return new gg(this._firestore,r,s.key,s,i.converter);if(s.isNoDocument())return new gg(this._firestore,r,i._key,null,i.converter);throw xe()})}set(t,i,r){const o=Ll(t,this._firestore),s=M0(o.converter,i,r),a=I0(this._dataReader,"Transaction.set",o._key,s,null!==o.converter,r);return this._transaction.set(o._key,a),this}update(t,i,r,...o){const s=Ll(t,this._firestore);let a;return a="string"==typeof(i=(0,sn.m9)(i))||i instanceof xa?YA(this._dataReader,"Transaction.update",s._key,i,r,o):KA(this._dataReader,"Transaction.update",s._key,i),this._transaction.update(s._key,a),this}delete(t){const i=Ll(t,this._firestore);return this._transaction.delete(i._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Ll(e,this._firestore),i=new Fl(this._firestore);return super.get(e).then(r=>new Ca(this._firestore,i,t._key,r._document,new nu(!1,!1),t.converter))}}function iS(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new ne("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function oH(){if(typeof Uint8Array>"u")throw new ne("unimplemented","Uint8Arrays are not available in this environment.")}function sH(){if(!function zie(){return typeof atob<"u"}())throw new ne("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(e,t=!0){ah=Nr.SDK_VERSION,(0,Nr._registerComponent)(new v2.wA("firestore",(i,{instanceIdentifier:r,options:o})=>{const s=i.getProvider("app").getImmediate(),a=new vn(new hie(i.getProvider("auth-internal")),new mie(i.getProvider("app-check-internal")),function(c,h){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new ne(W.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Il(c.options.projectId,h)}(s,r),s);return o=Object.assign({useFetchStreams:t},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),(0,Nr.registerVersion)(FB,"4.3.2",e),(0,Nr.registerVersion)(FB,"4.3.2","esm2017")}();class bg{constructor(e){this._delegate=e}static fromBase64String(e){return sH(),new bg(Vs.fromBase64String(e))}static fromUint8Array(e){return oH(),new bg(Vs.fromUint8Array(e))}toBase64(){return sH(),this._delegate.toBase64()}toUint8Array(){return oH(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function rS(n){return function bae(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const i of e)if(i in t&&"function"==typeof t[i])return!0;return!1}(n,["next","error","complete"])}class Eae{enableIndexedDbPersistence(e,t){return function yse(n,e){Lz(n=At(n,vn));const t=Yn(n);if(t._uninitializedComponentsProvider)throw new ne(W.FAILED_PRECONDITION,"SDK cache is already specified.");Gr("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const i=n._freezeSettings(),r=new Lh;return Fz(t,r,new FA(r,i.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function vse(n){Lz(n=At(n,vn));const e=Yn(n);if(e._uninitializedComponentsProvider)throw new ne(W.FAILED_PRECONDITION,"SDK cache is already specified.");Gr("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=n._freezeSettings(),i=new Lh;return Fz(e,i,new _z(i,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function bse(n){if(n._initialized&&!n._terminated)throw new ne(W.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new xi;return n._queue.enqueueAndForgetEvenWhileRestricted((0,Y.Z)(function*(){try{yield(t=(0,Y.Z)(function*(r){if(!rs.D())return Promise.resolve();const o=r+"main";yield rs.delete(o)}),function i(r){return t.apply(this,arguments)})(AD(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class aH{constructor(e,t,i){this._delegate=t,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},e instanceof Il||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Gr("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,i={}){Pz(this._delegate,e,t,i)}enableNetwork(){return function wse(n){return function ise(n){return n.asyncQueue.enqueue((0,Y.Z)(function*(){const e=yield bz(n),t=yield Ez(n);return e.setNetworkEnabled(!0),function(r){const o=me(r);return o.C_.delete(0),cg(o)}(t)}))}(Yn(n=At(n,vn)))}(this._delegate)}disableNetwork(){return function Ise(n){return function rse(n){return n.asyncQueue.enqueue((0,Y.Z)(function*(){const e=yield bz(n),t=yield Ez(n);return e.setNetworkEnabled(!1),(i=(0,Y.Z)(function*(o){const s=me(o);s.C_.add(0),yield Mh(s),s.M_.set("Offline")}),function r(o){return i.apply(this,arguments)})(t);var i}))}(Yn(n=At(n,vn)))}(this._delegate)}enablePersistence(e){let t=!1,i=!1;return e&&(t=!!e.synchronizeTabs,i=!!e.experimentalForceOwningTab,Dz("synchronizeTabs",t,"experimentalForceOwningTab",i)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function Ese(n){return function(t){const i=new xi;return t.asyncQueue.enqueueAndForget((0,Y.Z)(function*(){return function Uoe(n,e){return bA.apply(this,arguments)}(yield HA(t),i)})),i.promise}(Yn(n=At(n,vn)))}(this._delegate)}onSnapshotsInSync(e){return function eae(n,e){return function ase(n,e){const t=new g0(e);return n.asyncQueue.enqueueAndForget((0,Y.Z)(function*(){return r=yield Bh(n),o=t,me(r).q_.add(o),void o.next();var r,o})),()=>{t.Na(),n.asyncQueue.enqueueAndForget((0,Y.Z)(function*(){return r=yield Bh(n),o=t,void me(r).q_.delete(o);var r,o}))}}(Yn(n=At(n,vn)),GA(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new ne("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new zh(this,kz(this._delegate,e))}catch(t){throw Vr(t,"collection()","Firestore.collection()")}}doc(e){try{return new Bo(this,b0(this._delegate,e))}catch(t){throw Vr(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Br(this,function fse(n,e){if(n=At(n,hg),WA("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new ne(W.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new tr(n,null,(i=e,new va(Vt.emptyPath(),i)));var i}(this._delegate,e))}catch(t){throw Vr(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function dae(n,e,t){n=At(n,vn);const i=Object.assign(Object.assign({},cae),t);return function(o){if(o.maxAttempts<1)throw new ne(W.INVALID_ARGUMENT,"Max attempts must be at least 1")}(i),function(o,s,a){const l=new xi;return o.asyncQueue.enqueueAndForget((0,Y.Z)(function*(){const c=yield function wz(n){return y0(n).then(e=>e.datastore)}(o);new tse(o.asyncQueue,c,a,s,l).run()})),l.promise}(Yn(n),r=>e(new uae(n,r)),i)}(this._delegate,t=>e(new lH(this,t)))}batch(){return Yn(this._delegate),new cH(new tH(this._delegate,e=>jh(this._delegate,e)))}loadBundle(e){return function xse(n,e){const t=Yn(n=At(n,vn)),i=new mse;return function lse(n,e,t,i){const r=function(s,a){let l;return l="string"==typeof s?WU().encode(s):s,h=function(h,p){if(h instanceof Uint8Array)return yz(h,p);if(h instanceof ArrayBuffer)return yz(new Uint8Array(h),p);if(h instanceof ReadableStream)return h.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(l),new Joe(h,a);var h}(t,lg(e));n.asyncQueue.enqueueAndForget((0,Y.Z)(function*(){!function Qoe(n,e,t){const i=me(n);var r;(r=(0,Y.Z)(function*(s,a,l){try{const c=yield a.getMetadata();if(yield function(w,x){const S=me(w),L=ci(x.createTime);return S.persistence.runTransaction("hasNewerBundle","readonly",R=>S.Kr.getBundleMetadata(R,x.id)).then(R=>!!R&&R.createTime.compareTo(L)>=0)}(s.localStore,c))return yield a.close(),l._completeWith({taskState:"Success",documentsLoaded:(w=c).totalDocuments,bytesLoaded:w.totalBytes,totalDocuments:w.totalDocuments,totalBytes:w.totalBytes}),Promise.resolve(new Set);l._updateProgress(lz(c));const h=new Moe(c,s.localStore,a.serializer);let p=yield a.Ma();for(;p;){const y=yield h.ea(p);y&&l._updateProgress(y),p=yield a.Ma()}const g=yield h.complete();return yield Ia(s,g.ra,void 0),yield function(w,x){const S=me(w);return S.persistence.runTransaction("Save bundle","readwrite",L=>S.Kr.saveBundleMetadata(L,x))}(s.localStore,c),l._completeWith(g.progress),Promise.resolve(g.na)}catch(c){return Gr("SyncEngine",`Loading bundle failed with ${c}`),l._failWith(c),Promise.resolve(new Set)}var w}),function o(s,a,l){return r.apply(this,arguments)})(i,e,t).then(r=>{i.sharedClientState.notifyBundleLoaded(r)})}(yield HA(n),r,i)}))}(t,n._databaseId,e,i),i}(this._delegate,e)}namedQuery(e){return function Cse(n,e){return function cse(n,e){return n.asyncQueue.enqueue((0,Y.Z)(function*(){return function(i,r){const o=me(i);return o.persistence.runTransaction("Get named query","readonly",s=>o.Kr.getNamedQuery(s,r))}(yield Vh(n),e)}))}(Yn(n=At(n,vn)),e).then(t=>t?new tr(n,null,t.query):null)}(this._delegate,e).then(t=>t?new Br(this,t):null)}}class P0 extends eS{constructor(e){super(),this.firestore=e}convertBytes(e){return new bg(new Vs(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Bo.forKey(t,this.firestore,null)}}class lH{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new P0(e)}get(e){const t=ru(e);return this._delegate.get(t).then(i=>new Eg(this._firestore,new Ca(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,t.converter)))}set(e,t,i){const r=ru(e);return i?(iS("Transaction.set",i),this._delegate.set(r,t,i)):this._delegate.set(r,t),this}update(e,t,i,...r){const o=ru(e);return 2===arguments.length?this._delegate.update(o,t):this._delegate.update(o,t,i,...r),this}delete(e){const t=ru(e);return this._delegate.delete(t),this}}class cH{constructor(e){this._delegate=e}set(e,t,i){const r=ru(e);return i?(iS("WriteBatch.set",i),this._delegate.set(r,t,i)):this._delegate.set(r,t),this}update(e,t,i,...r){const o=ru(e);return 2===arguments.length?this._delegate.update(o,t):this._delegate.update(o,t,i,...r),this}delete(e){const t=ru(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class iu{constructor(e,t,i){this._firestore=e,this._userDataWriter=t,this._delegate=i}fromFirestore(e,t){const i=new vg(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new wg(this._firestore,i),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const i=iu.INSTANCES;let r=i.get(e);r||(r=new WeakMap,i.set(e,r));let o=r.get(t);return o||(o=new iu(e,new P0(e),t),r.set(t,o)),o}}iu.INSTANCES=new WeakMap;class Bo{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new P0(e)}static forPath(e,t,i){if(e.length%2!=0)throw new ne("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Bo(t,new Pn(t._delegate,i,new ge(e)))}static forKey(e,t,i){return new Bo(t,new Pn(t._delegate,i,e))}get id(){return this._delegate.id}get parent(){return new zh(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new zh(this.firestore,kz(this._delegate,e))}catch(t){throw Vr(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,sn.m9)(e))instanceof Pn&&Oz(this._delegate,e)}set(e,t){t=iS("DocumentReference.set",t);try{return t?Xz(this._delegate,e,t):Xz(this._delegate,e)}catch(i){throw Vr(i,"setDoc()","DocumentReference.set()")}}update(e,t,...i){try{return 1===arguments.length?Jz(this._delegate,e):Jz(this._delegate,e,t,...i)}catch(r){throw Vr(r,"updateDoc()","DocumentReference.update()")}}delete(){return function Xse(n){return jh(At(n.firestore,vn),[new Eh(n._key,Fn.none())])}(this._delegate)}onSnapshot(...e){const t=uH(e),i=dH(e,r=>new Eg(this.firestore,new Ca(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)));return eH(this._delegate,t,i)}get(e){let t;return t="cache"===e?.source?function Gse(n){n=At(n,Pn);const e=At(n.firestore,vn),t=Yn(e),i=new Fl(e);return function ose(n,e){const t=new xi;return n.asyncQueue.enqueueAndForget((0,Y.Z)(function*(){return(i=(0,Y.Z)(function*(o,s,a){try{const l=yield function(h,p){const g=me(h);return g.persistence.runTransaction("read document","readonly",y=>g.localDocuments.getDocument(y,p))}(o,s);l.isFoundDocument()?a.resolve(l):l.isNoDocument()?a.resolve(null):a.reject(new ne(W.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(l){const c=kh(l,`Failed to get document '${s} from cache`);a.reject(c)}}),function r(o,s,a){return i.apply(this,arguments)})(yield Vh(n),e,t);var i})),t.promise}(t,n._key).then(r=>new Ca(e,i,n._key,r,new nu(null!==r&&r.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===e?.source?function Zse(n){n=At(n,Pn);const e=At(n.firestore,vn);return Iz(Yn(e),n._key,{source:"server"}).then(t=>tS(e,n,t))}(this._delegate):function qse(n){n=At(n,Pn);const e=At(n.firestore,vn);return Iz(Yn(e),n._key).then(t=>tS(e,n,t))}(this._delegate),t.then(i=>new Eg(this.firestore,new Ca(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(e){return new Bo(this.firestore,this._delegate.withConverter(e?iu.getInstance(this.firestore,e):null))}}function Vr(n,e,t){return n.message=n.message.replace(e,t),n}function uH(n){for(const e of n)if("object"==typeof e&&!rS(e))return e;return{}}function dH(n,e){var t,i;let r;return r=rS(n[0])?n[0]:rS(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:o=>{r.next&&r.next(e(o))},error:null===(t=r.error)||void 0===t?void 0:t.bind(r),complete:null===(i=r.complete)||void 0===i?void 0:i.bind(r)}}class Eg{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Bo(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return Qz(this._delegate,e._delegate)}}class wg extends Eg{data(e){const t=this._delegate.data(e);return this._delegate._converter||function cie(n,e){n||xe()}(void 0!==t),t}}class Br{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new P0(e)}where(e,t,i){try{return new Br(this.firestore,Ol(this._delegate,function Nse(n,e,t){const i=e,r=T0("where",n);return yg._create(r,i,t)}(e,t,i)))}catch(r){throw Vr(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Br(this.firestore,Ol(this._delegate,function Fse(n,e="asc"){const t=e,i=T0("orderBy",n);return JA._create(i,t)}(e,t)))}catch(i){throw Vr(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Br(this.firestore,Ol(this._delegate,function Lse(n){return Mz("limit",n),D0._create("limit",n,"F")}(e)))}catch(t){throw Vr(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Br(this.firestore,Ol(this._delegate,function Vse(n){return Mz("limitToLast",n),D0._create("limitToLast",n,"L")}(e)))}catch(t){throw Vr(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Br(this.firestore,Ol(this._delegate,function Bse(...n){return A0._create("startAt",n,!0)}(...e)))}catch(t){throw Vr(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Br(this.firestore,Ol(this._delegate,function Use(...n){return A0._create("startAfter",n,!1)}(...e)))}catch(t){throw Vr(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Br(this.firestore,Ol(this._delegate,function jse(...n){return S0._create("endBefore",n,!1)}(...e)))}catch(t){throw Vr(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Br(this.firestore,Ol(this._delegate,function zse(...n){return S0._create("endAt",n,!0)}(...e)))}catch(t){throw Vr(t,"endAt()","Query.endAt()")}}isEqual(e){return qA(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function Yse(n){n=At(n,tr);const e=At(n.firestore,vn),t=Yn(e),i=new Fl(e);return function sse(n,e){const t=new xi;return n.asyncQueue.enqueueAndForget((0,Y.Z)(function*(){return(i=(0,Y.Z)(function*(o,s,a){try{const l=yield c0(o,s,!0),c=new dz(s,l.ls),h=c.ca(l.documents),p=c.applyChanges(h,!1);a.resolve(p.snapshot)}catch(l){const c=kh(l,`Failed to execute query '${s} against cache`);a.reject(c)}}),function r(o,s,a){return i.apply(this,arguments)})(yield Vh(n),e,t);var i})),t.promise}(t,n._query).then(r=>new Nl(e,i,n,r))}(this._delegate):"server"===e?.source?function Qse(n){n=At(n,tr);const e=At(n.firestore,vn),t=Yn(e),i=new Fl(e);return xz(t,n._query,{source:"server"}).then(r=>new Nl(e,i,n,r))}(this._delegate):function Kse(n){n=At(n,tr);const e=At(n.firestore,vn),t=Yn(e),i=new Fl(e);return Wz(n._query),xz(t,n._query).then(r=>new Nl(e,i,n,r))}(this._delegate),t.then(i=>new oS(this.firestore,new Nl(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...e){const t=uH(e),i=dH(e,r=>new oS(this.firestore,new Nl(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)));return eH(this._delegate,t,i)}withConverter(e){return new Br(this.firestore,this._delegate.withConverter(e?iu.getInstance(this.firestore,e):null))}}class Iae{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new wg(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class oS{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Br(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new wg(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new Iae(this._firestore,t))}forEach(e,t){this._delegate.forEach(i=>{e.call(t,new wg(this._firestore,i))})}isEqual(e){return Qz(this._delegate,e._delegate)}}class zh extends Br{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Bo(this.firestore,e):null}doc(e){try{return new Bo(this.firestore,void 0===e?b0(this._delegate):b0(this._delegate,e))}catch(t){throw Vr(t,"doc()","CollectionReference.doc()")}}add(e){return function Jse(n,e){const t=At(n.firestore,vn),i=b0(n),r=M0(n.converter,e);return jh(t,[I0(eu(n.firestore),"addDoc",i._key,r,null!==n.converter,{}).toMutation(i._key,Fn.exists(!1))]).then(()=>i)}(this._delegate,e).then(t=>new Bo(this.firestore,t))}isEqual(e){return Oz(this._delegate,e._delegate)}withConverter(e){return new zh(this.firestore,this._delegate.withConverter(e?iu.getInstance(this.firestore,e):null))}}function ru(n){return At(n,Pn)}class sS{constructor(...e){this._delegate=new xa(...e)}static documentId(){return new sS(Mn.keyField().canonicalString())}isEqual(e){return(e=(0,sn.m9)(e))instanceof xa&&this._delegate._internalPath.isEqual(e._internalPath)}}class ou{constructor(e){this._delegate=e}static serverTimestamp(){const e=function fae(){return new ZA("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new ou(e)}static delete(){const e=function hae(){return new pg("deleteField")}();return e._methodName="FieldValue.delete",new ou(e)}static arrayUnion(...e){const t=function pae(...n){return new Mse("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new ou(t)}static arrayRemove(...e){const t=function mae(...n){return new Rse("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new ou(t)}static increment(e){const t=function gae(n){return new Pse("increment",n)}(e);return t._methodName="FieldValue.increment",new ou(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const xae={Firestore:aH,GeoPoint:E0,Timestamp:Nn,Blob:bg,Transaction:lH,WriteBatch:cH,DocumentReference:Bo,DocumentSnapshot:Eg,Query:Br,QueryDocumentSnapshot:wg,QuerySnapshot:oS,CollectionReference:zh,FieldPath:sS,FieldValue:ou,setLogLevel:function wae(n){!function lie(n){yl.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};function hH(n,e){return function Dae(n,e=Bd){return new Ke(t=>{let i;return null!=e?e.schedule(()=>{i=n.onSnapshot({includeMetadataChanges:!0},t)}):i=n.onSnapshot({includeMetadataChanges:!0},t),()=>{i?.()}})}(n,e)}function aS(n,e){return hH(n,e).pipe(de(t=>({payload:t,type:"query"})))}!function Tae(n){(function Cae(n,e){n.INTERNAL.registerComponent(new v2.wA("firestore-compat",t=>{const i=t.getProvider("app-compat").getImmediate(),r=t.getProvider("firestore").getImmediate();return e(i,r)},"PUBLIC").setServiceProps(Object.assign({},xae)))})(n,(e,t)=>new aH(e,t,new Eae)),n.registerVersion("@firebase/firestore-compat","0.3.22")}(pl.Z);class fH{ref;afs;constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const i=this.ref.collection(e),{ref:r,query:o}=vH(i,t);return new gH(r,o,this.afs)}snapshotChanges(){return function Aae(n,e){return hH(n,e).pipe(lo(void 0),iT(),de(t=>{const[i,r]=t;return r.exists?i?.exists?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(co)}valueChanges(e={}){return this.snapshotChanges().pipe(de(({payload:t})=>e.idField?{...t.data(),[e.idField]:t.id}:t.data()))}get(e){return b(this.ref.get(e)).pipe(co)}}function k0(n,e){return aS(n,e).pipe(lo(void 0),iT(),de(t=>{const[i,r]=t,o=r.payload.docChanges(),s=o.map(a=>({type:a.type,payload:a}));return i&&JSON.stringify(i.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((a,l)=>{const c=o.find(p=>p.doc.ref.isEqual(a.ref)),h=i?.payload.docs.find(p=>p.ref.isEqual(a.ref));c&&JSON.stringify(c.doc.metadata)===JSON.stringify(a.metadata)||!c&&h&&JSON.stringify(h.metadata)===JSON.stringify(a.metadata)||s.push({type:"modified",payload:{oldIndex:l,newIndex:l,type:"modified",doc:a}})}),s}))}function pH(n,e,t){return k0(n,t).pipe(lb((i,r)=>function Sae(n,e,t){return e.forEach(i=>{t.indexOf(i.type)>-1&&(n=function Mae(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return lS(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return lS(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return lS(n,e.oldIndex,1)}return n}(n,i))}),n}(i,r.map(o=>o.payload),e),[]),Ue(),de(i=>i.map(r=>({type:r.type,payload:r}))))}function lS(n,e,t,...i){const r=n.slice();return r.splice(e,t,...i),r}function mH(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class gH{ref;query;afs;constructor(e,t,i){this.ref=e,this.query=t,this.afs=i}stateChanges(e){let t=k0(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe(de(i=>i.filter(r=>e.indexOf(r.type)>-1)))),t.pipe(lo(void 0),iT(),_n(([i,r])=>r.length>0||!i),de(([,i])=>i),co)}auditTrail(e){return this.stateChanges(e).pipe(lb((t,i)=>[...t,...i],[]))}snapshotChanges(e){const t=mH(e);return pH(this.query,t,this.afs.schedulers.outsideAngular).pipe(co)}valueChanges(e={}){return aS(this.query,this.afs.schedulers.outsideAngular).pipe(de(t=>t.payload.docs.map(i=>e.idField?{...i.data(),[e.idField]:i.id}:i.data())),co)}get(e){return b(this.query.get(e)).pipe(co)}add(e){return this.ref.add(e)}doc(e){return new fH(this.ref.doc(e),this.afs)}}class Rae{query;afs;constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?k0(this.query,this.afs.schedulers.outsideAngular).pipe(de(t=>t.filter(i=>e.indexOf(i.type)>-1)),_n(t=>t.length>0),co):k0(this.query,this.afs.schedulers.outsideAngular).pipe(co)}auditTrail(e){return this.stateChanges(e).pipe(lb((t,i)=>[...t,...i],[]))}snapshotChanges(e){const t=mH(e);return pH(this.query,t,this.afs.schedulers.outsideAngular).pipe(co)}valueChanges(e={}){return aS(this.query,this.afs.schedulers.outsideAngular).pipe(de(i=>i.payload.docs.map(r=>e.idField?{[e.idField]:r.id,...r.data()}:r.data())),co)}get(e){return b(this.query.get(e)).pipe(co)}}const _H=new G("angularfire2.enableFirestorePersistence"),yH=new G("angularfire2.firestore.persistenceSettings"),Pae=new G("angularfire2.firestore.settings"),kae=new G("angularfire2.firestore.use-emulator");function vH(n,e=(t=>t)){return{query:e(n),ref:n}}let cS=(()=>{class n{schedulers;firestore;persistenceEnabled$;constructor(t,i,r,o,s,a,l,c,h,p,g,y,w,x,S,L,R){this.schedulers=l;const z=nT(t,a,i),Q=h;p&&_2(z,a,g,w,x,S,y,L),[this.firestore,this.persistenceEnabled$]=a2(`${z.name}.firestore`,"AngularFirestore",z.name,()=>{const ue=a.runOutsideAngular(()=>z.firestore());if(o&&ue.settings(o),Q&&ue.useEmulator(...Q),r&&!av(s)){const Pe=()=>{try{return b(ue.enablePersistence(c||void 0).then(()=>!0,()=>!1))}catch(Je){return typeof console<"u"&&console.warn(Je),A(!1)}};return[ue,a.runOutsideAngular(Pe)]}return[ue,A(!1)]},[o,Q,r])}collection(t,i){let r;r="string"==typeof t?this.firestore.collection(t):t;const{ref:o,query:s}=vH(r,i),a=this.schedulers.ngZone.run(()=>o);return new gH(a,s,this)}collectionGroup(t,i){const r=i||(s=>s),o=this.firestore.collectionGroup(t);return new Rae(r(o),this)}doc(t){let i;i="string"==typeof t?this.firestore.doc(t):t;const r=this.schedulers.ngZone.run(()=>i);return new fH(r,this)}createId(){return this.firestore.collection("_").doc().id}static \u0275fac=function(i){return new(i||n)(O(rb),O(ob,8),O(_H,8),O(Pae,8),O(Ko),O(Ce),O(ib),O(yH,8),O(kae,8),O(y2,8),O(d2,8),O(h2,8),O(f2,8),O(p2,8),O(m2,8),O(g2,8),O(tT,8))};static \u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"any"})}return n})(),Oae=(()=>{class n{constructor(){pl.Z.registerVersion("angularfire",Qd.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:_H,useValue:!0},{provide:yH,useValue:t}]}}static \u0275fac=function(i){return new(i||n)};static \u0275mod=at({type:n});static \u0275inj=mt({providers:[cS]})}return n})();function bH(n){return de(()=>n)}function EH(n,e){return e?t=>qp(e.pipe(fi(1),function Nae(){return X((n,e)=>{n.subscribe(fe(e,De))})}()),t.pipe(EH(n))):Ut((t,i)=>_t(n(t,i)).pipe(fi(1),bH(t)))}function wH(n,e=Bd){const t=$C(n,e);return EH(()=>t)}const Fae=["mat-menu-item",""];function Lae(n,e){1&n&&(function j_(){$e.lFrame.currentNamespace=nc}(),pe(0,"svg",3),Lt(1,"polygon",4),ye())}const Vae=[[["mat-icon"],["","matMenuItemIcon",""]],"*"],Bae=["mat-icon, [matMenuItemIcon]","*"];function Uae(n,e){if(1&n){const t=el();pe(0,"div",0),Ct("keydown",function(r){return rr(t),Ri(Jt()._handleKeydown(r))})("click",function(){return rr(t),Ri(Jt().closed.emit("click"))})("@transformMenu.start",function(r){return rr(t),Ri(Jt()._onAnimationStart(r))})("@transformMenu.done",function(r){return rr(t),Ri(Jt()._onAnimationDone(r))}),pe(1,"div",1),zt(2),ye()()}if(2&n){const t=Jt();Ve("id",t.panelId)("ngClass",t._classList)("@transformMenu",t._panelAnimationState),Xt("aria-label",t.ariaLabel||null)("aria-labelledby",t.ariaLabelledby||null)("aria-describedby",t.ariaDescribedby||null)}}const jae=["*"],uS=new G("MAT_MENU_PANEL"),zae=lC(vv(class{}));let O0=(()=>{class n extends zae{constructor(t,i,r,o,s){super(),this._elementRef=t,this._document=i,this._focusMonitor=r,this._parentMenu=o,this._changeDetectorRef=s,this.role="menuitem",this._hovered=new F,this._focused=new F,this._highlighted=!1,this._triggersSubmenu=!1,o?.addItem?.(this)}focus(t,i){this._focusMonitor&&t?this._focusMonitor.focusVia(this._getHostElement(),t,i):this._getHostElement().focus(i),this._focused.next(this)}ngAfterViewInit(){this._focusMonitor&&this._focusMonitor.monitor(this._elementRef,!1)}ngOnDestroy(){this._focusMonitor&&this._focusMonitor.stopMonitoring(this._elementRef),this._parentMenu&&this._parentMenu.removeItem&&this._parentMenu.removeItem(this),this._hovered.complete(),this._focused.complete()}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._elementRef.nativeElement}_checkDisabled(t){this.disabled&&(t.preventDefault(),t.stopPropagation())}_handleMouseEnter(){this._hovered.next(this)}getLabel(){const t=this._elementRef.nativeElement.cloneNode(!0),i=t.querySelectorAll("mat-icon, .material-icons");for(let r=0;r<i.length;r++)i[r].remove();return t.textContent?.trim()||""}_setHighlighted(t){this._highlighted=t,this._changeDetectorRef?.markForCheck()}_setTriggersSubmenu(t){this._triggersSubmenu=t,this._changeDetectorRef?.markForCheck()}_hasFocus(){return this._document&&this._document.activeElement===this._getHostElement()}static#e=this.\u0275fac=function(i){return new(i||n)(T(Ye),T(nt),T(Ac),T(uS,8),T(Ki))};static#t=this.\u0275cmp=Ft({type:n,selectors:[["","mat-menu-item",""]],hostAttrs:[1,"mat-mdc-menu-item","mat-mdc-focus-indicator"],hostVars:8,hostBindings:function(i,r){1&i&&Ct("click",function(s){return r._checkDisabled(s)})("mouseenter",function(){return r._handleMouseEnter()}),2&i&&(Xt("role",r.role)("tabindex",r._getTabIndex())("aria-disabled",r.disabled)("disabled",r.disabled||null),Ht("mat-mdc-menu-item-highlighted",r._highlighted)("mat-mdc-menu-item-submenu-trigger",r._triggersSubmenu))},inputs:{disabled:"disabled",disableRipple:"disableRipple",role:"role"},exportAs:["matMenuItem"],features:[Le],attrs:Fae,ngContentSelectors:Bae,decls:5,vars:3,consts:[[1,"mat-mdc-menu-item-text"],["matRipple","",1,"mat-mdc-menu-ripple",3,"matRippleDisabled","matRippleTrigger"],["class","mat-mdc-menu-submenu-icon","viewBox","0 0 5 10","focusable","false","aria-hidden","true",4,"ngIf"],["viewBox","0 0 5 10","focusable","false","aria-hidden","true",1,"mat-mdc-menu-submenu-icon"],["points","0,0 5,5 0,10"]],template:function(i,r){1&i&&(Mr(Vae),zt(0),pe(1,"span",0),zt(2,1),ye(),Lt(3,"div",1),xt(4,Lae,2,0,"svg",2)),2&i&&(He(3),Ve("matRippleDisabled",r.disableRipple||r.disabled)("matRippleTrigger",r._getHostElement()),He(1),Ve("ngIf",r._triggersSubmenu))},dependencies:[xc,wv],encapsulation:2,changeDetection:0})}return n})();const Hae=new G("MatMenuContent"),N0={transformMenu:qd("transformMenu",[Ds("void",ai({opacity:0,transform:"scale(0.8)"})),ts("void => enter",es("120ms cubic-bezier(0, 0, 0.2, 1)",ai({opacity:1,transform:"scale(1)"}))),ts("* => void",es("100ms 25ms linear",ai({opacity:0})))]),fadeInItems:qd("fadeInItems",[Ds("showing",ai({opacity:1})),ts("void => *",[ai({opacity:0}),es("400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let $ae=0;const IH=new G("mat-menu-default-options",{providedIn:"root",factory:function Wae(){return{overlapTrigger:!1,xPosition:"after",yPosition:"below",backdropClass:"cdk-overlay-transparent-backdrop"}}});let Ig=(()=>{class n{get xPosition(){return this._xPosition}set xPosition(t){this._xPosition=t,this.setPositionClasses()}get yPosition(){return this._yPosition}set yPosition(t){this._yPosition=t,this.setPositionClasses()}get overlapTrigger(){return this._overlapTrigger}set overlapTrigger(t){this._overlapTrigger=si(t)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(t){this._hasBackdrop=si(t)}set panelClass(t){const i=this._previousPanelClass;i&&i.length&&i.split(" ").forEach(r=>{this._classList[r]=!1}),this._previousPanelClass=t,t&&t.length&&(t.split(" ").forEach(r=>{this._classList[r]=!0}),this._elementRef.nativeElement.className="")}get classList(){return this.panelClass}set classList(t){this.panelClass=t}constructor(t,i,r,o){this._elementRef=t,this._ngZone=i,this._changeDetectorRef=o,this._directDescendantItems=new Ec,this._classList={},this._panelAnimationState="void",this._animationDone=new F,this.closed=new lt,this.close=this.closed,this.panelId="mat-menu-panel-"+$ae++,this.overlayPanelClass=r.overlayPanelClass||"",this._xPosition=r.xPosition,this._yPosition=r.yPosition,this.backdropClass=r.backdropClass,this._overlapTrigger=r.overlapTrigger,this._hasBackdrop=r.hasBackdrop}ngOnInit(){this.setPositionClasses()}ngAfterContentInit(){this._updateDirectDescendants(),this._keyManager=new iF(this._directDescendantItems).withWrap().withTypeAhead().withHomeAndEnd(),this._keyManager.tabOut.subscribe(()=>this.closed.emit("tab")),this._directDescendantItems.changes.pipe(lo(this._directDescendantItems),Ee(t=>I(...t.map(i=>i._focused)))).subscribe(t=>this._keyManager.updateActiveItem(t)),this._directDescendantItems.changes.subscribe(t=>{const i=this._keyManager;if("enter"===this._panelAnimationState&&i.activeItem?._hasFocus()){const r=t.toArray(),o=Math.max(0,Math.min(r.length-1,i.activeItemIndex||0));r[o]&&!r[o].disabled?i.setActiveItem(o):i.setNextItemActive()}})}ngOnDestroy(){this._keyManager?.destroy(),this._directDescendantItems.destroy(),this.closed.complete(),this._firstItemFocusSubscription?.unsubscribe()}_hovered(){return this._directDescendantItems.changes.pipe(lo(this._directDescendantItems),Ee(i=>I(...i.map(r=>r._hovered))))}addItem(t){}removeItem(t){}_handleKeydown(t){const i=t.keyCode,r=this._keyManager;switch(i){case 27:$p(t)||(t.preventDefault(),this.closed.emit("keydown"));break;case 37:this.parentMenu&&"ltr"===this.direction&&this.closed.emit("keydown");break;case 39:this.parentMenu&&"rtl"===this.direction&&this.closed.emit("keydown");break;default:return(38===i||40===i)&&r.setFocusOrigin("keyboard"),void r.onKeydown(t)}t.stopPropagation()}focusFirstItem(t="program"){this._firstItemFocusSubscription?.unsubscribe(),this._firstItemFocusSubscription=this._ngZone.onStable.pipe(fi(1)).subscribe(()=>{let i=null;if(this._directDescendantItems.length&&(i=this._directDescendantItems.first._getHostElement().closest('[role="menu"]')),!i||!i.contains(document.activeElement)){const r=this._keyManager;r.setFocusOrigin(t).setFirstItemActive(),!r.activeItem&&i&&i.focus()}})}resetActiveItem(){this._keyManager.setActiveItem(-1)}setElevation(t){const i=Math.min(this._baseElevation+t,24),r=`${this._elevationPrefix}${i}`,o=Object.keys(this._classList).find(s=>s.startsWith(this._elevationPrefix));(!o||o===this._previousElevation)&&(this._previousElevation&&(this._classList[this._previousElevation]=!1),this._classList[r]=!0,this._previousElevation=r)}setPositionClasses(t=this.xPosition,i=this.yPosition){const r=this._classList;r["mat-menu-before"]="before"===t,r["mat-menu-after"]="after"===t,r["mat-menu-above"]="above"===i,r["mat-menu-below"]="below"===i,this._changeDetectorRef?.markForCheck()}_startAnimation(){this._panelAnimationState="enter"}_resetAnimation(){this._panelAnimationState="void"}_onAnimationDone(t){this._animationDone.next(t),this._isAnimating=!1}_onAnimationStart(t){this._isAnimating=!0,"enter"===t.toState&&0===this._keyManager.activeItemIndex&&(t.element.scrollTop=0)}_updateDirectDescendants(){this._allItems.changes.pipe(lo(this._allItems)).subscribe(t=>{this._directDescendantItems.reset(t.filter(i=>i._parentMenu===this)),this._directDescendantItems.notifyOnChanges()})}static#e=this.\u0275fac=function(i){return new(i||n)(T(Ye),T(Ce),T(IH),T(Ki))};static#t=this.\u0275dir=le({type:n,contentQueries:function(i,r,o){if(1&i&&(Zi(o,Hae,5),Zi(o,O0,5),Zi(o,O0,4)),2&i){let s;Tt(s=Dt())&&(r.lazyContent=s.first),Tt(s=Dt())&&(r._allItems=s),Tt(s=Dt())&&(r.items=s)}},viewQuery:function(i,r){if(1&i&&ii(qi,5),2&i){let o;Tt(o=Dt())&&(r.templateRef=o.first)}},inputs:{backdropClass:"backdropClass",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],xPosition:"xPosition",yPosition:"yPosition",overlapTrigger:"overlapTrigger",hasBackdrop:"hasBackdrop",panelClass:["class","panelClass"],classList:"classList"},outputs:{closed:"closed",close:"close"}})}return n})(),qae=(()=>{class n extends Ig{constructor(t,i,r,o){super(t,i,r,o),this._elevationPrefix="mat-elevation-z",this._baseElevation=8}static#e=this.\u0275fac=function(i){return new(i||n)(T(Ye),T(Ce),T(IH),T(Ki))};static#t=this.\u0275cmp=Ft({type:n,selectors:[["mat-menu"]],hostAttrs:["ngSkipHydration",""],hostVars:3,hostBindings:function(i,r){2&i&&Xt("aria-label",null)("aria-labelledby",null)("aria-describedby",null)},exportAs:["matMenu"],features:[Wt([{provide:uS,useExisting:n}]),Le],ngContentSelectors:jae,decls:1,vars:0,consts:[["tabindex","-1","role","menu",1,"mat-mdc-menu-panel","mat-mdc-elevation-specific",3,"id","ngClass","keydown","click"],[1,"mat-mdc-menu-content"]],template:function(i,r){1&i&&(Mr(),xt(0,Uae,3,6,"ng-template"))},dependencies:[Ax],styles:['mat-menu{display:none}.mat-mdc-menu-content{margin:0;padding:8px 0;list-style-type:none}.mat-mdc-menu-content:focus{outline:none}.mat-mdc-menu-content,.mat-mdc-menu-content .mat-mdc-menu-item .mat-mdc-menu-item-text{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;white-space:normal;font-family:var(--mat-menu-item-label-text-font);line-height:var(--mat-menu-item-label-text-line-height);font-size:var(--mat-menu-item-label-text-size);letter-spacing:var(--mat-menu-item-label-text-tracking);font-weight:var(--mat-menu-item-label-text-weight)}.mat-mdc-menu-panel{--mat-menu-container-shape:4px;min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;box-sizing:border-box;outline:0;border-radius:var(--mat-menu-container-shape);background-color:var(--mat-menu-container-color);will-change:transform,opacity}.mat-mdc-menu-panel.ng-animating{pointer-events:none}.cdk-high-contrast-active .mat-mdc-menu-panel{outline:solid 1px}.mat-mdc-menu-item{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;padding-left:16px;padding-right:16px;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);cursor:pointer;width:100%;text-align:left;box-sizing:border-box;color:inherit;font-size:inherit;background:none;text-decoration:none;margin:0;align-items:center;min-height:48px}.mat-mdc-menu-item:focus{outline:none}[dir=rtl] .mat-mdc-menu-item,.mat-mdc-menu-item[dir=rtl]{padding-left:16px;padding-right:16px}.mat-mdc-menu-item::-moz-focus-inner{border:0}.mat-mdc-menu-item,.mat-mdc-menu-item:visited,.mat-mdc-menu-item:link{color:var(--mat-menu-item-label-text-color)}.mat-mdc-menu-item .mat-icon-no-color,.mat-mdc-menu-item .mat-mdc-menu-submenu-icon{color:var(--mat-menu-item-icon-color)}.mat-mdc-menu-item[disabled]{cursor:default;opacity:.38}.mat-mdc-menu-item[disabled]::after{display:block;position:absolute;content:"";top:0;left:0;bottom:0;right:0}.mat-mdc-menu-item .mat-icon{margin-right:16px}[dir=rtl] .mat-mdc-menu-item{text-align:right}[dir=rtl] .mat-mdc-menu-item .mat-icon{margin-right:0;margin-left:16px}.mat-mdc-menu-item.mat-mdc-menu-item-submenu-trigger{padding-right:32px}[dir=rtl] .mat-mdc-menu-item.mat-mdc-menu-item-submenu-trigger{padding-right:16px;padding-left:32px}.mat-mdc-menu-item:not([disabled]):hover{background-color:var(--mat-menu-item-hover-state-layer-color)}.mat-mdc-menu-item:not([disabled]).cdk-program-focused,.mat-mdc-menu-item:not([disabled]).cdk-keyboard-focused,.mat-mdc-menu-item:not([disabled]).mat-mdc-menu-item-highlighted{background-color:var(--mat-menu-item-focus-state-layer-color)}.cdk-high-contrast-active .mat-mdc-menu-item{margin-top:1px}.mat-mdc-menu-submenu-icon{position:absolute;top:50%;right:16px;transform:translateY(-50%);width:5px;height:10px;fill:currentColor}[dir=rtl] .mat-mdc-menu-submenu-icon{right:auto;left:16px;transform:translateY(-50%) scaleX(-1)}.cdk-high-contrast-active .mat-mdc-menu-submenu-icon{fill:CanvasText}.mat-mdc-menu-item .mat-mdc-menu-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}'],encapsulation:2,data:{animation:[N0.transformMenu,N0.fadeInItems]},changeDetection:0})}return n})();const xH=new G("mat-menu-scroll-strategy"),Zae={provide:xH,deps:[As],useFactory:function Gae(n){return()=>n.scrollStrategies.reposition()}},CH=Cc({passive:!0});let Kae=(()=>{class n{get _deprecatedMatMenuTriggerFor(){return this.menu}set _deprecatedMatMenuTriggerFor(t){this.menu=t}get menu(){return this._menu}set menu(t){t!==this._menu&&(this._menu=t,this._menuCloseSubscription.unsubscribe(),t&&(this._menuCloseSubscription=t.close.subscribe(i=>{this._destroyMenu(i),("click"===i||"tab"===i)&&this._parentMaterialMenu&&this._parentMaterialMenu.closed.emit(i)})),this._menuItemInstance?._setTriggersSubmenu(this.triggersSubmenu()))}constructor(t,i,r,o,s,a,l,c,h){this._overlay=t,this._element=i,this._viewContainerRef=r,this._menuItemInstance=a,this._dir=l,this._focusMonitor=c,this._ngZone=h,this._overlayRef=null,this._menuOpen=!1,this._closingActionsSubscription=We.EMPTY,this._hoverSubscription=We.EMPTY,this._menuCloseSubscription=We.EMPTY,this._changeDetectorRef=he(Ki),this._handleTouchStart=p=>{sC(p)||(this._openedBy="touch")},this._openedBy=void 0,this.restoreFocus=!0,this.menuOpened=new lt,this.onMenuOpen=this.menuOpened,this.menuClosed=new lt,this.onMenuClose=this.menuClosed,this._scrollStrategy=o,this._parentMaterialMenu=s instanceof Ig?s:void 0,i.nativeElement.addEventListener("touchstart",this._handleTouchStart,CH)}ngAfterContentInit(){this._handleHover()}ngOnDestroy(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=null),this._element.nativeElement.removeEventListener("touchstart",this._handleTouchStart,CH),this._menuCloseSubscription.unsubscribe(),this._closingActionsSubscription.unsubscribe(),this._hoverSubscription.unsubscribe()}get menuOpen(){return this._menuOpen}get dir(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}triggersSubmenu(){return!!(this._menuItemInstance&&this._parentMaterialMenu&&this.menu)}toggleMenu(){return this._menuOpen?this.closeMenu():this.openMenu()}openMenu(){const t=this.menu;if(this._menuOpen||!t)return;const i=this._createOverlay(t),r=i.getConfig(),o=r.positionStrategy;this._setPosition(t,o),r.hasBackdrop=null==t.hasBackdrop?!this.triggersSubmenu():t.hasBackdrop,i.attach(this._getPortal(t)),t.lazyContent&&t.lazyContent.attach(this.menuData),this._closingActionsSubscription=this._menuClosingActions().subscribe(()=>this.closeMenu()),this._initMenu(t),t instanceof Ig&&(t._startAnimation(),t._directDescendantItems.changes.pipe(Yi(t.close)).subscribe(()=>{o.withLockedPosition(!1).reapplyLastPosition(),o.withLockedPosition(!0)}))}closeMenu(){this.menu?.close.emit()}focus(t,i){this._focusMonitor&&t?this._focusMonitor.focusVia(this._element,t,i):this._element.nativeElement.focus(i)}updatePosition(){this._overlayRef?.updatePosition()}_destroyMenu(t){if(!this._overlayRef||!this.menuOpen)return;const i=this.menu;this._closingActionsSubscription.unsubscribe(),this._overlayRef.detach(),this.restoreFocus&&("keydown"===t||!this._openedBy||!this.triggersSubmenu())&&this.focus(this._openedBy),this._openedBy=void 0,i instanceof Ig?(i._resetAnimation(),i.lazyContent?i._animationDone.pipe(_n(r=>"void"===r.toState),fi(1),Yi(i.lazyContent._attached)).subscribe({next:()=>i.lazyContent.detach(),complete:()=>this._setIsMenuOpen(!1)}):this._setIsMenuOpen(!1)):(this._setIsMenuOpen(!1),i?.lazyContent?.detach())}_initMenu(t){t.parentMenu=this.triggersSubmenu()?this._parentMaterialMenu:void 0,t.direction=this.dir,this._setMenuElevation(t),t.focusFirstItem(this._openedBy||"program"),this._setIsMenuOpen(!0)}_setMenuElevation(t){if(t.setElevation){let i=0,r=t.parentMenu;for(;r;)i++,r=r.parentMenu;t.setElevation(i)}}_setIsMenuOpen(t){t!==this._menuOpen&&(this._menuOpen=t,this._menuOpen?this.menuOpened.emit():this.menuClosed.emit(),this.triggersSubmenu()&&this._menuItemInstance._setHighlighted(t),this._changeDetectorRef.markForCheck())}_createOverlay(t){if(!this._overlayRef){const i=this._getOverlayConfig(t);this._subscribeToPositions(t,i.positionStrategy),this._overlayRef=this._overlay.create(i),this._overlayRef.keydownEvents().subscribe()}return this._overlayRef}_getOverlayConfig(t){return new Zv({positionStrategy:this._overlay.position().flexibleConnectedTo(this._element).withLockedPosition().withGrowAfterOpen().withTransformOriginOn(".mat-menu-panel, .mat-mdc-menu-panel"),backdropClass:t.backdropClass||"cdk-overlay-transparent-backdrop",panelClass:t.overlayPanelClass,scrollStrategy:this._scrollStrategy(),direction:this._dir})}_subscribeToPositions(t,i){t.setPositionClasses&&i.positionChanges.subscribe(r=>{const o="start"===r.connectionPair.overlayX?"after":"before",s="top"===r.connectionPair.overlayY?"below":"above";this._ngZone?this._ngZone.run(()=>t.setPositionClasses(o,s)):t.setPositionClasses(o,s)})}_setPosition(t,i){let[r,o]="before"===t.xPosition?["end","start"]:["start","end"],[s,a]="above"===t.yPosition?["bottom","top"]:["top","bottom"],[l,c]=[s,a],[h,p]=[r,o],g=0;if(this.triggersSubmenu()){if(p=r="before"===t.xPosition?"start":"end",o=h="end"===r?"start":"end",this._parentMaterialMenu){if(null==this._parentInnerPadding){const y=this._parentMaterialMenu.items.first;this._parentInnerPadding=y?y._getHostElement().offsetTop:0}g="bottom"===s?this._parentInnerPadding:-this._parentInnerPadding}}else t.overlapTrigger||(l="top"===s?"bottom":"top",c="top"===a?"bottom":"top");i.withPositions([{originX:r,originY:l,overlayX:h,overlayY:s,offsetY:g},{originX:o,originY:l,overlayX:p,overlayY:s,offsetY:g},{originX:r,originY:c,overlayX:h,overlayY:a,offsetY:-g},{originX:o,originY:c,overlayX:p,overlayY:a,offsetY:-g}])}_menuClosingActions(){const t=this._overlayRef.backdropClick(),i=this._overlayRef.detachments();return I(t,this._parentMaterialMenu?this._parentMaterialMenu.closed:A(),this._parentMaterialMenu?this._parentMaterialMenu._hovered().pipe(_n(s=>s!==this._menuItemInstance),_n(()=>this._menuOpen)):A(),i)}_handleMousedown(t){oC(t)||(this._openedBy=0===t.button?"mouse":void 0,this.triggersSubmenu()&&t.preventDefault())}_handleKeydown(t){const i=t.keyCode;(13===i||32===i)&&(this._openedBy="keyboard"),this.triggersSubmenu()&&(39===i&&"ltr"===this.dir||37===i&&"rtl"===this.dir)&&(this._openedBy="keyboard",this.openMenu())}_handleClick(t){this.triggersSubmenu()?(t.stopPropagation(),this.openMenu()):this.toggleMenu()}_handleHover(){!this.triggersSubmenu()||!this._parentMaterialMenu||(this._hoverSubscription=this._parentMaterialMenu._hovered().pipe(_n(t=>t===this._menuItemInstance&&!t.disabled),wH(0,qC)).subscribe(()=>{this._openedBy="mouse",this.menu instanceof Ig&&this.menu._isAnimating?this.menu._animationDone.pipe(fi(1),wH(0,qC),Yi(this._parentMaterialMenu._hovered())).subscribe(()=>this.openMenu()):this.openMenu()}))}_getPortal(t){return(!this._portal||this._portal.templateRef!==t.templateRef)&&(this._portal=new Gd(t.templateRef,this._viewContainerRef)),this._portal}static#e=this.\u0275fac=function(i){return new(i||n)(T(As),T(Ye),T(Gi),T(xH),T(uS,8),T(O0,10),T(Cs,8),T(Ac),T(Ce))};static#t=this.\u0275dir=le({type:n,hostVars:3,hostBindings:function(i,r){1&i&&Ct("click",function(s){return r._handleClick(s)})("mousedown",function(s){return r._handleMousedown(s)})("keydown",function(s){return r._handleKeydown(s)}),2&i&&Xt("aria-haspopup",r.menu?"menu":null)("aria-expanded",r.menuOpen)("aria-controls",r.menuOpen?r.menu.panelId:null)},inputs:{_deprecatedMatMenuTriggerFor:["mat-menu-trigger-for","_deprecatedMatMenuTriggerFor"],menu:["matMenuTriggerFor","menu"],menuData:["matMenuTriggerData","menuData"],restoreFocus:["matMenuTriggerRestoreFocus","restoreFocus"]},outputs:{menuOpened:"menuOpened",onMenuOpen:"onMenuOpen",menuClosed:"menuClosed",onMenuClose:"onMenuClose"}})}return n})(),Yae=(()=>{class n extends Kae{static#e=this.\u0275fac=function(){let t;return function(r){return(t||(t=An(n)))(r||n)}}();static#t=this.\u0275dir=le({type:n,selectors:[["","mat-menu-trigger-for",""],["","matMenuTriggerFor",""]],hostAttrs:[1,"mat-mdc-menu-trigger"],exportAs:["matMenuTrigger"],features:[Le]})}return n})(),Qae=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=at({type:n});static#n=this.\u0275inj=mt({providers:[Zae],imports:[Ld,cC,Gn,Yv,GC,Gn]})}return n})();function dS(){return X((n,e)=>{let t=null;n._refCount++;const i=fe(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const r=n._connection,o=t;t=null,r&&(!o||r===o)&&r.unsubscribe(),e.unsubscribe()});n.subscribe(i),i.closed||(t=n.connect())})}class TH extends Ke{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,ee(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new We;const t=this.getSubject();e.add(this.source.subscribe(fe(t,void 0,()=>{this._teardown(),t.complete()},i=>{this._teardown(),t.error(i)},()=>this._teardown()))),e.closed&&(this._connection=null,e=We.EMPTY)}return e}refCount(){return dS()(this)}}function hS(n){return n<=0?()=>In:X((e,t)=>{let i=[];e.subscribe(fe(t,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)t.next(r);t.complete()},void 0,()=>{i=null}))})}const ut="primary",xg=Symbol("RouteTitle");class ele{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Hh(n){return new ele(n)}function tle(n,e,t){const i=t.path.split("/");if(i.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||i.length<n.length))return null;const r={};for(let o=0;o<i.length;o++){const s=i[o],a=n[o];if(s.startsWith(":"))r[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function Bs(n,e){const t=n?Object.keys(n):void 0,i=e?Object.keys(e):void 0;if(!t||!i||t.length!=i.length)return!1;let r;for(let o=0;o<t.length;o++)if(r=t[o],!DH(n[r],e[r]))return!1;return!0}function DH(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),i=[...e].sort();return t.every((r,o)=>i[o]===r)}return n===e}function AH(n){return n.length>0?n[n.length-1]:null}function Vl(n){return function Xae(n){return!!n&&(n instanceof Ke||C(n.lift)&&C(n.subscribe))}(n)?n:Tp(n)?b(Promise.resolve(n)):A(n)}const ile={exact:function RH(n,e,t){if(!su(n.segments,e.segments)||!F0(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const i in e.children)if(!n.children[i]||!RH(n.children[i],e.children[i],t))return!1;return!0},subset:PH},SH={exact:function rle(n,e){return Bs(n,e)},subset:function ole(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>DH(n[t],e[t]))},ignored:()=>!0};function MH(n,e,t){return ile[t.paths](n.root,e.root,t.matrixParams)&&SH[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function PH(n,e,t){return kH(n,e,e.segments,t)}function kH(n,e,t,i){if(n.segments.length>t.length){const r=n.segments.slice(0,t.length);return!(!su(r,t)||e.hasChildren()||!F0(r,t,i))}if(n.segments.length===t.length){if(!su(n.segments,t)||!F0(n.segments,t,i))return!1;for(const r in e.children)if(!n.children[r]||!PH(n.children[r],e.children[r],i))return!1;return!0}{const r=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!!(su(n.segments,r)&&F0(n.segments,r,i)&&n.children[ut])&&kH(n.children[ut],e,o,i)}}function F0(n,e,t){return e.every((i,r)=>SH[t](n[r].parameters,i.parameters))}class $h{constructor(e=new nn([],{}),t={},i=null){this.root=e,this.queryParams=t,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Hh(this.queryParams)),this._queryParamMap}toString(){return lle.serialize(this)}}class nn{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Object.values(t).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return L0(this)}}class Cg{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Hh(this.parameters)),this._parameterMap}toString(){return FH(this)}}function su(n,e){return n.length===e.length&&n.every((t,i)=>t.path===e[i].path)}let Tg=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ce({token:n,factory:function(){return new fS},providedIn:"root"})}return n})();class fS{parse(e){const t=new vle(e);return new $h(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${Dg(e.root,!0)}`,i=function dle(n){const e=Object.keys(n).map(t=>{const i=n[t];return Array.isArray(i)?i.map(r=>`${V0(t)}=${V0(r)}`).join("&"):`${V0(t)}=${V0(i)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams),r="string"==typeof e.fragment?`#${function cle(n){return encodeURI(n)}(e.fragment)}`:"";return`${t}${i}${r}`}}const lle=new fS;function L0(n){return n.segments.map(e=>FH(e)).join("/")}function Dg(n,e){if(!n.hasChildren())return L0(n);if(e){const t=n.children[ut]?Dg(n.children[ut],!1):"",i=[];return Object.entries(n.children).forEach(([r,o])=>{r!==ut&&i.push(`${r}:${Dg(o,!1)}`)}),i.length>0?`${t}(${i.join("//")})`:t}{const t=function ale(n,e){let t=[];return Object.entries(n.children).forEach(([i,r])=>{i===ut&&(t=t.concat(e(r,i)))}),Object.entries(n.children).forEach(([i,r])=>{i!==ut&&(t=t.concat(e(r,i)))}),t}(n,(i,r)=>r===ut?[Dg(n.children[ut],!1)]:[`${r}:${Dg(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[ut]?`${L0(n)}/${t[0]}`:`${L0(n)}/(${t.join("//")})`}}function OH(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function V0(n){return OH(n).replace(/%3B/gi,";")}function pS(n){return OH(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function B0(n){return decodeURIComponent(n)}function NH(n){return B0(n.replace(/\+/g,"%20"))}function FH(n){return`${pS(n.path)}${function ule(n){return Object.keys(n).map(e=>`;${pS(e)}=${pS(n[e])}`).join("")}(n.parameters)}`}const hle=/^[^\/()?;#]+/;function mS(n){const e=n.match(hle);return e?e[0]:""}const fle=/^[^\/()?;=#]+/,mle=/^[^=?&#]+/,_le=/^[^&#]+/;class vle{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new nn([],{}):new nn([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(i[ut]=new nn(e,t)),i}parseSegment(){const e=mS(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new V(4009,!1);return this.capture(e),new Cg(B0(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=function ple(n){const e=n.match(fle);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const r=mS(this.remaining);r&&(i=r,this.capture(i))}e[B0(t)]=B0(i)}parseQueryParam(e){const t=function gle(n){const e=n.match(mle);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const s=function yle(n){const e=n.match(_le);return e?e[0]:""}(this.remaining);s&&(i=s,this.capture(i))}const r=NH(t),o=NH(i);if(e.hasOwnProperty(r)){let s=e[r];Array.isArray(s)||(s=[s],e[r]=s),s.push(o)}else e[r]=o}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=mS(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new V(4010,!1);let o;i.indexOf(":")>-1?(o=i.slice(0,i.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=ut);const s=this.parseChildren();t[o]=1===Object.keys(s).length?s[ut]:new nn([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new V(4011,!1)}}function LH(n){return n.segments.length>0?new nn([],{[ut]:n}):n}function VH(n){const e={};for(const i of Object.keys(n.children)){const o=VH(n.children[i]);if(i===ut&&0===o.segments.length&&o.hasChildren())for(const[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[i]=o)}return function ble(n){if(1===n.numberOfChildren&&n.children[ut]){const e=n.children[ut];return new nn(n.segments.concat(e.segments),e.children)}return n}(new nn(n.segments,e))}function au(n){return n instanceof $h}function BH(n){let e;const r=LH(function t(o){const s={};for(const l of o.children){const c=t(l);s[l.outlet]=c}const a=new nn(o.url,s);return o===n&&(e=a),a}(n.root));return e??r}function UH(n,e,t,i){let r=n;for(;r.parent;)r=r.parent;if(0===e.length)return gS(r,r,r,t,i);const o=function wle(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new zH(!0,0,n);let e=0,t=!1;const i=n.reduce((r,o,s)=>{if("object"==typeof o&&null!=o){if(o.outlets){const a={};return Object.entries(o.outlets).forEach(([l,c])=>{a[l]="string"==typeof c?c.split("/"):c}),[...r,{outlets:a}]}if(o.segmentPath)return[...r,o.segmentPath]}return"string"!=typeof o?[...r,o]:0===s?(o.split("/").forEach((a,l)=>{0==l&&"."===a||(0==l&&""===a?t=!0:".."===a?e++:""!=a&&r.push(a))}),r):[...r,o]},[]);return new zH(t,e,i)}(e);if(o.toRoot())return gS(r,r,new nn([],{}),t,i);const s=function Ile(n,e,t){if(n.isAbsolute)return new j0(e,!0,0);if(!t)return new j0(e,!1,NaN);if(null===t.parent)return new j0(t,!0,0);const i=U0(n.commands[0])?0:1;return function xle(n,e,t){let i=n,r=e,o=t;for(;o>r;){if(o-=r,i=i.parent,!i)throw new V(4005,!1);r=i.segments.length}return new j0(i,!1,r-o)}(t,t.segments.length-1+i,n.numberOfDoubleDots)}(o,r,n),a=s.processChildren?Sg(s.segmentGroup,s.index,o.commands):HH(s.segmentGroup,s.index,o.commands);return gS(r,s.segmentGroup,a,t,i)}function U0(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Ag(n){return"object"==typeof n&&null!=n&&n.outlets}function gS(n,e,t,i,r){let s,o={};i&&Object.entries(i).forEach(([l,c])=>{o[l]=Array.isArray(c)?c.map(h=>`${h}`):`${c}`}),s=n===e?t:jH(n,e,t);const a=LH(VH(s));return new $h(a,o,r)}function jH(n,e,t){const i={};return Object.entries(n.children).forEach(([r,o])=>{i[r]=o===e?t:jH(o,e,t)}),new nn(n.segments,i)}class zH{constructor(e,t,i){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=i,e&&i.length>0&&U0(i[0]))throw new V(4003,!1);const r=i.find(Ag);if(r&&r!==AH(i))throw new V(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class j0{constructor(e,t,i){this.segmentGroup=e,this.processChildren=t,this.index=i}}function HH(n,e,t){if(n||(n=new nn([],{})),0===n.segments.length&&n.hasChildren())return Sg(n,e,t);const i=function Tle(n,e,t){let i=0,r=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=t.length)return o;const s=n.segments[r],a=t[i];if(Ag(a))break;const l=`${a}`,c=i<t.length-1?t[i+1]:null;if(r>0&&void 0===l)break;if(l&&c&&"object"==typeof c&&void 0===c.outlets){if(!WH(l,c,s))return o;i+=2}else{if(!WH(l,{},s))return o;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,e,t),r=t.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const o=new nn(n.segments.slice(0,i.pathIndex),{});return o.children[ut]=new nn(n.segments.slice(i.pathIndex),n.children),Sg(o,0,r)}return i.match&&0===r.length?new nn(n.segments,{}):i.match&&!n.hasChildren()?_S(n,e,t):i.match?Sg(n,0,r):_S(n,e,t)}function Sg(n,e,t){if(0===t.length)return new nn(n.segments,{});{const i=function Cle(n){return Ag(n[0])?n[0].outlets:{[ut]:n}}(t),r={};if(Object.keys(i).some(o=>o!==ut)&&n.children[ut]&&1===n.numberOfChildren&&0===n.children[ut].segments.length){const o=Sg(n.children[ut],e,t);return new nn(n.segments,o.children)}return Object.entries(i).forEach(([o,s])=>{"string"==typeof s&&(s=[s]),null!==s&&(r[o]=HH(n.children[o],e,s))}),Object.entries(n.children).forEach(([o,s])=>{void 0===i[o]&&(r[o]=s)}),new nn(n.segments,r)}}function _S(n,e,t){const i=n.segments.slice(0,e);let r=0;for(;r<t.length;){const o=t[r];if(Ag(o)){const l=Dle(o.outlets);return new nn(i,l)}if(0===r&&U0(t[0])){i.push(new Cg(n.segments[e].path,$H(t[0]))),r++;continue}const s=Ag(o)?o.outlets[ut]:`${o}`,a=r<t.length-1?t[r+1]:null;s&&a&&U0(a)?(i.push(new Cg(s,$H(a))),r+=2):(i.push(new Cg(s,{})),r++)}return new nn(i,{})}function Dle(n){const e={};return Object.entries(n).forEach(([t,i])=>{"string"==typeof i&&(i=[i]),null!==i&&(e[t]=_S(new nn([],{}),0,i))}),e}function $H(n){const e={};return Object.entries(n).forEach(([t,i])=>e[t]=`${i}`),e}function WH(n,e,t){return n==t.path&&Bs(e,t.parameters)}const Mg="imperative";class Us{constructor(e,t){this.id=e,this.url=t}}class z0 extends Us{constructor(e,t,i="imperative",r=null){super(e,t),this.type=0,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Bl extends Us{constructor(e,t,i){super(e,t),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Rg extends Us{constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Wh extends Us{constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r,this.type=16}}class H0 extends Us{constructor(e,t,i,r){super(e,t),this.error=i,this.target=r,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class qH extends Us{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ale extends Us{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Sle extends Us{constructor(e,t,i,r,o){super(e,t),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=o,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Mle extends Us{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Rle extends Us{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ple{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class kle{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Ole{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Nle{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Fle{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Lle{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class GH{constructor(e,t,i){this.routerEvent=e,this.position=t,this.anchor=i,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class yS{}class vS{constructor(e){this.url=e}}class Vle{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Pg,this.attachRef=null}}let Pg=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,i){const r=this.getOrCreateContext(t);r.outlet=i,this.contexts.set(t,r)}onChildOutletDestroyed(t){const i=this.getContext(t);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let i=this.getContext(t);return i||(i=new Vle,this.contexts.set(t,i)),i}getContext(t){return this.contexts.get(t)||null}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class ZH{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=bS(e,this._root);return t?t.children.map(i=>i.value):[]}firstChild(e){const t=bS(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=ES(e,this._root);return t.length<2?[]:t[t.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return ES(e,this._root).map(t=>t.value)}}function bS(n,e){if(n===e.value)return e;for(const t of e.children){const i=bS(n,t);if(i)return i}return null}function ES(n,e){if(n===e.value)return[e];for(const t of e.children){const i=ES(n,t);if(i.length)return i.unshift(e),i}return[]}class Ta{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function qh(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class KH extends ZH{constructor(e,t){super(e),this.snapshot=t,wS(this,e)}toString(){return this.snapshot.toString()}}function YH(n,e){const t=function Ble(n,e){const s=new $0([],{},{},"",{},ut,e,null,{});return new XH("",new Ta(s,[]))}(0,e),i=new v([new Cg("",{})]),r=new v({}),o=new v({}),s=new v({}),a=new v(""),l=new Gh(i,r,s,a,o,ut,e,t.root);return l.snapshot=t.root,new KH(new Ta(l,[]),t)}class Gh{constructor(e,t,i,r,o,s,a,l){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=i,this.fragmentSubject=r,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(de(c=>c[xg]))??A(void 0),this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(de(e=>Hh(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(de(e=>Hh(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function QH(n,e="emptyOnly"){const t=n.pathFromRoot;let i=0;if("always"!==e)for(i=t.length-1;i>=1;){const r=t[i],o=t[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(o.component)break;i--}}return function Ule(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(i))}class $0{get title(){return this.data?.[xg]}constructor(e,t,i,r,o,s,a,l,c){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=s,this.component=a,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Hh(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Hh(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class XH extends ZH{constructor(e,t){super(t),this.url=e,wS(this,t)}toString(){return JH(this._root)}}function wS(n,e){e.value._routerState=n,e.children.forEach(t=>wS(n,t))}function JH(n){const e=n.children.length>0?` { ${n.children.map(JH).join(", ")} } `:"";return`${n.value}${e}`}function IS(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Bs(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),Bs(e.params,t.params)||n.paramsSubject.next(t.params),function nle(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Bs(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.urlSubject.next(t.url),Bs(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function xS(n,e){const t=Bs(n.params,e.params)&&function sle(n,e){return su(n,e)&&n.every((t,i)=>Bs(t.parameters,e[i].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||xS(n.parent,e.parent))}let CS=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=ut,this.activateEvents=new lt,this.deactivateEvents=new lt,this.attachEvents=new lt,this.detachEvents=new lt,this.parentContexts=he(Pg),this.location=he(Gi),this.changeDetector=he(Ki),this.environmentInjector=he(ko),this.inputBinder=he(W0,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){const{firstChange:i,previousValue:r}=t.name;if(i)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new V(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new V(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new V(4012,!1);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,i){this.activated=t,this._activatedRoute=i,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,i){if(this.isActivated)throw new V(4013,!1);this._activatedRoute=t;const r=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new jle(t,a,r.injector);this.activated=r.createComponent(s,{index:r.length,injector:l,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=le({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[ji]})}return n})();class jle{constructor(e,t,i){this.route=e,this.childContexts=t,this.parent=i}get(e,t){return e===Gh?this.route:e===Pg?this.childContexts:this.parent.get(e,t)}}const W0=new G("");let e$=(()=>{class n{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){const{activatedRoute:i}=t,r=gv([i.queryParams,i.params,i.data]).pipe(Ee(([o,s,a],l)=>(a={...o,...s,...a},0===l?A(a):Promise.resolve(a)))).subscribe(o=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==i||null===i.component)return void this.unsubscribeFromRouteData(t);const s=function z9(n){const e=bt(n);if(!e)return null;const t=new Ep(e);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}(i.component);if(s)for(const{templateName:a}of s.inputs)t.activatedComponentRef.setInput(a,o[a]);else this.unsubscribeFromRouteData(t)});this.outletDataSubscriptions.set(t,r)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac})}return n})();function kg(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const i=t.value;i._futureSnapshot=e.value;const r=function Hle(n,e,t){return e.children.map(i=>{for(const r of t.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return kg(n,i,r);return kg(n,i)})}(n,e,t);return new Ta(i,r)}{if(n.shouldAttach(e.value)){const o=n.retrieve(e.value);if(null!==o){const s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>kg(n,a)),s}}const i=function $le(n){return new Gh(new v(n.url),new v(n.params),new v(n.queryParams),new v(n.fragment),new v(n.data),n.outlet,n.component,n)}(e.value),r=e.children.map(o=>kg(n,o));return new Ta(i,r)}}const TS="ngNavigationCancelingError";function t$(n,e){const{redirectTo:t,navigationBehaviorOptions:i}=au(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,r=n$(!1,0,e);return r.url=t,r.navigationBehaviorOptions=i,r}function n$(n,e,t){const i=new Error("NavigationCancelingError: "+(n||""));return i[TS]=!0,i.cancellationCode=e,t&&(i.url=t),i}function i$(n){return n&&n[TS]}let r$=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=Ft({type:n,selectors:[["ng-component"]],standalone:!0,features:[T1],decls:1,vars:0,template:function(i,r){1&i&&Lt(0,"router-outlet")},dependencies:[CS],encapsulation:2})}return n})();function DS(n){const e=n.children&&n.children.map(DS),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==ut&&(t.component=r$),t}function os(n){return n.outlet||ut}function Og(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class Xle{constructor(e,t,i,r,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=i,this.forwardEvent=r,this.inputBindingEnabled=o}activate(e){const t=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,i,e),IS(this.futureState.root),this.activateChildRoutes(t,i,e)}deactivateChildRoutes(e,t,i){const r=qh(t);e.children.forEach(o=>{const s=o.value.outlet;this.deactivateRoutes(o,r[s],i),delete r[s]}),Object.values(r).forEach(o=>{this.deactivateRouteAndItsChildren(o,i)})}deactivateRoutes(e,t,i){const r=e.value,o=t?t.value:null;if(r===o)if(r.component){const s=i.getContext(r.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,i);else o&&this.deactivateRouteAndItsChildren(t,i)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,o=qh(e);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],r);if(i&&i.outlet){const s=i.outlet.detach(),a=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,o=qh(e);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(e,t,i){const r=qh(t);e.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],i),this.forwardEvent(new Lle(o.value.snapshot))}),e.children.length&&this.forwardEvent(new Nle(e.value.snapshot))}activateRoutes(e,t,i){const r=e.value,o=t?t.value:null;if(IS(r),r===o)if(r.component){const s=i.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,i);else if(r.component){const s=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),IS(a.route.value),this.activateChildRoutes(e,null,s.children)}else{const a=Og(r.snapshot);s.attachRef=null,s.route=r,s.injector=a,s.outlet&&s.outlet.activateWith(r,s.injector),this.activateChildRoutes(e,null,s.children)}}else this.activateChildRoutes(e,null,i)}}class o${constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class q0{constructor(e,t){this.component=e,this.route=t}}function Jle(n,e,t){const i=n._root;return Ng(i,e?e._root:null,t,[i.value])}function Zh(n,e){const t=Symbol(),i=e.get(n,t);return i===t?"function"!=typeof n||function Kg(n){return null!==fu(n)}(n)?e.get(n):n:i}function Ng(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=qh(e);return n.children.forEach(s=>{(function tce(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=n.value,s=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const l=function nce(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!su(n.url,e.url);case"pathParamsOrQueryParamsChange":return!su(n.url,e.url)||!Bs(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!xS(n,e)||!Bs(n.queryParams,e.queryParams);default:return!xS(n,e)}}(s,o,o.routeConfig.runGuardsAndResolvers);l?r.canActivateChecks.push(new o$(i)):(o.data=s.data,o._resolvedData=s._resolvedData),Ng(n,e,o.component?a?a.children:null:t,i,r),l&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new q0(a.outlet.component,s))}else s&&Fg(e,a,r),r.canActivateChecks.push(new o$(i)),Ng(n,null,o.component?a?a.children:null:t,i,r)})(s,o[s.value.outlet],t,i.concat([s.value]),r),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Fg(a,t.getContext(s),r)),r}function Fg(n,e,t){const i=qh(n),r=n.value;Object.entries(i).forEach(([o,s])=>{Fg(s,r.component?e?e.children.getContext(o):null:e,t)}),t.canDeactivateChecks.push(new q0(r.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,r))}function Lg(n){return"function"==typeof n}function s$(n){return n instanceof sb||"EmptyError"===n?.name}const G0=Symbol("INITIAL_VALUE");function Kh(){return Ee(n=>gv(n.map(e=>e.pipe(fi(1),lo(G0)))).pipe(de(e=>{for(const t of e)if(!0!==t){if(t===G0)return G0;if(!1===t||t instanceof $h)return t}return!0}),_n(e=>e!==G0),fi(1)))}function a$(n){return function Qr(...n){return Xr(n)}(oi(e=>{if(au(e))throw t$(0,e)}),de(e=>!0===e))}class Z0{constructor(e){this.segmentGroup=e||null}}class l${constructor(e){this.urlTree=e}}function Yh(n){return zd(new Z0(n))}function c$(n){return zd(new l$(n))}class wce{constructor(e,t){this.urlSerializer=e,this.urlTree=t}noMatchError(e){return new V(4002,!1)}lineralizeSegments(e,t){let i=[],r=t.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return A(i);if(r.numberOfChildren>1||!r.children[ut])return zd(new V(4e3,!1));r=r.children[ut]}}applyRedirectCommands(e,t,i){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,i)}applyRedirectCreateUrlTree(e,t,i,r){const o=this.createSegmentGroup(e,t.root,i,r);return new $h(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const i={};return Object.entries(e).forEach(([r,o])=>{if("string"==typeof o&&o.startsWith(":")){const a=o.substring(1);i[r]=t[a]}else i[r]=o}),i}createSegmentGroup(e,t,i,r){const o=this.createSegments(e,t.segments,i,r);let s={};return Object.entries(t.children).forEach(([a,l])=>{s[a]=this.createSegmentGroup(e,l,i,r)}),new nn(o,s)}createSegments(e,t,i,r){return t.map(o=>o.path.startsWith(":")?this.findPosParam(e,o,r):this.findOrReturn(o,i))}findPosParam(e,t,i){const r=i[t.path.substring(1)];if(!r)throw new V(4001,!1);return r}findOrReturn(e,t){let i=0;for(const r of t){if(r.path===e.path)return t.splice(i),r;i++}return e}}const AS={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Ice(n,e,t,i,r){const o=SS(n,e,t);return o.matched?(i=function qle(n,e){return n.providers&&!n._injector&&(n._injector=UI(n.providers,e,`Route: ${n.path}`)),n._injector??e}(e,i),function vce(n,e,t,i){const r=e.canMatch;return r&&0!==r.length?A(r.map(s=>{const a=Zh(s,n);return Vl(function lce(n){return n&&Lg(n.canMatch)}(a)?a.canMatch(e,t):n.runInContext(()=>a(e,t)))})).pipe(Kh(),a$()):A(!0)}(i,e,t).pipe(de(s=>!0===s?o:{...AS}))):A(o)}function SS(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...AS}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const r=(e.matcher||tle)(t,n,e);if(!r)return{...AS};const o={};Object.entries(r.posParams??{}).forEach(([a,l])=>{o[a]=l.path});const s=r.consumed.length>0?{...o,...r.consumed[r.consumed.length-1].parameters}:o;return{matched:!0,consumedSegments:r.consumed,remainingSegments:t.slice(r.consumed.length),parameters:s,positionalParamSegments:r.posParams??{}}}function u$(n,e,t,i){return t.length>0&&function Tce(n,e,t){return t.some(i=>K0(n,e,i)&&os(i)!==ut)}(n,t,i)?{segmentGroup:new nn(e,Cce(i,new nn(t,n.children))),slicedSegments:[]}:0===t.length&&function Dce(n,e,t){return t.some(i=>K0(n,e,i))}(n,t,i)?{segmentGroup:new nn(n.segments,xce(n,0,t,i,n.children)),slicedSegments:t}:{segmentGroup:new nn(n.segments,n.children),slicedSegments:t}}function xce(n,e,t,i,r){const o={};for(const s of i)if(K0(n,t,s)&&!r[os(s)]){const a=new nn([],{});o[os(s)]=a}return{...r,...o}}function Cce(n,e){const t={};t[ut]=e;for(const i of n)if(""===i.path&&os(i)!==ut){const r=new nn([],{});t[os(i)]=r}return t}function K0(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}class Rce{constructor(e,t,i,r,o,s,a){this.injector=e,this.configLoader=t,this.rootComponentType=i,this.config=r,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.allowRedirects=!0,this.applyRedirects=new wce(this.urlSerializer,this.urlTree)}noMatchError(e){return new V(4002,!1)}recognize(){const e=u$(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,ut).pipe(ll(t=>{if(t instanceof l$)return this.allowRedirects=!1,this.urlTree=t.urlTree,this.match(t.urlTree);throw t instanceof Z0?this.noMatchError(t):t}),de(t=>{const i=new $0([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},ut,this.rootComponentType,null,{}),r=new Ta(i,t),o=new XH("",r),s=function Ele(n,e,t=null,i=null){return UH(BH(n),e,t,i)}(i,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(o._root),{state:o,tree:s}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e.root,ut).pipe(ll(i=>{throw i instanceof Z0?this.noMatchError(i):i}))}inheritParamsAndData(e){const t=e.value,i=QH(t,this.paramsInheritanceStrategy);t.params=Object.freeze(i.params),t.data=Object.freeze(i.data),e.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(e,t,i,r){return 0===i.segments.length&&i.hasChildren()?this.processChildren(e,t,i):this.processSegment(e,t,i,i.segments,r,!0)}processChildren(e,t,i){const r=[];for(const o of Object.keys(i.children))"primary"===o?r.unshift(o):r.push(o);return b(r).pipe(Hd(o=>{const s=i.children[o],a=function Yle(n,e){const t=n.filter(i=>os(i)===e);return t.push(...n.filter(i=>os(i)!==e)),t}(t,o);return this.processSegmentGroup(e,a,s,o)}),lb((o,s)=>(o.push(...s),o)),ab(null),function Jae(n,e){const t=arguments.length>=2;return i=>i.pipe(n?_n((r,o)=>n(r,o,i)):Vn,hS(1),t?ab(e):c2(()=>new sb))}(),Ut(o=>{if(null===o)return Yh(i);const s=d$(o);return function Pce(n){n.sort((e,t)=>e.value.outlet===ut?-1:t.value.outlet===ut?1:e.value.outlet.localeCompare(t.value.outlet))}(s),A(s)}))}processSegment(e,t,i,r,o,s){return b(t).pipe(Hd(a=>this.processSegmentAgainstRoute(a._injector??e,t,a,i,r,o,s).pipe(ll(l=>{if(l instanceof Z0)return A(null);throw l}))),ml(a=>!!a),ll(a=>{if(s$(a))return function Sce(n,e,t){return 0===e.length&&!n.children[t]}(i,r,o)?A([]):Yh(i);throw a}))}processSegmentAgainstRoute(e,t,i,r,o,s,a){return function Ace(n,e,t,i){return!!(os(n)===i||i!==ut&&K0(e,t,n))&&("**"===n.path||SS(e,n,t).matched)}(i,r,o,s)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,r,i,o,s,a):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,r,t,i,o,s):Yh(r):Yh(r)}expandSegmentAgainstRouteUsingRedirect(e,t,i,r,o,s){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,i,r,s):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,r,o,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,i,r){const o=this.applyRedirects.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?c$(o):this.applyRedirects.lineralizeSegments(i,o).pipe(Ut(s=>{const a=new nn(s,{});return this.processSegment(e,t,a,s,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,r,o,s){const{matched:a,consumedSegments:l,remainingSegments:c,positionalParamSegments:h}=SS(t,r,o);if(!a)return Yh(t);const p=this.applyRedirects.applyRedirectCommands(l,r.redirectTo,h);return r.redirectTo.startsWith("/")?c$(p):this.applyRedirects.lineralizeSegments(r,p).pipe(Ut(g=>this.processSegment(e,i,t,g.concat(c),s,!1)))}matchSegmentAgainstRoute(e,t,i,r,o,s){let a;if("**"===i.path){const l=r.length>0?AH(r).parameters:{};a=A({snapshot:new $0(r,l,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,h$(i),os(i),i.component??i._loadedComponent??null,i,f$(i)),consumedSegments:[],remainingSegments:[]}),t.children={}}else a=Ice(t,i,r,e).pipe(de(({matched:l,consumedSegments:c,remainingSegments:h,parameters:p})=>l?{snapshot:new $0(c,p,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,h$(i),os(i),i.component??i._loadedComponent??null,i,f$(i)),consumedSegments:c,remainingSegments:h}:null));return a.pipe(Ee(l=>null===l?Yh(t):this.getChildConfig(e=i._injector??e,i,r).pipe(Ee(({routes:c})=>{const h=i._loadedInjector??e,{snapshot:p,consumedSegments:g,remainingSegments:y}=l,{segmentGroup:w,slicedSegments:x}=u$(t,g,y,c);if(0===x.length&&w.hasChildren())return this.processChildren(h,c,w).pipe(de(L=>null===L?null:[new Ta(p,L)]));if(0===c.length&&0===x.length)return A([new Ta(p,[])]);const S=os(i)===o;return this.processSegment(h,c,w,x,S?ut:o,!0).pipe(de(L=>[new Ta(p,L)]))}))))}getChildConfig(e,t,i){return t.children?A({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?A({routes:t._loadedRoutes,injector:t._loadedInjector}):function yce(n,e,t,i){const r=e.canLoad;return void 0===r||0===r.length?A(!0):A(r.map(s=>{const a=Zh(s,n);return Vl(function rce(n){return n&&Lg(n.canLoad)}(a)?a.canLoad(e,t):n.runInContext(()=>a(e,t)))})).pipe(Kh(),a$())}(e,t,i).pipe(Ut(r=>r?this.configLoader.loadChildren(e,t).pipe(oi(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):function Ece(n){return zd(n$(!1,3))}())):A({routes:[],injector:e})}}function kce(n){const e=n.value.routeConfig;return e&&""===e.path}function d$(n){const e=[],t=new Set;for(const i of n){if(!kce(i)){e.push(i);continue}const r=e.find(o=>i.value.routeConfig===o.value.routeConfig);void 0!==r?(r.children.push(...i.children),t.add(r)):e.push(i)}for(const i of t){const r=d$(i.children);e.push(new Ta(i.value,r))}return e.filter(i=>!t.has(i))}function h$(n){return n.data||{}}function f$(n){return n.resolve||{}}function p$(n){return"string"==typeof n.title||null===n.title}function MS(n){return Ee(e=>{const t=n(e);return t?b(t).pipe(de(()=>e)):A(e)})}const Qh=new G("ROUTES");let RS=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=he(yO)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return A(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const i=Vl(t.loadComponent()).pipe(de(m$),oi(o=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=o}),xv(()=>{this.componentLoaders.delete(t)})),r=new TH(i,()=>new F).pipe(dS());return this.componentLoaders.set(t,r),r}loadChildren(t,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return A({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const o=function Uce(n,e,t,i){return Vl(n.loadChildren()).pipe(de(m$),Ut(r=>r instanceof x1||Array.isArray(r)?A(r):b(e.compileModuleAsync(r))),de(r=>{i&&i(n);let o,s,a=!1;return Array.isArray(r)?(s=r,!0):(o=r.create(t).injector,s=o.get(Qh,[],{optional:!0,self:!0}).flat()),{routes:s.map(DS),injector:o}}))}(i,this.compiler,t,this.onLoadEndListener).pipe(xv(()=>{this.childrenLoaders.delete(i)})),s=new TH(o,()=>new F).pipe(dS());return this.childrenLoaders.set(i,s),s}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function m$(n){return function jce(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let Y0=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new F,this.transitionAbortSubject=new F,this.configLoader=he(RS),this.environmentInjector=he(ko),this.urlSerializer=he(Tg),this.rootContexts=he(Pg),this.inputBindingEnabled=null!==he(W0,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>A(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=r=>this.events.next(new kle(r)),this.configLoader.onLoadStartListener=r=>this.events.next(new Ple(r))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const i=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:i})}setupNavigations(t,i,r){return this.transitions=new v({id:0,currentUrlTree:i,currentRawUrl:i,currentBrowserUrl:i,extractedUrl:t.urlHandlingStrategy.extract(i),urlAfterRedirects:t.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Mg,restoredState:null,currentSnapshot:r.snapshot,targetSnapshot:null,currentRouterState:r,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(_n(o=>0!==o.id),de(o=>({...o,extractedUrl:t.urlHandlingStrategy.extract(o.rawUrl)})),Ee(o=>{this.currentTransition=o;let s=!1,a=!1;return A(o).pipe(oi(l=>{this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Ee(l=>{const c=l.currentBrowserUrl.toString(),h=!t.navigated||l.extractedUrl.toString()!==c||c!==l.currentUrlTree.toString();if(!h&&"reload"!==(l.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const g="";return this.events.next(new Wh(l.id,this.urlSerializer.serialize(l.rawUrl),g,0)),l.resolve(null),In}if(t.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return A(l).pipe(Ee(g=>{const y=this.transitions?.getValue();return this.events.next(new z0(g.id,this.urlSerializer.serialize(g.extractedUrl),g.source,g.restoredState)),y!==this.transitions?.getValue()?In:Promise.resolve(g)}),function Oce(n,e,t,i,r,o){return Ut(s=>function Mce(n,e,t,i,r,o,s="emptyOnly"){return new Rce(n,e,t,i,r,s,o).recognize()}(n,e,t,i,s.extractedUrl,r,o).pipe(de(({state:a,tree:l})=>({...s,targetSnapshot:a,urlAfterRedirects:l}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),oi(g=>{o.targetSnapshot=g.targetSnapshot,o.urlAfterRedirects=g.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:g.urlAfterRedirects};const y=new qH(g.id,this.urlSerializer.serialize(g.extractedUrl),this.urlSerializer.serialize(g.urlAfterRedirects),g.targetSnapshot);this.events.next(y)}));if(h&&t.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){const{id:g,extractedUrl:y,source:w,restoredState:x,extras:S}=l,L=new z0(g,this.urlSerializer.serialize(y),w,x);this.events.next(L);const R=YH(0,this.rootComponentType).snapshot;return this.currentTransition=o={...l,targetSnapshot:R,urlAfterRedirects:y,extras:{...S,skipLocationChange:!1,replaceUrl:!1}},A(o)}{const g="";return this.events.next(new Wh(l.id,this.urlSerializer.serialize(l.extractedUrl),g,1)),l.resolve(null),In}}),oi(l=>{const c=new Ale(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(c)}),de(l=>(this.currentTransition=o={...l,guards:Jle(l.targetSnapshot,l.currentSnapshot,this.rootContexts)},o)),function uce(n,e){return Ut(t=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return 0===s.length&&0===o.length?A({...t,guardsResult:!0}):function dce(n,e,t,i){return b(n).pipe(Ut(r=>function _ce(n,e,t,i,r){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return o&&0!==o.length?A(o.map(a=>{const l=Og(e)??r,c=Zh(a,l);return Vl(function ace(n){return n&&Lg(n.canDeactivate)}(c)?c.canDeactivate(n,e,t,i):l.runInContext(()=>c(n,e,t,i))).pipe(ml())})).pipe(Kh()):A(!0)}(r.component,r.route,t,e,i)),ml(r=>!0!==r,!0))}(s,i,r,n).pipe(Ut(a=>a&&function ice(n){return"boolean"==typeof n}(a)?function hce(n,e,t,i){return b(e).pipe(Hd(r=>qp(function pce(n,e){return null!==n&&e&&e(new Ole(n)),A(!0)}(r.route.parent,i),function fce(n,e){return null!==n&&e&&e(new Fle(n)),A(!0)}(r.route,i),function gce(n,e,t){const i=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>function ece(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(s)).filter(s=>null!==s).map(s=>Qv(()=>A(s.guards.map(l=>{const c=Og(s.node)??t,h=Zh(l,c);return Vl(function sce(n){return n&&Lg(n.canActivateChild)}(h)?h.canActivateChild(i,n):c.runInContext(()=>h(i,n))).pipe(ml())})).pipe(Kh())));return A(o).pipe(Kh())}(n,r.path,t),function mce(n,e,t){const i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||0===i.length)return A(!0);const r=i.map(o=>Qv(()=>{const s=Og(e)??t,a=Zh(o,s);return Vl(function oce(n){return n&&Lg(n.canActivate)}(a)?a.canActivate(e,n):s.runInContext(()=>a(e,n))).pipe(ml())}));return A(r).pipe(Kh())}(n,r.route,t))),ml(r=>!0!==r,!0))}(i,o,n,e):A(a)),de(a=>({...t,guardsResult:a})))})}(this.environmentInjector,l=>this.events.next(l)),oi(l=>{if(o.guardsResult=l.guardsResult,au(l.guardsResult))throw t$(0,l.guardsResult);const c=new Sle(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(c)}),_n(l=>!!l.guardsResult||(this.cancelNavigationTransition(l,"",3),!1)),MS(l=>{if(l.guards.canActivateChecks.length)return A(l).pipe(oi(c=>{const h=new Mle(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(h)}),Ee(c=>{let h=!1;return A(c).pipe(function Nce(n,e){return Ut(t=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=t;if(!r.length)return A(t);let o=0;return b(r).pipe(Hd(s=>function Fce(n,e,t,i){const r=n.routeConfig,o=n._resolve;return void 0!==r?.title&&!p$(r)&&(o[xg]=r.title),function Lce(n,e,t,i){const r=function Vce(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===r.length)return A({});const o={};return b(r).pipe(Ut(s=>function Bce(n,e,t,i){const r=Og(e)??i,o=Zh(n,r);return Vl(o.resolve?o.resolve(e,t):r.runInContext(()=>o(e,t)))}(n[s],e,t,i).pipe(ml(),oi(a=>{o[s]=a}))),hS(1),bH(o),ll(s=>s$(s)?In:zd(s)))}(o,n,e,i).pipe(de(s=>(n._resolvedData=s,n.data=QH(n,t).resolve,r&&p$(r)&&(n.data[xg]=r.title),null)))}(s.route,i,n,e)),oi(()=>o++),hS(1),Ut(s=>o===r.length?A(t):In))})}(t.paramsInheritanceStrategy,this.environmentInjector),oi({next:()=>h=!0,complete:()=>{h||this.cancelNavigationTransition(c,"",2)}}))}),oi(c=>{const h=new Rle(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(h)}))}),MS(l=>{const c=h=>{const p=[];h.routeConfig?.loadComponent&&!h.routeConfig._loadedComponent&&p.push(this.configLoader.loadComponent(h.routeConfig).pipe(oi(g=>{h.component=g}),de(()=>{})));for(const g of h.children)p.push(...c(g));return p};return gv(c(l.targetSnapshot.root)).pipe(ab(),fi(1))}),MS(()=>this.afterPreactivation()),de(l=>{const c=function zle(n,e,t){const i=kg(n,e._root,t?t._root:void 0);return new KH(i,e)}(t.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=o={...l,targetRouterState:c},o}),oi(()=>{this.events.next(new yS)}),((n,e,t,i)=>de(r=>(new Xle(e,r.targetRouterState,r.currentRouterState,t,i).activate(n),r)))(this.rootContexts,t.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),fi(1),oi({next:l=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Bl(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),t.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{s=!0}}),Yi(this.transitionAbortSubject.pipe(oi(l=>{throw l}))),xv(()=>{s||a||this.cancelNavigationTransition(o,"",1),this.currentNavigation?.id===o.id&&(this.currentNavigation=null)}),ll(l=>{if(a=!0,i$(l))this.events.next(new Rg(o.id,this.urlSerializer.serialize(o.extractedUrl),l.message,l.cancellationCode)),function Wle(n){return i$(n)&&au(n.url)}(l)?this.events.next(new vS(l.url)):o.resolve(!1);else{this.events.next(new H0(o.id,this.urlSerializer.serialize(o.extractedUrl),l,o.targetSnapshot??void 0));try{o.resolve(t.errorHandler(l))}catch(c){o.reject(c)}}return In}))}))}cancelNavigationTransition(t,i,r){const o=new Rg(t.id,this.urlSerializer.serialize(t.extractedUrl),i,r);this.events.next(o),t.resolve(!1)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function g$(n){return n!==Mg}let _$=(()=>{class n{buildTitle(t){let i,r=t.root;for(;void 0!==r;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(o=>o.outlet===ut);return i}getResolvedTitleForRoute(t){return t.data[xg]}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ce({token:n,factory:function(){return he(zce)},providedIn:"root"})}return n})(),zce=(()=>{class n extends _${constructor(t){super(),this.title=t}updateTitle(t){const i=this.buildTitle(t);void 0!==i&&this.title.setTitle(i)}static#e=this.\u0275fac=function(i){return new(i||n)(O(VN))};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Hce=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ce({token:n,factory:function(){return he(Wce)},providedIn:"root"})}return n})();class $ce{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let Wce=(()=>{class n extends $ce{static#e=this.\u0275fac=function(){let t;return function(r){return(t||(t=An(n)))(r||n)}}();static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const Q0=new G("",{providedIn:"root",factory:()=>({})});let qce=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ce({token:n,factory:function(){return he(Gce)},providedIn:"root"})}return n})(),Gce=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,i){return t}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Vg=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(Vg||{});function y$(n,e){n.events.pipe(_n(t=>t instanceof Bl||t instanceof Rg||t instanceof H0||t instanceof Wh),de(t=>t instanceof Bl||t instanceof Wh?Vg.COMPLETE:t instanceof Rg&&(0===t.code||1===t.code)?Vg.REDIRECTING:Vg.FAILED),_n(t=>t!==Vg.REDIRECTING),fi(1)).subscribe(()=>{e()})}function Zce(n){throw n}function Kce(n,e,t){return e.parse("/")}const Yce={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Qce={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Uo=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=he(gO),this.isNgZoneEnabled=!1,this._events=new F,this.options=he(Q0,{optional:!0})||{},this.pendingTasks=he(_O),this.errorHandler=this.options.errorHandler||Zce,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||Kce,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=he(qce),this.routeReuseStrategy=he(Hce),this.titleStrategy=he(_$),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=he(Qh,{optional:!0})?.flat()??[],this.navigationTransitions=he(Y0),this.urlSerializer=he(Tg),this.location=he(Vp),this.componentInputBindingEnabled=!!he(W0,{optional:!0}),this.eventsSubscription=new We,this.isNgZoneEnabled=he(Ce)instanceof Ce&&Ce.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new $h,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=YH(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const t=this.navigationTransitions.events.subscribe(i=>{try{const{currentTransition:r}=this.navigationTransitions;if(null===r)return void(v$(i)&&this._events.next(i));if(i instanceof z0)g$(r.source)&&(this.browserUrlTree=r.extractedUrl);else if(i instanceof Wh)this.rawUrlTree=r.rawUrl;else if(i instanceof qH){if("eager"===this.urlUpdateStrategy){if(!r.extras.skipLocationChange){const o=this.urlHandlingStrategy.merge(r.urlAfterRedirects,r.rawUrl);this.setBrowserUrl(o,r)}this.browserUrlTree=r.urlAfterRedirects}}else if(i instanceof yS)this.currentUrlTree=r.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(r.urlAfterRedirects,r.rawUrl),this.routerState=r.targetRouterState,"deferred"===this.urlUpdateStrategy&&(r.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,r),this.browserUrlTree=r.urlAfterRedirects);else if(i instanceof Rg)0!==i.code&&1!==i.code&&(this.navigated=!0),(3===i.code||2===i.code)&&this.restoreHistory(r);else if(i instanceof vS){const o=this.urlHandlingStrategy.merge(i.url,r.currentRawUrl),s={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||g$(r.source)};this.scheduleNavigation(o,Mg,null,s,{resolve:r.resolve,reject:r.reject,promise:r.promise})}i instanceof H0&&this.restoreHistory(r,!0),i instanceof Bl&&(this.navigated=!0),v$(i)&&this._events.next(i)}catch(r){this.navigationTransitions.transitionAbortSubject.next(r)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Mg,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const i="popstate"===t.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,i,t.state)},0)}))}navigateToSyncWithBrowser(t,i,r){const o={replaceUrl:!0},s=r?.navigationId?r:null;if(r){const l={...r};delete l.navigationId,delete l.\u0275routerPageId,0!==Object.keys(l).length&&(o.state=l)}const a=this.parseUrl(t);this.scheduleNavigation(a,i,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(DS),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,i={}){const{relativeTo:r,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:l}=i,c=l?this.currentUrlTree.fragment:s;let p,h=null;switch(a){case"merge":h={...this.currentUrlTree.queryParams,...o};break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=o||null}null!==h&&(h=this.removeEmptyProps(h));try{p=BH(r?r.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof t[0]||!t[0].startsWith("/"))&&(t=[]),p=this.currentUrlTree.root}return UH(p,t,h,c??null)}navigateByUrl(t,i={skipLocationChange:!1}){const r=au(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(o,Mg,null,i)}navigate(t,i={skipLocationChange:!1}){return function Xce(n){for(let e=0;e<n.length;e++)if(null==n[e])throw new V(4008,!1)}(t),this.navigateByUrl(this.createUrlTree(t,i),i)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let i;try{i=this.urlSerializer.parse(t)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,t)}return i}isActive(t,i){let r;if(r=!0===i?{...Yce}:!1===i?{...Qce}:i,au(t))return MH(this.currentUrlTree,t,r);const o=this.parseUrl(t);return MH(this.currentUrlTree,o,r)}removeEmptyProps(t){return Object.keys(t).reduce((i,r)=>{const o=t[r];return null!=o&&(i[r]=o),i},{})}scheduleNavigation(t,i,r,o,s){if(this.disposed)return Promise.resolve(!1);let a,l,c;s?(a=s.resolve,l=s.reject,c=s.promise):c=new Promise((p,g)=>{a=p,l=g});const h=this.pendingTasks.add();return y$(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(h))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:t,extras:o,resolve:a,reject:l,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(p=>Promise.reject(p))}setBrowserUrl(t,i){const r=this.urlSerializer.serialize(t);if(this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl){const s={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId)};this.location.replaceState(r,"",s)}else{const o={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId+1)};this.location.go(r,"",o)}}restoreHistory(t,i=!1){if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-this.browserPageId;0!==o?this.location.historyGo(o):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===o&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,i){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:i}:{navigationId:t}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function v$(n){return!(n instanceof yS||n instanceof vS)}let X0=(()=>{class n{constructor(t,i,r,o,s,a){this.router=t,this.route=i,this.tabIndexAttribute=r,this.renderer=o,this.el=s,this.locationStrategy=a,this.href=null,this.commands=null,this.onChanges=new F,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const l=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===l||"area"===l,this.isAnchorElement?this.subscription=t.events.subscribe(c=>{c instanceof Bl&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(t,i,r,o,s){return!!(null===this.urlTree||this.isAnchorElement&&(0!==t||i||r||o||s||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const t=null===this.href?null:function RR(n,e,t){return function a5(n,e){return"src"===e&&("embed"===n||"frame"===n||"iframe"===n||"media"===n||"script"===n)||"href"===e&&("base"===n||"link"===n)?MR:Sw}(e,t)(n)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",t)}applyAttributeValue(t,i){const r=this.renderer,o=this.el.nativeElement;null!==i?r.setAttribute(o,t,i):r.removeAttribute(o,t)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#e=this.\u0275fac=function(i){return new(i||n)(T(Uo),T(Gh),np("tabindex"),T(sa),T(Ye),T(Ic))};static#t=this.\u0275dir=le({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,r){1&i&&Ct("click",function(s){return r.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&i&&Xt("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",Nd],skipLocationChange:["skipLocationChange","skipLocationChange",Nd],replaceUrl:["replaceUrl","replaceUrl",Nd],routerLink:"routerLink"},standalone:!0,features:[zP,ji]})}return n})();class b${}let tue=(()=>{class n{constructor(t,i,r,o,s){this.router=t,this.injector=r,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(_n(t=>t instanceof Bl),Hd(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,i){const r=[];for(const o of i){o.providers&&!o._injector&&(o._injector=UI(o.providers,t,`Route: ${o.path}`));const s=o._injector??t,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&void 0===o.canLoad||o.loadComponent&&!o._loadedComponent)&&r.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&r.push(this.processRoutes(a,o.children??o._loadedRoutes))}return b(r).pipe(Er())}preloadConfig(t,i){return this.preloadingStrategy.preload(i,()=>{let r;r=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(t,i):A(null);const o=r.pipe(Ut(s=>null===s?A(void 0):(i._loadedRoutes=s.routes,i._loadedInjector=s.injector,this.processRoutes(s.injector??t,s.routes))));return i.loadComponent&&!i._loadedComponent?b([o,this.loader.loadComponent(i)]).pipe(Er()):o})}static#e=this.\u0275fac=function(i){return new(i||n)(O(Uo),O(yO),O(ko),O(b$),O(RS))};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const PS=new G("");let E$=(()=>{class n{constructor(t,i,r,o,s={}){this.urlSerializer=t,this.transitions=i,this.viewportScroller=r,this.zone=o,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},s.scrollPositionRestoration=s.scrollPositionRestoration||"disabled",s.anchorScrolling=s.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof z0?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Bl?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof Wh&&0===t.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof GH&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new GH(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(i){Iy()};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac})}return n})();function Da(n,e){return{\u0275kind:n,\u0275providers:e}}function I$(){const n=he(pn);return e=>{const t=n.get(rl);if(e!==t.components[0])return;const i=n.get(Uo),r=n.get(x$);1===n.get(kS)&&i.initialNavigation(),n.get(C$,null,ht.Optional)?.setUpPreloading(),n.get(PS,null,ht.Optional)?.init(),i.resetRootComponentType(t.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}const x$=new G("",{factory:()=>new F}),kS=new G("",{providedIn:"root",factory:()=>1}),C$=new G("");function oue(n){return Da(0,[{provide:C$,useExisting:tue},{provide:b$,useExisting:n}])}const T$=new G("ROUTER_FORROOT_GUARD"),aue=[Vp,{provide:Tg,useClass:fS},Uo,Pg,{provide:Gh,useFactory:function w$(n){return n.routerState.root},deps:[Uo]},RS,[]];function lue(){return new CO("Router",Uo)}let D$=(()=>{class n{constructor(t){}static forRoot(t,i){return{ngModule:n,providers:[aue,[],{provide:Qh,multi:!0,useValue:t},{provide:T$,useFactory:hue,deps:[[Uo,new or,new op]]},{provide:Q0,useValue:i||{}},i?.useHash?{provide:Ic,useClass:G9}:{provide:Ic,useClass:nN},{provide:PS,useFactory:()=>{const n=he(fZ),e=he(Ce),t=he(Q0),i=he(Y0),r=he(Tg);return t.scrollOffset&&n.setOffset(t.scrollOffset),new E$(r,i,n,e,t)}},i?.preloadingStrategy?oue(i.preloadingStrategy).\u0275providers:[],{provide:CO,multi:!0,useFactory:lue},i?.initialNavigation?fue(i):[],i?.bindToComponentInputs?Da(8,[e$,{provide:W0,useExisting:e$}]).\u0275providers:[],[{provide:A$,useFactory:I$},{provide:lx,multi:!0,useExisting:A$}]]}}static forChild(t){return{ngModule:n,providers:[{provide:Qh,multi:!0,useValue:t}]}}static#e=this.\u0275fac=function(i){return new(i||n)(O(T$,8))};static#t=this.\u0275mod=at({type:n});static#n=this.\u0275inj=mt({})}return n})();function hue(n){return"guarded"}function fue(n){return["disabled"===n.initialNavigation?Da(3,[{provide:ex,multi:!0,useFactory:()=>{const e=he(Uo);return()=>{e.setUpLocationChangeListener()}}},{provide:kS,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?Da(2,[{provide:kS,useValue:0},{provide:ex,multi:!0,deps:[pn],useFactory:e=>{const t=e.get(W9,Promise.resolve());return()=>t.then(()=>new Promise(i=>{const r=e.get(Uo),o=e.get(x$);y$(r,()=>{i(!0)}),e.get(Y0).afterPreactivation=()=>(i(!0),o.closed?A(void 0):o),r.initialNavigation()}))}}]).\u0275providers:[]]}const A$=new G("");let S$=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=Ft({type:n,selectors:[["app-navbar"]],decls:8,vars:0,consts:[["color","primary"],["src","assets/imgs/TM-logo.png"],[1,"example-spacer"],["mat-icon-button","","aria-label","Example icon-button with share icon",1,"example-icon"]],template:function(i,r){1&i&&(pe(0,"mat-toolbar",0),Lt(1,"img",1),pe(2,"span"),Ot(3,"Territory Manager"),ye(),Lt(4,"span",2),pe(5,"button",3)(6,"mat-icon"),Ot(7,"login"),ye()()())},dependencies:[Xp,Rv,RQ],styles:[".example-spacer[_ngcontent-%COMP%]{flex:1 1 auto}img[_ngcontent-%COMP%]{height:90%;margin-right:10px}"]})}return n})(),M$=(()=>{class n{constructor(){this.hide=!0}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=Ft({type:n,selectors:[["app-login"]],decls:17,vars:4,consts:[[1,"page-container"],[1,"login-container"],["src","/assets/imgs/TM-logo.png",1,"logo"],[1,"creds-container"],["matInput","","placeholder","pat@example.com"],["matInput","",3,"type"],["mat-icon-button","","matSuffix","",3,"click"],["mat-raised-button","","color","primary","routerLink","/dashboard",1,"signin"]],template:function(i,r){1&i&&(Lt(0,"app-navbar"),pe(1,"div",0)(2,"mat-card",1),Lt(3,"img",2),pe(4,"mat-form-field",3)(5,"mat-label"),Ot(6,"Enter your email"),ye(),Lt(7,"input",4),ye(),pe(8,"mat-form-field",3)(9,"mat-label"),Ot(10,"Enter your password"),ye(),Lt(11,"input",5),pe(12,"button",6),Ct("click",function(){return r.hide=!r.hide}),pe(13,"mat-icon"),Ot(14),ye()()(),pe(15,"button",7),Ot(16,"Sign In"),ye()()()),2&i&&(He(11),Ve("type",r.hide?"password":"text"),He(1),Xt("aria-label","Hide password")("aria-pressed",r.hide),He(2),nl(r.hide?"visibility_off":"visibility"))},dependencies:[X0,Xp,Jp,Rv,vC,zC,UC,sm,lV,S$],styles:[".login-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;height:600px;width:370px;padding:10px}.signin[_ngcontent-%COMP%]{height:50px;width:50%}.page-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;align-items:center;height:700px}.creds-container[_ngcontent-%COMP%]{width:100%}.logo[_ngcontent-%COMP%]{width:360px;margin:10px;border-radius:5px}"]})}return n})();class Bg{constructor(e){return e}}class R${constructor(){return(0,Nr.getApps)()}}const OS=new G("angularfire2._apps"),gue={provide:Bg,useFactory:function mue(n){return n&&1===n.length?n[0]:new Bg((0,Nr.getApp)())},deps:[[new or,OS]]},_ue={provide:R$,deps:[[new or,OS]]};function yue(n){return(e,t)=>{const i=e.runOutsideAngular(()=>n(t));return new Bg(i)}}let vue=(()=>{class n{constructor(t){(0,Nr.registerVersion)("angularfire",Qd.full,"core"),(0,Nr.registerVersion)("angularfire",Qd.full,"app"),(0,Nr.registerVersion)("angular",Zw.full,t.toString())}static \u0275fac=function(i){return new(i||n)(O(Ko))};static \u0275mod=at({type:n});static \u0275inj=mt({providers:[gue,_ue]})}return n})();function bue(n,...e){return{ngModule:vue,providers:[{provide:OS,useFactory:yue(n),multi:!0,deps:[Ce,pn,ib,...e]}]}}Be(562);class k${constructor(){return eT("auth")}}class J0{constructor(e){return e}}const O$="firestore",LS=new G("angularfire2.firestore-instances");function Tue(n){return(e,t)=>{const i=e.runOutsideAngular(()=>n(t));return new J0(i)}}const Due={provide:class xue{constructor(){return eT(O$)}},deps:[[new or,LS]]},Aue={provide:J0,useFactory:function Cue(n,e){const t=function r2(n,e,t){if(e){if(1===e.length)return e[0];const o=e.filter(s=>s.app===t);if(1===o.length)return o[0]}return t.container.getProvider(n).getImmediate({optional:!0})}(O$,n,e);return t&&new J0(t)},deps:[[new or,LS],Bg]};let Sue=(()=>{class n{constructor(){(0,Nr.registerVersion)("angularfire",Qd.full,"fst")}static \u0275fac=function(i){return new(i||n)};static \u0275mod=at({type:n});static \u0275inj=mt({providers:[Aue,Due]})}return n})();function Mue(n,...e){return{ngModule:Sue,providers:[{provide:LS,useFactory:Tue(n),multi:!0,deps:[Ce,pn,ib,R$,[new or,k$],[new or,tT],...e]}]}}let Rue=(()=>{class n{constructor(t){this.db=t,this.dbPath="/territories",this.dbRef=t.collection(this.dbPath)}getAll(){return this.dbRef}update(t,i){return this.dbRef.doc(t).update(i)}static#e=this.\u0275fac=function(i){return new(i||n)(O(cS))};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Pue=(()=>{class n{constructor(t){this.db=t,this.dbPath="/publishers",this.dbRef=t.collection(this.dbPath)}getAll(){return this.dbRef}create(t){return this.dbRef.doc(t._id).set(t)}update(t,i){return this.dbRef.doc(t).update(i)}static#e=this.\u0275fac=function(i){return new(i||n)(O(cS))};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),kue=(()=>{class n{constructor(t,i){this.dialogRef=t,this.data=i,this.dto={_id:this.newGuid(),name:"",email:"",phone:"",assigned_territory:this.data.territory._id}}onCancel(){this.dialogRef.close()}newGuid(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var i=16*Math.random()|0;return("x"==t?i:3&i|8).toString(16)})}static#e=this.\u0275fac=function(i){return new(i||n)(T(Yd),T(eb))};static#t=this.\u0275cmp=Ft({type:n,selectors:[["app-add-terrtory-popup"]],decls:21,vars:5,consts:[["mat-dialog-title",""],[1,"enter-field"],[1,"user-info"],["matInput","",3,"ngModel","ngModelChange"],[1,"button-contianer"],["mat-dialog-actions","",1,"buttons"],["mat-raised-button","","color","warn",3,"click"],["mat-raised-button","","color","accent","cdkFocusInitial","",3,"mat-dialog-close"]],template:function(i,r){1&i&&(pe(0,"h1",0),Ot(1),ye(),pe(2,"div",1)(3,"mat-form-field",2)(4,"mat-label"),Ot(5,"Name"),ye(),pe(6,"input",3),Ct("ngModelChange",function(s){return r.dto.name=s}),ye()(),pe(7,"mat-form-field",2)(8,"mat-label"),Ot(9,"Email"),ye(),pe(10,"input",3),Ct("ngModelChange",function(s){return r.dto.email=s}),ye()(),pe(11,"mat-form-field",2)(12,"mat-label"),Ot(13,"Phone"),ye(),pe(14,"input",3),Ct("ngModelChange",function(s){return r.dto.phone=s}),ye()(),pe(15,"section",4)(16,"div",5)(17,"button",6),Ct("click",function(){return r.onCancel()}),Ot(18,"Cancel"),ye(),pe(19,"button",7),Ot(20,"Submit"),ye()()()()),2&i&&(He(1),yc("Enter Publisher for Territory ",r.data.territory.territory_id,""),He(5),Ve("ngModel",r.dto.name),He(4),Ve("ngModel",r.dto.email),He(4),Ve("ngModel",r.dto.phone),He(5),Ve("mat-dialog-close",r.dto))},dependencies:[Jp,zC,UC,sm,Pv,vL,PC,KV,YV,QV],styles:[".enter-field[_ngcontent-%COMP%]{height:400px;width:100%;display:flex;flex-direction:column;align-items:center;justify-content:center;border:0px solid black}.user-info[_ngcontent-%COMP%]{width:90%}"]})}return n})(),Oue=(()=>{class n{constructor(t,i){this.dialogRef=t,this.data=i}onCancel(){this.dialogRef.close()}static#e=this.\u0275fac=function(i){return new(i||n)(T(Yd),T(eb))};static#t=this.\u0275cmp=Ft({type:n,selectors:[["app-complete-terrtory-popup"]],decls:7,vars:2,consts:[["mat-dialog-title",""],["mat-dialog-actions","",1,"buttons"],["mat-raised-button","","color","warn",3,"click"],["mat-raised-button","","cdkFocusInitial","","color","accent",3,"mat-dialog-close"]],template:function(i,r){1&i&&(pe(0,"h1",0),Ot(1),ye(),pe(2,"div",1)(3,"button",2),Ct("click",function(){return r.onCancel()}),Ot(4,"Close"),ye(),pe(5,"button",3),Ot(6,"Complete"),ye()()),2&i&&(He(1),yc("Are you sure you would like to complete Territory ",r.data.territory.tid,""),He(4),Ve("mat-dialog-close",!0))},dependencies:[Jp,KV,YV,QV]})}return n})(),N$=(()=>{class n{constructor(){}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=Ft({type:n,selectors:[["app-publisher"]],inputs:{publisher:"publisher"},decls:8,vars:1,consts:[[1,"card-container"],["color","accent",1,"icon"],["mat-icon-button","","aria-label","Example icon button with a vertical three dot icon"]],template:function(i,r){1&i&&(pe(0,"div",0)(1,"mat-icon",1),Ot(2,"account_circle"),ye(),pe(3,"h2"),Ot(4),ye(),pe(5,"button",2)(6,"mat-icon"),Ot(7,"more_vert"),ye()()()),2&i&&(He(4),nl(r.publisher.name))},dependencies:[Xp,Rv],styles:[".card-container[_ngcontent-%COMP%]{border:1px solid rgb(0,94,71);border-radius:5px;width:260px;margin:10px;padding:10px;display:flex;flex-direction:row;justify-content:space-between;align-items:center}.icon[_ngcontent-%COMP%]{font-size:50px;height:50px;width:50px}"]})}return n})();function Nue(n,e){1&n&&Lt(0,"app-publisher",3),2&n&&Ve("publisher",Jt().data.territory.assigned_publisher)}let Fue=(()=>{class n{constructor(t,i){this.dialogRef=t,this.data=i,this.path=`assets/imgs/TerritoryCards/${this.data.territory.territory_id}.png`}onCancel(){this.dialogRef.close()}static#e=this.\u0275fac=function(i){return new(i||n)(T(Yd),T(eb))};static#t=this.\u0275cmp=Ft({type:n,selectors:[["app-details-popup"]],decls:3,vars:2,consts:[[1,"container"],["alt","",3,"src"],[3,"publisher",4,"ngIf"],[3,"publisher"]],template:function(i,r){1&i&&(pe(0,"div",0),Lt(1,"img",1),xt(2,Nue,1,1,"app-publisher",2),ye()),2&i&&(He(1),xI("src",r.path,Sw),He(1),Ve("ngIf",null!==r.data.territory.assigned_publisher))},dependencies:[xc,N$],styles:["img[_ngcontent-%COMP%], .container[_ngcontent-%COMP%]{width:100%}"]})}return n})();function Lue(n,e){if(1&n){const t=el();pe(0,"button",9),Ct("click",function(){rr(t);const r=Jt();return Ri(r.onOpenAddPublisher(r.territory))}),pe(1,"mat-icon"),Ot(2,"add"),ye()()}}function Vue(n,e){if(1&n){const t=el();pe(0,"button",9),Ct("click",function(){rr(t);const r=Jt();return Ri(r.onOpenCompleteTerritory(r.territory))}),pe(1,"mat-icon"),Ot(2,"assignment_turned_in"),ye()()}}function Bue(n,e){1&n&&(pe(0,"button",8),Ot(1,"Edit"),ye())}let Uue=(()=>{class n{constructor(t,i){this.dialogRef=t,this.snackBar=i,this.onUpdateTerritoryE=new lt,this.onEmptyTerritoryE=new lt}onOpenDetails(){this.dialogRef.open(Fue,{width:"350px",height:"400px",data:{territory:this.territory}})}onOpenAddPublisher(t){this.dialogRef.open(kue,{width:"350px",data:{territory:t}}).afterClosed().subscribe(i=>{void 0!==i&&(this.territory.assigned_publisher=i,this.onUpdateTerritorys(this.territory))})}onOpenCompleteTerritory(t){this.dialogRef.open(Oue,{width:"350px",data:{territory:t}}).afterClosed().subscribe(i=>{i&&this.onEmptyTerritory(t)})}onUpdateTerritorys(t){this.onUpdateTerritoryE.emit(t)}onEmptyTerritory(t){this.onEmptyTerritoryE.emit(t)}static#e=this.\u0275fac=function(i){return new(i||n)(T(tb),T(Rte))};static#t=this.\u0275cmp=Ft({type:n,selectors:[["app-territory"]],inputs:{territory:"territory"},outputs:{onUpdateTerritoryE:"onUpdateTerritoryE",onEmptyTerritoryE:"onEmptyTerritoryE"},decls:19,vars:6,consts:[[1,"card-container"],[1,"top"],["mat-fab","","color","accent","aria-label","Example icon button with a delete icon",3,"click",4,"ngIf"],[1,"bottom"],["mat-icon-button","","aria-label","Example icon button with a vertical three dot icon",3,"matMenuTriggerFor"],["tMenu","matMenu"],["mat-menu-item","",4,"ngIf"],["mat-menu-item","",3,"click"],["mat-menu-item",""],["mat-fab","","color","accent","aria-label","Example icon button with a delete icon",3,"click"]],template:function(i,r){if(1&i&&(pe(0,"div",0)(1,"div",1)(2,"h1"),Ot(3),ye(),xt(4,Lue,3,0,"button",2),xt(5,Vue,3,0,"button",2),ye(),pe(6,"div",3)(7,"h3"),Ot(8),ye(),pe(9,"button",4)(10,"mat-icon"),Ot(11,"more_vert"),ye()(),pe(12,"mat-menu",null,5),xt(14,Bue,2,0,"button",6),pe(15,"button",7),Ct("click",function(){return r.onOpenDetails()}),Ot(16,"Details"),ye(),pe(17,"button",8),Ot(18,"Record"),ye()()()()),2&i){const o=gc(13);He(3),nl(r.territory.territory_id),He(1),Ve("ngIf",null===r.territory.assigned_publisher),He(1),Ve("ngIf",null!==r.territory.assigned_publisher),He(3),nl(null===r.territory.assigned_publisher?"No Publisher":r.territory.assigned_publisher.name),He(1),Ve("matMenuTriggerFor",o),He(5),Ve("ngIf",null!==r.territory.assigned_publisher)}},dependencies:[xc,Xp,Rv,TQ,qae,O0,Yae],styles:[".card-container[_ngcontent-%COMP%]{border:1px solid rgb(0,94,71);border-radius:5px;height:180px;width:300px;margin:10px}.top[_ngcontent-%COMP%]{background-color:#7aedc7;height:39%;padding:15px;display:flex;flex-direction:row;justify-content:space-between;align-items:center}.bottom[_ngcontent-%COMP%]{height:20px;padding:15px;display:flex;flex-direction:row;align-items:center;justify-content:space-between}h1[_ngcontent-%COMP%]{color:#346556}"]})}return n})();function jue(n,e){if(1&n){const t=el();pe(0,"app-territory",12),Ct("onUpdateTerritoryE",function(){const o=rr(t).$implicit;return Ri(Jt().handleUpdateTerritory(o))})("onEmptyTerritoryE",function(){const o=rr(t).$implicit;return Ri(Jt().handleEmptyTerritory(o))}),ye()}2&n&&Ve("territory",e.$implicit)}function zue(n,e){1&n&&Lt(0,"app-publisher",13),2&n&&Ve("publisher",e.$implicit)}const Hue=[{path:"login",component:M$},{path:"dashboard",component:(()=>{class n{constructor(t,i){this.territoryService=t,this.publisherService=i,this.firestore=he(J0),this.territories$=[],this.publishers$=[]}ngOnInit(){this.mapTerritories(),this.mapPublishers()}mapTerritories(){this.territoryService.getAll().snapshotChanges().pipe(de(t=>t.map(i=>({id:i.payload.doc.id,...i.payload.doc.data()})))).subscribe(t=>{this.territories$=t})}mapPublishers(){this.publisherService.getAll().snapshotChanges().pipe(de(t=>t.map(i=>({id:i.payload.doc.id,...i.payload.doc.data()})))).subscribe(t=>{this.publishers$=t})}handleUpdateTerritory(t){let i=!1;for(let r of this.publishers$)r.name===t.assigned_publisher?.name&&(i=!0);i&&t.assigned_publisher?this.publisherService.update(t.assigned_publisher?._id,t.assigned_publisher):this.publisherService.create(t.assigned_publisher),this.territoryService.update(t._id,t)}handleEmptyTerritory(t){t.assigned_publisher&&this.publisherService.update(t.assigned_publisher._id,{_id:t.assigned_publisher._id,name:t.assigned_publisher.name,phone:t.assigned_publisher.phone,email:t.assigned_publisher.email,assigned_territory:null}),t.assigned_publisher=null,this.territoryService.update(t._id,t)}static#e=this.\u0275fac=function(i){return new(i||n)(T(Rue),T(Pue))};static#t=this.\u0275cmp=Ft({type:n,selectors:[["app-dashboard"]],decls:28,vars:2,consts:[[1,"tab-group"],["label","Territories"],[1,"page-container"],[1,"territories-container"],[1,"searchbar"],[1,"searchbar-container"],["matInput","","placeholder","Ex. John Doe"],["matSuffix","","mat-button",""],[1,"list-container"],[3,"territory","onUpdateTerritoryE","onEmptyTerritoryE",4,"ngFor","ngForOf"],["label","Publishers"],[3,"publisher",4,"ngFor","ngForOf"],[3,"territory","onUpdateTerritoryE","onEmptyTerritoryE"],[3,"publisher"]],template:function(i,r){1&i&&(Lt(0,"app-navbar"),pe(1,"mat-tab-group",0)(2,"mat-tab",1)(3,"div",2)(4,"mat-card",3)(5,"form",4)(6,"mat-form-field",5)(7,"mat-label"),Ot(8,"Search Name or Territory Id"),ye(),Lt(9,"input",6),pe(10,"button",7)(11,"mat-icon"),Ot(12,"search"),ye()()()(),pe(13,"div",8),xt(14,jue,1,1,"app-territory",9),ye()()()(),pe(15,"mat-tab",10)(16,"div",2)(17,"mat-card",3)(18,"form",4)(19,"mat-form-field",5)(20,"mat-label"),Ot(21,"Search Name"),ye(),Lt(22,"input",6),pe(23,"button",7)(24,"mat-icon"),Ot(25,"search"),ye()()()(),pe(26,"div",8),xt(27,zue,1,1,"app-publisher",11),ye()()()()()),2&i&&(He(14),Ve("ngForOf",r.territories$),He(13),Ve("ngForOf",r.publishers$))},dependencies:[Sx,Xp,Jp,vC,zC,UC,sm,lV,OL,bL,rm,SV,Oee,S$,Uue,N$],styles:[".page-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;align-items:center;height:700px}.territories-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;height:600px;width:370px;padding:10px}.searchbar[_ngcontent-%COMP%], .searchbar-container[_ngcontent-%COMP%]{width:100%}.tab-group[_ngcontent-%COMP%]{margin-top:20px}.list-container[_ngcontent-%COMP%]{width:100%;border:0px solid black;height:500px;display:flex;flex-direction:column;align-items:center;overflow-y:scroll}"]})}return n})()},{path:"",component:M$}];let $ue=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=at({type:n});static#n=this.\u0275inj=mt({imports:[D$.forRoot(Hue),D$]})}return n})(),Wue=(()=>{class n{constructor(){this.title="TManager"}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=Ft({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(i,r){1&i&&Lt(0,"router-outlet")},dependencies:[CS]})}return n})();function F$(n){return new V(3e3,!1)}function Ul(n){switch(n.length){case 0:return new om;case 1:return n[0];default:return new oV(n)}}function L$(n,e,t=new Map,i=new Map){const r=[],o=[];let s=-1,a=null;if(e.forEach(l=>{const c=l.get("offset"),h=c==s,p=h&&a||new Map;l.forEach((g,y)=>{let w=y,x=g;if("offset"!==y)switch(w=n.normalizePropertyName(w,r),x){case"!":x=t.get(y);break;case ma:x=i.get(y);break;default:x=n.normalizeStyleValue(y,w,x,r)}p.set(w,x)}),h||o.push(p),a=p,s=c}),r.length)throw function pde(n){return new V(3502,!1)}();return o}function VS(n,e,t,i){switch(e){case"start":n.onStart(()=>i(t&&BS(t,"start",n)));break;case"done":n.onDone(()=>i(t&&BS(t,"done",n)));break;case"destroy":n.onDestroy(()=>i(t&&BS(t,"destroy",n)))}}function BS(n,e,t){const o=US(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),s=n._data;return null!=s&&(o._data=s),o}function US(n,e,t,i,r="",o=0,s){return{element:n,triggerName:e,fromState:t,toState:i,phaseName:r,totalTime:o,disabled:!!s}}function po(n,e,t){let i=n.get(e);return i||n.set(e,i=t),i}function V$(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}const Tde=(()=>typeof document>"u"?null:document.documentElement)();function jS(n){const e=n.parentNode||n.host||null;return e===Tde?null:e}let lu=null,B$=!1;function U$(n,e){for(;e;){if(e===n)return!0;e=jS(e)}return!1}function j$(n,e,t){if(t)return Array.from(n.querySelectorAll(e));const i=n.querySelector(e);return i?[i]:[]}let z$=(()=>{class n{validateStyleProperty(t){return function Ade(n){lu||(lu=function Sde(){return typeof document<"u"?document.body:null}()||{},B$=!!lu.style&&"WebkitAppearance"in lu.style);let e=!0;return lu.style&&!function Dde(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in lu.style,!e&&B$&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in lu.style)),e}(t)}matchesElement(t,i){return!1}containsElement(t,i){return U$(t,i)}getParentElement(t){return jS(t)}query(t,i,r){return j$(t,i,r)}computeStyle(t,i,r){return r||""}animate(t,i,r,o,s,a=[],l){return new om(r,o)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac})}return n})(),zS=(()=>{class n{static#e=this.NOOP=new z$}return n})();const Mde=1e3,HS="ng-enter",eE="ng-leave",tE="ng-trigger",nE=".ng-trigger",$$="ng-animating",$S=".ng-animating";function Aa(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:WS(parseFloat(e[1]),e[2])}function WS(n,e){return"s"===e?n*Mde:n}function iE(n,e,t){return n.hasOwnProperty("duration")?n:function Pde(n,e,t){let r,o=0,s="";if("string"==typeof n){const a=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return e.push(F$()),{duration:0,delay:0,easing:""};r=WS(parseFloat(a[1]),a[2]);const l=a[3];null!=l&&(o=WS(parseFloat(l),a[4]));const c=a[5];c&&(s=c)}else r=n;if(!t){let a=!1,l=e.length;r<0&&(e.push(function que(){return new V(3100,!1)}()),a=!0),o<0&&(e.push(function Gue(){return new V(3101,!1)}()),a=!0),a&&e.splice(l,0,F$())}return{duration:r,delay:o,easing:s}}(n,e,t)}function Ug(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function W$(n){const e=new Map;return Object.keys(n).forEach(t=>{e.set(t,n[t])}),e}function jl(n,e=new Map,t){if(t)for(let[i,r]of t)e.set(i,r);for(let[i,r]of n)e.set(i,r);return e}function js(n,e,t){e.forEach((i,r)=>{const o=GS(r);t&&!t.has(r)&&t.set(r,n.style[o]),n.style[o]=i})}function cu(n,e){e.forEach((t,i)=>{const r=GS(i);n.style[r]=""})}function jg(n){return Array.isArray(n)?1==n.length?n[0]:nV(n):n}const qS=new RegExp("{{\\s*(.+?)\\s*}}","g");function G$(n){let e=[];if("string"==typeof n){let t;for(;t=qS.exec(n);)e.push(t[1]);qS.lastIndex=0}return e}function zg(n,e,t){const i=n.toString(),r=i.replace(qS,(o,s)=>{let a=e[s];return null==a&&(t.push(function Kue(n){return new V(3003,!1)}()),a=""),a.toString()});return r==i?n:r}function rE(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const Nde=/-+([a-z0-9])/g;function GS(n){return n.replace(Nde,(...e)=>e[1].toUpperCase())}function mo(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function Yue(n){return new V(3004,!1)}()}}function Z$(n,e){return window.getComputedStyle(n)[e]}const oE="*";function Vde(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function Bde(n,e,t){if(":"==n[0]){const l=function Ude(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,i)=>parseFloat(i)>parseFloat(t);case":decrement":return(t,i)=>parseFloat(i)<parseFloat(t);default:return e.push(function ude(n){return new V(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof l)return void e.push(l);n=l}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return t.push(function cde(n){return new V(3015,!1)}()),e;const r=i[1],o=i[2],s=i[3];e.push(K$(r,s));"<"==o[0]&&!(r==oE&&s==oE)&&e.push(K$(s,r))}(i,t,e)):t.push(n),t}const sE=new Set(["true","1"]),aE=new Set(["false","0"]);function K$(n,e){const t=sE.has(n)||aE.has(n),i=sE.has(e)||aE.has(e);return(r,o)=>{let s=n==oE||n==r,a=e==oE||e==o;return!s&&t&&"boolean"==typeof r&&(s=r?sE.has(n):aE.has(n)),!a&&i&&"boolean"==typeof o&&(a=o?sE.has(e):aE.has(e)),s&&a}}const jde=new RegExp("s*:selfs*,?","g");function ZS(n,e,t,i){return new zde(n).build(e,t,i)}class zde{constructor(e){this._driver=e}build(e,t,i){const r=new Wde(t);return this._resetContextStyleTimingState(r),mo(this,jg(e),r)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let i=t.queryCount=0,r=t.depCount=0;const o=[],s=[];return"@"==e.name.charAt(0)&&t.errors.push(function Xue(){return new V(3006,!1)}()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(t),0==a.type){const l=a,c=l.name;c.toString().split(/\s*,\s*/).forEach(h=>{l.name=h,o.push(this.visitState(l,t))}),l.name=c}else if(1==a.type){const l=this.visitTransition(a,t);i+=l.queryCount,r+=l.depCount,s.push(l)}else t.errors.push(function Jue(){return new V(3007,!1)}())}),{type:7,name:e.name,states:o,transitions:s,queryCount:i,depCount:r,options:null}}visitState(e,t){const i=this.visitStyle(e.styles,t),r=e.options&&e.options.params||null;if(i.containsDynamicStyles){const o=new Set,s=r||{};i.styles.forEach(a=>{a instanceof Map&&a.forEach(l=>{G$(l).forEach(c=>{s.hasOwnProperty(c)||o.add(c)})})}),o.size&&(rE(o.values()),t.errors.push(function ede(n,e){return new V(3008,!1)}()))}return{type:0,name:e.name,style:i,options:r?{params:r}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const i=mo(this,jg(e.animation),t);return{type:1,matchers:Vde(e.expr,t.errors),animation:i,queryCount:t.queryCount,depCount:t.depCount,options:uu(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(i=>mo(this,i,t)),options:uu(e.options)}}visitGroup(e,t){const i=t.currentTime;let r=0;const o=e.steps.map(s=>{t.currentTime=i;const a=mo(this,s,t);return r=Math.max(r,t.currentTime),a});return t.currentTime=r,{type:3,steps:o,options:uu(e.options)}}visitAnimate(e,t){const i=function Gde(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return KS(iE(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(o=>"{"==o.charAt(0)&&"{"==o.charAt(1))){const o=KS(0,0,"");return o.dynamic=!0,o.strValue=t,o}const r=iE(t,e);return KS(r.duration,r.delay,r.easing)}(e.timings,t.errors);t.currentAnimateTimings=i;let r,o=e.styles?e.styles:ai({});if(5==o.type)r=this.visitKeyframes(o,t);else{let s=e.styles,a=!1;if(!s){a=!0;const c={};i.easing&&(c.easing=i.easing),s=ai(c)}t.currentTime+=i.duration+i.delay;const l=this.visitStyle(s,t);l.isEmptyStep=a,r=l}return t.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(e,t){const i=this._makeStyleAst(e,t);return this._validateStyleAst(i,t),i}_makeStyleAst(e,t){const i=[],r=Array.isArray(e.styles)?e.styles:[e.styles];for(let a of r)"string"==typeof a?a===ma?i.push(a):t.errors.push(new V(3002,!1)):i.push(W$(a));let o=!1,s=null;return i.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(s=a.get("easing"),a.delete("easing")),!o))for(let l of a.values())if(l.toString().indexOf("{{")>=0){o=!0;break}}),{type:6,styles:i,easing:s,offset:e.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(e,t){const i=t.currentAnimateTimings;let r=t.currentTime,o=t.currentTime;i&&o>0&&(o-=i.duration+i.delay),e.styles.forEach(s=>{"string"!=typeof s&&s.forEach((a,l)=>{const c=t.collectedStyles.get(t.currentQuerySelector),h=c.get(l);let p=!0;h&&(o!=r&&o>=h.startTime&&r<=h.endTime&&(t.errors.push(function nde(n,e,t,i,r){return new V(3010,!1)}()),p=!1),o=h.startTime),p&&c.set(l,{startTime:o,endTime:r}),t.options&&function Ode(n,e,t){const i=e.params||{},r=G$(n);r.length&&r.forEach(o=>{i.hasOwnProperty(o)||t.push(function Zue(n){return new V(3001,!1)}())})}(a,t.options,t.errors)})})}visitKeyframes(e,t){const i={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function ide(){return new V(3011,!1)}()),i;let o=0;const s=[];let a=!1,l=!1,c=0;const h=e.steps.map(L=>{const R=this._makeStyleAst(L,t);let z=null!=R.offset?R.offset:function qde(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const i=t;e=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(R.styles),Q=0;return null!=z&&(o++,Q=R.offset=z),l=l||Q<0||Q>1,a=a||Q<c,c=Q,s.push(Q),R});l&&t.errors.push(function rde(){return new V(3012,!1)}()),a&&t.errors.push(function ode(){return new V(3200,!1)}());const p=e.steps.length;let g=0;o>0&&o<p?t.errors.push(function sde(){return new V(3202,!1)}()):0==o&&(g=1/(p-1));const y=p-1,w=t.currentTime,x=t.currentAnimateTimings,S=x.duration;return h.forEach((L,R)=>{const z=g>0?R==y?1:g*R:s[R],Q=z*S;t.currentTime=w+x.delay+Q,x.duration=Q,this._validateStyleAst(L,t),L.offset=z,i.styles.push(L)}),i}visitReference(e,t){return{type:8,animation:mo(this,jg(e.animation),t),options:uu(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:uu(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:uu(e.options)}}visitQuery(e,t){const i=t.currentQuerySelector,r=e.options||{};t.queryCount++,t.currentQuery=e;const[o,s]=function Hde(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(jde,"")),n=n.replace(/@\*/g,nE).replace(/@\w+/g,t=>nE+"-"+t.slice(1)).replace(/:animating/g,$S),[n,e]}(e.selector);t.currentQuerySelector=i.length?i+" "+o:o,po(t.collectedStyles,t.currentQuerySelector,new Map);const a=mo(this,jg(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=i,{type:11,selector:o,limit:r.limit||0,optional:!!r.optional,includeSelf:s,animation:a,originalSelector:e.selector,options:uu(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function ade(){return new V(3013,!1)}());const i="full"===e.timings?{duration:0,delay:0,easing:"full"}:iE(e.timings,t.errors,!0);return{type:12,animation:mo(this,jg(e.animation),t),timings:i,options:null}}}class Wde{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function uu(n){return n?(n=Ug(n)).params&&(n.params=function $de(n){return n?Ug(n):null}(n.params)):n={},n}function KS(n,e,t){return{duration:n,delay:e,easing:t}}function YS(n,e,t,i,r,o,s=null,a=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:i,duration:r,delay:o,totalTime:r+o,easing:s,subTimeline:a}}class lE{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let i=this._map.get(e);i||this._map.set(e,i=[]),i.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const Yde=new RegExp(":enter","g"),Xde=new RegExp(":leave","g");function QS(n,e,t,i,r,o=new Map,s=new Map,a,l,c=[]){return(new Jde).buildKeyframes(n,e,t,i,r,o,s,a,l,c)}class Jde{buildKeyframes(e,t,i,r,o,s,a,l,c,h=[]){c=c||new lE;const p=new XS(e,t,c,r,o,h,[]);p.options=l;const g=l.delay?Aa(l.delay):0;p.currentTimeline.delayNextStep(g),p.currentTimeline.setStyles([s],null,p.errors,l),mo(this,i,p);const y=p.timelines.filter(w=>w.containsAnimation());if(y.length&&a.size){let w;for(let x=y.length-1;x>=0;x--){const S=y[x];if(S.element===t){w=S;break}}w&&!w.allowOnlyTimelineStyles()&&w.setStyles([a],null,p.errors,l)}return y.length?y.map(w=>w.buildKeyframes()):[YS(t,[],[],[],0,g,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const i=t.subInstructions.get(t.element);if(i){const r=t.createSubContext(e.options),o=t.currentTimeline.currentTime,s=this._visitSubInstructions(i,r,r.options);o!=s&&t.transformIntoNewTimeline(s)}t.previousNode=e}visitAnimateRef(e,t){const i=t.createSubContext(e.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,i),this.visitReference(e.animation,i),t.transformIntoNewTimeline(i.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,i){for(const r of e){const o=r?.delay;if(o){const s="number"==typeof o?o:Aa(zg(o,r?.params??{},t.errors));i.delayNextStep(s)}}}_visitSubInstructions(e,t,i){let o=t.currentTimeline.currentTime;const s=null!=i.duration?Aa(i.duration):null,a=null!=i.delay?Aa(i.delay):null;return 0!==s&&e.forEach(l=>{const c=t.appendInstructionToTimeline(l,s,a);o=Math.max(o,c.duration+c.delay)}),o}visitReference(e,t){t.updateOptions(e.options,!0),mo(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const i=t.subContextCount;let r=t;const o=e.options;if(o&&(o.params||o.delay)&&(r=t.createSubContext(o),r.transformIntoNewTimeline(),null!=o.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=cE);const s=Aa(o.delay);r.delayNextStep(s)}e.steps.length&&(e.steps.forEach(s=>mo(this,s,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const i=[];let r=t.currentTimeline.currentTime;const o=e.options&&e.options.delay?Aa(e.options.delay):0;e.steps.forEach(s=>{const a=t.createSubContext(e.options);o&&a.delayNextStep(o),mo(this,s,a),r=Math.max(r,a.currentTimeline.currentTime),i.push(a.currentTimeline)}),i.forEach(s=>t.currentTimeline.mergeTimelineCollectedStyles(s)),t.transformIntoNewTimeline(r),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const i=e.strValue;return iE(t.params?zg(i,t.params,t.errors):i,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const i=t.currentAnimateTimings=this._visitTiming(e.timings,t),r=t.currentTimeline;i.delay&&(t.incrementTime(i.delay),r.snapshotCurrentStyles());const o=e.style;5==o.type?this.visitKeyframes(o,t):(t.incrementTime(i.duration),this.visitStyle(o,t),r.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const i=t.currentTimeline,r=t.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();const o=r&&r.easing||e.easing;e.isEmptyStep?i.applyEmptyStep(o):i.setStyles(e.styles,o,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const i=t.currentAnimateTimings,r=t.currentTimeline.duration,o=i.duration,a=t.createSubContext().currentTimeline;a.easing=i.easing,e.styles.forEach(l=>{a.forwardTime((l.offset||0)*o),a.setStyles(l.styles,l.easing,t.errors,t.options),a.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(a),t.transformIntoNewTimeline(r+o),t.previousNode=e}visitQuery(e,t){const i=t.currentTimeline.currentTime,r=e.options||{},o=r.delay?Aa(r.delay):0;o&&(6===t.previousNode.type||0==i&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=cE);let s=i;const a=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!r.optional,t.errors);t.currentQueryTotal=a.length;let l=null;a.forEach((c,h)=>{t.currentQueryIndex=h;const p=t.createSubContext(e.options,c);o&&p.delayNextStep(o),c===t.element&&(l=p.currentTimeline),mo(this,e.animation,p),p.currentTimeline.applyStylesToKeyframe(),s=Math.max(s,p.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(s),l&&(t.currentTimeline.mergeTimelineCollectedStyles(l),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const i=t.parentContext,r=t.currentTimeline,o=e.timings,s=Math.abs(o.duration),a=s*(t.currentQueryTotal-1);let l=s*t.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":l=a-l;break;case"full":l=i.currentStaggerTime}const h=t.currentTimeline;l&&h.delayNextStep(l);const p=h.currentTime;mo(this,e.animation,t),t.previousNode=e,i.currentStaggerTime=r.currentTime-p+(r.startTime-i.currentTimeline.startTime)}}const cE={};class XS{constructor(e,t,i,r,o,s,a,l){this._driver=e,this.element=t,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=o,this.errors=s,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=cE,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=l||new uE(this._driver,t,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const i=e;let r=this.options;null!=i.duration&&(r.duration=Aa(i.duration)),null!=i.delay&&(r.delay=Aa(i.delay));const o=i.params;if(o){let s=r.params;s||(s=this.options.params={}),Object.keys(o).forEach(a=>{(!t||!s.hasOwnProperty(a))&&(s[a]=zg(o[a],s,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const i=e.params={};Object.keys(t).forEach(r=>{i[r]=t[r]})}}return e}createSubContext(e=null,t,i){const r=t||this.element,o=new XS(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(e),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(e){return this.previousNode=cE,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,i){const r={duration:t??e.duration,delay:this.currentTimeline.currentTime+(i??0)+e.delay,easing:""},o=new ehe(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,r,e.stretchStartingKeyframe);return this.timelines.push(o),r}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,i,r,o,s){let a=[];if(r&&a.push(this.element),e.length>0){e=(e=e.replace(Yde,"."+this._enterClassName)).replace(Xde,"."+this._leaveClassName);let c=this._driver.query(this.element,e,1!=i);0!==i&&(c=i<0?c.slice(c.length+i,c.length):c.slice(0,i)),a.push(...c)}return!o&&0==a.length&&s.push(function lde(n){return new V(3014,!1)}()),a}}class uE{constructor(e,t,i,r){this._driver=e,this.element=t,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new uE(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,i]of this._globalTimelineStyles)this._backFill.set(t,i||ma),this._currentKeyframe.set(t,ma);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,i,r){t&&this._previousKeyframe.set("easing",t);const o=r&&r.params||{},s=function the(n,e){const t=new Map;let i;return n.forEach(r=>{if("*"===r){i=i||e.keys();for(let o of i)t.set(o,ma)}else jl(r,t)}),t}(e,this._globalTimelineStyles);for(let[a,l]of s){const c=zg(l,o,i);this._pendingStyles.set(a,c),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??ma),this._updateStyle(a,c)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,i)=>{const r=this._styleSummary.get(i);(!r||t.time>r.time)&&this._updateStyle(i,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((a,l)=>{const c=jl(a,new Map,this._backFill);c.forEach((h,p)=>{"!"===h?e.add(p):h===ma&&t.add(p)}),i||c.set("offset",l/this.duration),r.push(c)});const o=e.size?rE(e.values()):[],s=t.size?rE(t.values()):[];if(i){const a=r[0],l=new Map(a);a.set("offset",0),l.set("offset",1),r=[a,l]}return YS(this.element,r,o,s,this.duration,this.startTime,this.easing,!1)}}class ehe extends uE{constructor(e,t,i,r,o,s,a=!1){super(e,t,s.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=o,this._stretchStartingKeyframe=a,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&t){const o=[],s=i+t,a=t/s,l=jl(e[0]);l.set("offset",0),o.push(l);const c=jl(e[0]);c.set("offset",X$(a)),o.push(c);const h=e.length-1;for(let p=1;p<=h;p++){let g=jl(e[p]);const y=g.get("offset");g.set("offset",X$((t+y*i)/s)),o.push(g)}i=s,t=0,r="",e=o}return YS(this.element,e,this.preStyleProps,this.postStyleProps,i,t,r,!0)}}function X$(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class JS{}const nhe=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class ihe extends JS{normalizePropertyName(e,t){return GS(e)}normalizeStyleValue(e,t,i,r){let o="";const s=i.toString().trim();if(nhe.has(t)&&0!==i&&"0"!==i)if("number"==typeof i)o="px";else{const a=i.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&r.push(function Que(n,e){return new V(3005,!1)}())}return s+o}}function J$(n,e,t,i,r,o,s,a,l,c,h,p,g){return{type:0,element:n,triggerName:e,isRemovalTransition:r,fromState:t,fromStyles:o,toState:i,toStyles:s,timelines:a,queriedElements:l,preStyleProps:c,postStyleProps:h,totalTime:p,errors:g}}const eM={};class e4{constructor(e,t,i){this._triggerName=e,this.ast=t,this._stateStyles=i}match(e,t,i,r){return function rhe(n,e,t,i,r){return n.some(o=>o(e,t,i,r))}(this.ast.matchers,e,t,i,r)}buildStyles(e,t,i){let r=this._stateStyles.get("*");return void 0!==e&&(r=this._stateStyles.get(e?.toString())||r),r?r.buildStyles(t,i):new Map}build(e,t,i,r,o,s,a,l,c,h){const p=[],g=this.ast.options&&this.ast.options.params||eM,w=this.buildStyles(i,a&&a.params||eM,p),x=l&&l.params||eM,S=this.buildStyles(r,x,p),L=new Set,R=new Map,z=new Map,Q="void"===r,ue={params:ohe(x,g),delay:this.ast.options?.delay},Pe=h?[]:QS(e,t,this.ast.animation,o,s,w,S,ue,c,p);let Je=0;if(Pe.forEach(Ur=>{Je=Math.max(Ur.duration+Ur.delay,Je)}),p.length)return J$(t,this._triggerName,i,r,Q,w,S,[],[],R,z,Je,p);Pe.forEach(Ur=>{const Yr=Ur.element,pE=po(R,Yr,new Set);Ur.preStyleProps.forEach(du=>pE.add(du));const $g=po(z,Yr,new Set);Ur.postStyleProps.forEach(du=>$g.add(du)),Yr!==t&&L.add(Yr)});const ln=rE(L.values());return J$(t,this._triggerName,i,r,Q,w,S,Pe,ln,R,z,Je)}}function ohe(n,e){const t=Ug(e);for(const i in n)n.hasOwnProperty(i)&&null!=n[i]&&(t[i]=n[i]);return t}class she{constructor(e,t,i){this.styles=e,this.defaultParams=t,this.normalizer=i}buildStyles(e,t){const i=new Map,r=Ug(this.defaultParams);return Object.keys(e).forEach(o=>{const s=e[o];null!==s&&(r[o]=s)}),this.styles.styles.forEach(o=>{"string"!=typeof o&&o.forEach((s,a)=>{s&&(s=zg(s,r,t));const l=this.normalizer.normalizePropertyName(a,t);s=this.normalizer.normalizeStyleValue(a,l,s,t),i.set(a,s)})}),i}}class lhe{constructor(e,t,i){this.name=e,this.ast=t,this._normalizer=i,this.transitionFactories=[],this.states=new Map,t.states.forEach(r=>{this.states.set(r.name,new she(r.style,r.options&&r.options.params||{},i))}),t4(this.states,"true","1"),t4(this.states,"false","0"),t.transitions.forEach(r=>{this.transitionFactories.push(new e4(e,r,this.states))}),this.fallbackTransition=function che(n,e,t){return new e4(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(s,a)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,i,r){return this.transitionFactories.find(s=>s.match(e,t,i,r))||null}matchStyles(e,t,i){return this.fallbackTransition.buildStyles(e,t,i)}}function t4(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const uhe=new lE;class dhe{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const i=[],o=ZS(this._driver,t,i,[]);if(i.length)throw function mde(n){return new V(3503,!1)}();this._animations.set(e,o)}_buildPlayer(e,t,i){const r=e.element,o=L$(this._normalizer,e.keyframes,t,i);return this._driver.animate(r,o,e.duration,e.delay,e.easing,[],!0)}create(e,t,i={}){const r=[],o=this._animations.get(e);let s;const a=new Map;if(o?(s=QS(this._driver,t,o,HS,eE,new Map,new Map,i,uhe,r),s.forEach(h=>{const p=po(a,h.element,new Map);h.postStyleProps.forEach(g=>p.set(g,null))})):(r.push(function gde(){return new V(3300,!1)}()),s=[]),r.length)throw function _de(n){return new V(3504,!1)}();a.forEach((h,p)=>{h.forEach((g,y)=>{h.set(y,this._driver.computeStyle(p,y,ma))})});const c=Ul(s.map(h=>{const p=a.get(h.element);return this._buildPlayer(h,new Map,p)}));return this._playersById.set(e,c),c.onDestroy(()=>this.destroy(e)),this.players.push(c),c}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const i=this.players.indexOf(t);i>=0&&this.players.splice(i,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function yde(n){return new V(3301,!1)}();return t}listen(e,t,i,r){const o=US(t,"","","");return VS(this._getPlayer(e),i,o,r),()=>{}}command(e,t,i,r){if("register"==i)return void this.register(e,r[0]);if("create"==i)return void this.create(e,t,r[0]||{});const o=this._getPlayer(e);switch(i){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(e)}}}const n4="ng-animate-queued",tM="ng-animate-disabled",ghe=[],r4={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},_he={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},ss="__ng_removed";class nM{get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;const i=e&&e.hasOwnProperty("value");if(this.value=function Ehe(n){return n??null}(i?e.value:e),i){const o=Ug(e);delete o.value,this.options=o}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){const t=e.params;if(t){const i=this.options.params;Object.keys(t).forEach(r=>{null==i[r]&&(i[r]=t[r])})}}}const Hg="void",iM=new nM(Hg);class yhe{constructor(e,t,i){this.id=e,this.hostElement=t,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,jo(t,this._hostClassName)}listen(e,t,i,r){if(!this._triggers.has(t))throw function vde(n,e){return new V(3302,!1)}();if(null==i||0==i.length)throw function bde(n){return new V(3303,!1)}();if(!function whe(n){return"start"==n||"done"==n}(i))throw function Ede(n,e){return new V(3400,!1)}();const o=po(this._elementListeners,e,[]),s={name:t,phase:i,callback:r};o.push(s);const a=po(this._engine.statesByElement,e,new Map);return a.has(t)||(jo(e,tE),jo(e,tE+"-"+t),a.set(t,iM)),()=>{this._engine.afterFlush(()=>{const l=o.indexOf(s);l>=0&&o.splice(l,1),this._triggers.has(t)||a.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function wde(n){return new V(3401,!1)}();return t}trigger(e,t,i,r=!0){const o=this._getTrigger(t),s=new rM(this.id,t,e);let a=this._engine.statesByElement.get(e);a||(jo(e,tE),jo(e,tE+"-"+t),this._engine.statesByElement.set(e,a=new Map));let l=a.get(t);const c=new nM(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&l&&c.absorbOptions(l.options),a.set(t,c),l||(l=iM),c.value!==Hg&&l.value===c.value){if(!function Che(n,e){const t=Object.keys(n),i=Object.keys(e);if(t.length!=i.length)return!1;for(let r=0;r<t.length;r++){const o=t[r];if(!e.hasOwnProperty(o)||n[o]!==e[o])return!1}return!0}(l.params,c.params)){const x=[],S=o.matchStyles(l.value,l.params,x),L=o.matchStyles(c.value,c.params,x);x.length?this._engine.reportError(x):this._engine.afterFlush(()=>{cu(e,S),js(e,L)})}return}const g=po(this._engine.playersByElement,e,[]);g.forEach(x=>{x.namespaceId==this.id&&x.triggerName==t&&x.queued&&x.destroy()});let y=o.matchTransition(l.value,c.value,e,c.params),w=!1;if(!y){if(!r)return;y=o.fallbackTransition,w=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:y,fromState:l,toState:c,player:s,isFallbackTransition:w}),w||(jo(e,n4),s.onStart(()=>{Xh(e,n4)})),s.onDone(()=>{let x=this.players.indexOf(s);x>=0&&this.players.splice(x,1);const S=this._engine.playersByElement.get(e);if(S){let L=S.indexOf(s);L>=0&&S.splice(L,1)}}),this.players.push(s),g.push(s),s}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,i)=>{this._elementListeners.set(i,t.filter(r=>r.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(i=>i.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const i=this._engine.driver.query(e,nE,!0);i.forEach(r=>{if(r[ss])return;const o=this._engine.fetchNamespacesByElement(r);o.size?o.forEach(s=>s.triggerLeaveAnimation(r,t,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(e,t,i,r){const o=this._engine.statesByElement.get(e),s=new Map;if(o){const a=[];if(o.forEach((l,c)=>{if(s.set(c,l.value),this._triggers.has(c)){const h=this.trigger(e,c,Hg,r);h&&a.push(h)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,s),i&&Ul(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),i=this._engine.statesByElement.get(e);if(t&&i){const r=new Set;t.forEach(o=>{const s=o.name;if(r.has(s))return;r.add(s);const l=this._triggers.get(s).fallbackTransition,c=i.get(s)||iM,h=new nM(Hg),p=new rM(this.id,s,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:s,transition:l,fromState:c,toState:h,player:p,isFallbackTransition:!0})})}}removeNode(e,t){const i=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let r=!1;if(i.totalAnimations){const o=i.players.length?i.playersByQueriedElement.get(e):[];if(o&&o.length)r=!0;else{let s=e;for(;s=s.parentNode;)if(i.statesByElement.get(s)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(e),r)i.markElementAsRemoved(this.id,e,!1,t);else{const o=e[ss];(!o||o===r4)&&(i.afterFlush(()=>this.clearElementCache(e)),i.destroyInnerAnimations(e),i._onRemovalComplete(e,t))}}insertNode(e,t){jo(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const o=i.element,s=this._elementListeners.get(o);s&&s.forEach(a=>{if(a.name==i.triggerName){const l=US(o,i.triggerName,i.fromState.value,i.toState.value);l._data=e,VS(i.player,a.phase,l,a.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):t.push(i)}),this._queue=[],t.sort((i,r)=>{const o=i.transition.ast.depCount,s=r.transition.ast.depCount;return 0==o||0==s?o-s:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}}class vhe{_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,i){this.bodyNode=e,this.driver=t,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,o)=>{}}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(i=>{i.queued&&e.push(i)})}),e}createNamespace(e,t){const i=new yhe(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(i,t):(this.newHostElements.set(t,i),this.collectEnterElement(t)),this._namespaceLookup[e]=i}_balanceNamespaceList(e,t){const i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let s=!1,a=this.driver.getParentElement(t);for(;a;){const l=r.get(a);if(l){const c=i.indexOf(l);i.splice(c+1,0,e),s=!0;break}a=this.driver.getParentElement(a)}s||i.unshift(e)}else i.push(e);return r.set(t,e),e}register(e,t){let i=this._namespaceLookup[e];return i||(i=this.createNamespace(e,t)),i}registerTrigger(e,t,i){let r=this._namespaceLookup[e];r&&r.register(t,i)&&this.totalAnimations++}destroy(e,t){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const i=this._fetchNamespace(e);this.namespacesByHostElement.delete(i.hostElement);const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1),i.destroy(t),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,i=this.statesByElement.get(e);if(i)for(let r of i.values())if(r.namespaceId){const o=this._fetchNamespace(r.namespaceId);o&&t.add(o)}return t}trigger(e,t,i,r){if(dE(t)){const o=this._fetchNamespace(e);if(o)return o.trigger(t,i,r),!0}return!1}insertNode(e,t,i,r){if(!dE(t))return;const o=t[ss];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;const s=this.collectedLeaveElements.indexOf(t);s>=0&&this.collectedLeaveElements.splice(s,1)}if(e){const s=this._fetchNamespace(e);s&&s.insertNode(t,i)}r&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),jo(e,tM)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Xh(e,tM))}removeNode(e,t,i){if(dE(t)){const r=e?this._fetchNamespace(e):null;r?r.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i);const o=this.namespacesByHostElement.get(t);o&&o.id!==e&&o.removeNode(t,i)}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,i,r,o){this.collectedLeaveElements.push(t),t[ss]={namespaceId:e,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:o}}listen(e,t,i,r,o){return dE(t)?this._fetchNamespace(e).listen(t,i,r,o):()=>{}}_buildInstruction(e,t,i,r,o){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,i,r,e.fromState.options,e.toState.options,t,o)}destroyInnerAnimations(e){let t=this.driver.query(e,nE,!0);t.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,$S,!0),t.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Ul(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[ss];if(t&&t.setForRemoval){if(e[ss]=r4,t.namespaceId){this.destroyInnerAnimations(e);const i=this._fetchNamespace(t.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(tM)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)jo(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{t=this._flushAnimations(i,e)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],t.length?Ul(t).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(e){throw function Ide(n){return new V(3402,!1)}()}_flushAnimations(e,t){const i=new lE,r=[],o=new Map,s=[],a=new Map,l=new Map,c=new Map,h=new Set;this.disabledNodes.forEach(Me=>{h.add(Me);const je=this.driver.query(Me,".ng-animate-queued",!0);for(let qe=0;qe<je.length;qe++)h.add(je[qe])});const p=this.bodyNode,g=Array.from(this.statesByElement.keys()),y=a4(g,this.collectedEnterElements),w=new Map;let x=0;y.forEach((Me,je)=>{const qe=HS+x++;w.set(je,qe),Me.forEach($t=>jo($t,qe))});const S=[],L=new Set,R=new Set;for(let Me=0;Me<this.collectedLeaveElements.length;Me++){const je=this.collectedLeaveElements[Me],qe=je[ss];qe&&qe.setForRemoval&&(S.push(je),L.add(je),qe.hasAnimation?this.driver.query(je,".ng-star-inserted",!0).forEach($t=>L.add($t)):R.add(je))}const z=new Map,Q=a4(g,Array.from(L));Q.forEach((Me,je)=>{const qe=eE+x++;z.set(je,qe),Me.forEach($t=>jo($t,qe))}),e.push(()=>{y.forEach((Me,je)=>{const qe=w.get(je);Me.forEach($t=>Xh($t,qe))}),Q.forEach((Me,je)=>{const qe=z.get(je);Me.forEach($t=>Xh($t,qe))}),S.forEach(Me=>{this.processLeaveNode(Me)})});const ue=[],Pe=[];for(let Me=this._namespaceList.length-1;Me>=0;Me--)this._namespaceList[Me].drainQueuedTransitions(t).forEach(qe=>{const $t=qe.player,Vi=qe.element;if(ue.push($t),this.collectedEnterElements.length){const mr=Vi[ss];if(mr&&mr.setForMove){if(mr.previousTriggersValues&&mr.previousTriggersValues.has(qe.triggerName)){const hu=mr.previousTriggersValues.get(qe.triggerName),zo=this.statesByElement.get(qe.element);if(zo&&zo.has(qe.triggerName)){const mE=zo.get(qe.triggerName);mE.value=hu,zo.set(qe.triggerName,mE)}}return void $t.destroy()}}const zs=!p||!this.driver.containsElement(p,Vi),go=z.get(Vi),zl=w.get(Vi),Hn=this._buildInstruction(qe,i,zl,go,zs);if(Hn.errors&&Hn.errors.length)return void Pe.push(Hn);if(zs)return $t.onStart(()=>cu(Vi,Hn.fromStyles)),$t.onDestroy(()=>js(Vi,Hn.toStyles)),void r.push($t);if(qe.isFallbackTransition)return $t.onStart(()=>cu(Vi,Hn.fromStyles)),$t.onDestroy(()=>js(Vi,Hn.toStyles)),void r.push($t);const v4=[];Hn.timelines.forEach(mr=>{mr.stretchStartingKeyframe=!0,this.disabledNodes.has(mr.element)||v4.push(mr)}),Hn.timelines=v4,i.append(Vi,Hn.timelines),s.push({instruction:Hn,player:$t,element:Vi}),Hn.queriedElements.forEach(mr=>po(a,mr,[]).push($t)),Hn.preStyleProps.forEach((mr,hu)=>{if(mr.size){let zo=l.get(hu);zo||l.set(hu,zo=new Set),mr.forEach((mE,aM)=>zo.add(aM))}}),Hn.postStyleProps.forEach((mr,hu)=>{let zo=c.get(hu);zo||c.set(hu,zo=new Set),mr.forEach((mE,aM)=>zo.add(aM))})});if(Pe.length){const Me=[];Pe.forEach(je=>{Me.push(function xde(n,e){return new V(3505,!1)}())}),ue.forEach(je=>je.destroy()),this.reportError(Me)}const Je=new Map,ln=new Map;s.forEach(Me=>{const je=Me.element;i.has(je)&&(ln.set(je,je),this._beforeAnimationBuild(Me.player.namespaceId,Me.instruction,Je))}),r.forEach(Me=>{const je=Me.element;this._getPreviousPlayers(je,!1,Me.namespaceId,Me.triggerName,null).forEach($t=>{po(Je,je,[]).push($t),$t.destroy()})});const Ur=S.filter(Me=>c4(Me,l,c)),Yr=new Map;s4(Yr,this.driver,R,c,ma).forEach(Me=>{c4(Me,l,c)&&Ur.push(Me)});const $g=new Map;y.forEach((Me,je)=>{s4($g,this.driver,new Set(Me),l,"!")}),Ur.forEach(Me=>{const je=Yr.get(Me),qe=$g.get(Me);Yr.set(Me,new Map([...je?.entries()??[],...qe?.entries()??[]]))});const du=[],_4=[],y4={};s.forEach(Me=>{const{element:je,player:qe,instruction:$t}=Me;if(i.has(je)){if(h.has(je))return qe.onDestroy(()=>js(je,$t.toStyles)),qe.disabled=!0,qe.overrideTotalTime($t.totalTime),void r.push(qe);let Vi=y4;if(ln.size>1){let go=je;const zl=[];for(;go=go.parentNode;){const Hn=ln.get(go);if(Hn){Vi=Hn;break}zl.push(go)}zl.forEach(Hn=>ln.set(Hn,Vi))}const zs=this._buildAnimation(qe.namespaceId,$t,Je,o,$g,Yr);if(qe.setRealPlayer(zs),Vi===y4)du.push(qe);else{const go=this.playersByElement.get(Vi);go&&go.length&&(qe.parentPlayer=Ul(go)),r.push(qe)}}else cu(je,$t.fromStyles),qe.onDestroy(()=>js(je,$t.toStyles)),_4.push(qe),h.has(je)&&r.push(qe)}),_4.forEach(Me=>{const je=o.get(Me.element);if(je&&je.length){const qe=Ul(je);Me.setRealPlayer(qe)}}),r.forEach(Me=>{Me.parentPlayer?Me.syncPlayerEvents(Me.parentPlayer):Me.destroy()});for(let Me=0;Me<S.length;Me++){const je=S[Me],qe=je[ss];if(Xh(je,eE),qe&&qe.hasAnimation)continue;let $t=[];if(a.size){let zs=a.get(je);zs&&zs.length&&$t.push(...zs);let go=this.driver.query(je,$S,!0);for(let zl=0;zl<go.length;zl++){let Hn=a.get(go[zl]);Hn&&Hn.length&&$t.push(...Hn)}}const Vi=$t.filter(zs=>!zs.destroyed);Vi.length?Ihe(this,je,Vi):this.processLeaveNode(je)}return S.length=0,du.forEach(Me=>{this.players.push(Me),Me.onDone(()=>{Me.destroy();const je=this.players.indexOf(Me);this.players.splice(je,1)}),Me.play()}),du}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,i,r,o){let s=[];if(t){const a=this.playersByQueriedElement.get(e);a&&(s=a)}else{const a=this.playersByElement.get(e);if(a){const l=!o||o==Hg;a.forEach(c=>{c.queued||!l&&c.triggerName!=r||s.push(c)})}}return(i||r)&&(s=s.filter(a=>!(i&&i!=a.namespaceId||r&&r!=a.triggerName))),s}_beforeAnimationBuild(e,t,i){const o=t.element,s=t.isRemovalTransition?void 0:e,a=t.isRemovalTransition?void 0:t.triggerName;for(const l of t.timelines){const c=l.element,h=c!==o,p=po(i,c,[]);this._getPreviousPlayers(c,h,s,a,t.toState).forEach(y=>{const w=y.getRealPlayer();w.beforeDestroy&&w.beforeDestroy(),y.destroy(),p.push(y)})}cu(o,t.fromStyles)}_buildAnimation(e,t,i,r,o,s){const a=t.triggerName,l=t.element,c=[],h=new Set,p=new Set,g=t.timelines.map(w=>{const x=w.element;h.add(x);const S=x[ss];if(S&&S.removedBeforeQueried)return new om(w.duration,w.delay);const L=x!==l,R=function xhe(n){const e=[];return l4(n,e),e}((i.get(x)||ghe).map(Je=>Je.getRealPlayer())).filter(Je=>!!Je.element&&Je.element===x),z=o.get(x),Q=s.get(x),ue=L$(this._normalizer,w.keyframes,z,Q),Pe=this._buildPlayer(w,ue,R);if(w.subTimeline&&r&&p.add(x),L){const Je=new rM(e,a,x);Je.setRealPlayer(Pe),c.push(Je)}return Pe});c.forEach(w=>{po(this.playersByQueriedElement,w.element,[]).push(w),w.onDone(()=>function bhe(n,e,t){let i=n.get(e);if(i){if(i.length){const r=i.indexOf(t);i.splice(r,1)}0==i.length&&n.delete(e)}return i}(this.playersByQueriedElement,w.element,w))}),h.forEach(w=>jo(w,$$));const y=Ul(g);return y.onDestroy(()=>{h.forEach(w=>Xh(w,$$)),js(l,t.toStyles)}),p.forEach(w=>{po(r,w,[]).push(y)}),y}_buildPlayer(e,t,i){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,i):new om(e.duration,e.delay)}}class rM{constructor(e,t,i){this.namespaceId=e,this.triggerName=t,this.element=i,this._player=new om,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,i)=>{t.forEach(r=>VS(e,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){po(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function dE(n){return n&&1===n.nodeType}function o4(n,e){const t=n.style.display;return n.style.display=e??"none",t}function s4(n,e,t,i,r){const o=[];t.forEach(l=>o.push(o4(l)));const s=[];i.forEach((l,c)=>{const h=new Map;l.forEach(p=>{const g=e.computeStyle(c,p,r);h.set(p,g),(!g||0==g.length)&&(c[ss]=_he,s.push(c))}),n.set(c,h)});let a=0;return t.forEach(l=>o4(l,o[a++])),s}function a4(n,e){const t=new Map;if(n.forEach(a=>t.set(a,[])),0==e.length)return t;const r=new Set(e),o=new Map;function s(a){if(!a)return 1;let l=o.get(a);if(l)return l;const c=a.parentNode;return l=t.has(c)?c:r.has(c)?1:s(c),o.set(a,l),l}return e.forEach(a=>{const l=s(a);1!==l&&t.get(l).push(a)}),t}function jo(n,e){n.classList?.add(e)}function Xh(n,e){n.classList?.remove(e)}function Ihe(n,e,t){Ul(t).onDone(()=>n.processLeaveNode(e))}function l4(n,e){for(let t=0;t<n.length;t++){const i=n[t];i instanceof oV?l4(i.players,e):e.push(i)}}function c4(n,e,t){const i=t.get(n);if(!i)return!1;let r=e.get(n);return r?i.forEach(o=>r.add(o)):e.set(n,i),t.delete(n),!0}class hE{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,o)=>{},this._transitionEngine=new vhe(e,t,i),this._timelineEngine=new dhe(e,t,i),this._transitionEngine.onRemovalComplete=(r,o)=>this.onRemovalComplete(r,o)}registerTrigger(e,t,i,r,o){const s=e+"-"+r;let a=this._triggerCache[s];if(!a){const l=[],h=ZS(this._driver,o,l,[]);if(l.length)throw function fde(n,e){return new V(3404,!1)}();a=function ahe(n,e,t){return new lhe(n,e,t)}(r,h,this._normalizer),this._triggerCache[s]=a}this._transitionEngine.registerTrigger(t,r,a)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,i,r){this._transitionEngine.insertNode(e,t,i,r)}onRemove(e,t,i){this._transitionEngine.removeNode(e,t,i)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,i,r){if("@"==i.charAt(0)){const[o,s]=V$(i);this._timelineEngine.command(o,t,s,r)}else this._transitionEngine.trigger(e,t,i,r)}listen(e,t,i,r,o){if("@"==i.charAt(0)){const[s,a]=V$(i);return this._timelineEngine.listen(s,t,a,o)}return this._transitionEngine.listen(e,t,i,r,o)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}}let Dhe=(()=>{class n{static#e=this.initialStylesByElement=new WeakMap;constructor(t,i,r){this._element=t,this._startStyles=i,this._endStyles=r,this._state=0;let o=n.initialStylesByElement.get(t);o||n.initialStylesByElement.set(t,o=new Map),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&js(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(js(this._element,this._initialStyles),this._endStyles&&(js(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(cu(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(cu(this._element,this._endStyles),this._endStyles=null),js(this._element,this._initialStyles),this._state=3)}}return n})();function oM(n){let e=null;return n.forEach((t,i)=>{(function Ahe(n){return"display"===n||"position"===n})(i)&&(e=e||new Map,e.set(i,t))}),e}class u4{constructor(e,t,i,r){this.element=e,this.keyframes=t,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map;const t=()=>this._onFinish();this.domPlayer.addEventListener("finish",t),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",t)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(i=>{t.push(Object.fromEntries(i))}),t}_triggerWebAnimation(e,t,i){return e.animate(this._convertKeyframesToObject(t),i)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{"offset"!==r&&e.set(r,this._finished?i:Z$(this.element,r))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class She{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return U$(e,t)}getParentElement(e){return jS(e)}query(e,t,i){return j$(e,t,i)}computeStyle(e,t,i){return window.getComputedStyle(e)[t]}animate(e,t,i,r,o,s=[]){const l={duration:i,delay:r,fill:0==r?"both":"forwards"};o&&(l.easing=o);const c=new Map,h=s.filter(y=>y instanceof u4);(function Fde(n,e){return 0===n||0===e})(i,r)&&h.forEach(y=>{y.currentSnapshot.forEach((w,x)=>c.set(x,w))});let p=function kde(n){return n.length?n[0]instanceof Map?n:n.map(e=>W$(e)):[]}(t).map(y=>jl(y));p=function Lde(n,e,t){if(t.size&&e.length){let i=e[0],r=[];if(t.forEach((o,s)=>{i.has(s)||r.push(s),i.set(s,o)}),r.length)for(let o=1;o<e.length;o++){let s=e[o];r.forEach(a=>s.set(a,Z$(n,a)))}}return e}(e,p,c);const g=function The(n,e){let t=null,i=null;return Array.isArray(e)&&e.length?(t=oM(e[0]),e.length>1&&(i=oM(e[e.length-1]))):e instanceof Map&&(t=oM(e)),t||i?new Dhe(n,t,i):null}(e,p);return new u4(e,p,l,g)}}let Mhe=(()=>{class n extends eV{constructor(t,i){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(i.body,{id:"0",encapsulation:jr.None,styles:[],data:{animation:[]}})}build(t){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(t)?nV(t):t;return d4(this._renderer,null,i,"register",[r]),new Rhe(i,this._renderer)}static#e=this.\u0275fac=function(i){return new(i||n)(O(gp),O(nt))};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac})}return n})();class Rhe extends zX{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new Phe(this._id,e,t||{},this._renderer)}}class Phe{constructor(e,t,i,r){this.id=e,this.element=t,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return d4(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function d4(n,e,t,i,r){return n.setProperty(e,`@@${t}:${i}`,r)}const h4="@.disabled";let khe=(()=>{class n{constructor(t,i,r){this.delegate=t,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,i.onRemovalComplete=(o,s)=>{const a=s?.parentNode(o);a&&s.removeChild(a,o)}}createRenderer(t,i){const o=this.delegate.createRenderer(t,i);if(!(t&&i&&i.data&&i.data.animation)){let h=this._rendererCache.get(o);return h||(h=new f4("",o,this.engine,()=>this._rendererCache.delete(o)),this._rendererCache.set(o,h)),h}const s=i.id,a=i.id+"-"+this._currentId;this._currentId++,this.engine.register(a,t);const l=h=>{Array.isArray(h)?h.forEach(l):this.engine.registerTrigger(s,a,t,h.name,h)};return i.data.animation.forEach(l),new Ohe(this,a,o,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(t,i,r){t>=0&&t<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&queueMicrotask(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(o=>{const[s,a]=o;s(a)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}static#e=this.\u0275fac=function(i){return new(i||n)(O(gp),O(hE),O(Ce))};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac})}return n})();class f4{constructor(e,t,i,r){this.namespaceId=e,this.delegate=t,this.engine=i,this._onDestroy=r}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,i,r=!0){this.delegate.insertBefore(e,t,i),this.engine.onInsert(this.namespaceId,t,e,r)}removeChild(e,t,i){this.engine.onRemove(this.namespaceId,t,this.delegate)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,i,r){this.delegate.setAttribute(e,t,i,r)}removeAttribute(e,t,i){this.delegate.removeAttribute(e,t,i)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,i,r){this.delegate.setStyle(e,t,i,r)}removeStyle(e,t,i){this.delegate.removeStyle(e,t,i)}setProperty(e,t,i){"@"==t.charAt(0)&&t==h4?this.disableAnimations(e,!!i):this.delegate.setProperty(e,t,i)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,i){return this.delegate.listen(e,t,i)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class Ohe extends f4{constructor(e,t,i,r,o){super(t,i,r,o),this.factory=e,this.namespaceId=t}setProperty(e,t,i){"@"==t.charAt(0)?"."==t.charAt(1)&&t==h4?this.disableAnimations(e,i=void 0===i||!!i):this.engine.process(this.namespaceId,e,t.slice(1),i):this.delegate.setProperty(e,t,i)}listen(e,t,i){if("@"==t.charAt(0)){const r=function Nhe(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let o=t.slice(1),s="";return"@"!=o.charAt(0)&&([o,s]=function Fhe(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(o)),this.engine.listen(this.namespaceId,r,o,s,a=>{this.factory.scheduleListenerCallback(a._data||-1,i,a)})}return this.delegate.listen(e,t,i)}}let Lhe=(()=>{class n extends hE{constructor(t,i,r,o){super(t.body,i,r)}ngOnDestroy(){this.flush()}static#e=this.\u0275fac=function(i){return new(i||n)(O(nt),O(zS),O(JS),O(rl))};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac})}return n})();const p4=[{provide:eV,useClass:Mhe},{provide:JS,useFactory:function Vhe(){return new ihe}},{provide:hE,useClass:Lhe},{provide:gp,useFactory:function Bhe(n,e,t){return new khe(n,e,t)},deps:[Ux,hE,Ce]}],sM=[{provide:zS,useFactory:()=>new She},{provide:ar,useValue:"BrowserAnimations"},...p4],m4=[{provide:zS,useClass:z$},{provide:ar,useValue:"NoopAnimations"},...p4];let Uhe=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?m4:sM}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=at({type:n});static#n=this.\u0275inj=mt({providers:sM,imports:[LN]})}return n})();const g4={apiKey:"AIzaSyANXxiNezN7C2nbii7lITb6BiMywR3Pnt8",authDomain:"tmanager-f82a0.firebaseapp.com",projectId:"tmanager-f82a0",storageBucket:"tmanager-f82a0.appspot.com",messagingSenderId:"527665683669",appId:"1:527665683669:web:73059c97011a7de289165c"};let jhe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=at({type:n,bootstrap:[Wue]});static#n=this.\u0275inj=mt({imports:[LN,$ue,Uhe,gQ,qF,PQ,BQ,TJ,jC,VX,Fee,gte,t2,Qae,Kte.initializeApp(g4),Oae,bue(()=>(0,Nr.initializeApp)(g4)),Mue(()=>function _se(n,e){const t="object"==typeof n?n:(0,Nr.getApp)(),i="string"==typeof n?n:e||"(default)",r=(0,Nr._getProvider)(t,"firestore").getImmediate({identifier:i});if(!r._initialized){const o=(0,sn.P0)("firestore");o&&Pz(r,...o)}return r}())]})}return n})();oK().bootstrapModule(jhe).catch(n=>console.error(n))},106:(_o,Qn,Be)=>{Be.d(Qn,{Z:()=>Xn});var C=Be(58),K=Be(537),N=Be(534),Se=Be(879);class We{constructor(Ge,Ze){this._delegate=Ge,this.firebase=Ze,(0,N._addComponent)(Ge,new K.wA("app-compat",()=>this,"PUBLIC")),this.container=Ge.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ge){this._delegate.automaticDataCollectionEnabled=Ge}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Ge=>{this._delegate.checkDestroyed(),Ge()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,N.deleteApp)(this._delegate)))}_getService(Ge,Ze=N._DEFAULT_ENTRY_NAME){var ui;this._delegate.checkDestroyed();const En=this._delegate.container.getProvider(Ge);return!En.isInitialized()&&"EXPLICIT"===(null===(ui=En.getComponent())||void 0===ui?void 0:ui.instantiationMode)&&En.initialize(),En.getImmediate({identifier:Ze})}_removeServiceInstance(Ge,Ze=N._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Ge).clearInstance(Ze)}_addComponent(Ge){(0,N._addComponent)(this._delegate,Ge)}_addOrOverwriteComponent(Ge){(0,N._addOrOverwriteComponent)(this._delegate,Ge)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Ln=new C.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),J=function St(){const vt=function rn(vt){const Ge={},Ze={__esModule:!0,initializeApp:function gt(ot,oe={}){const wt=N.initializeApp(ot,oe);if((0,C.r3)(Ge,wt.name))return Ge[wt.name];const cn=new vt(wt,Ze);return Ge[wt.name]=cn,cn},app:En,registerVersion:N.registerVersion,setLogLevel:N.setLogLevel,onLog:N.onLog,apps:null,SDK_VERSION:N.SDK_VERSION,INTERNAL:{registerComponent:function gr(ot){const oe=ot.name,wt=oe.replace("-compat","");if(N._registerComponent(ot)&&"PUBLIC"===ot.type){const cn=(kn=En())=>{if("function"!=typeof kn[wt])throw Ln.create("invalid-app-argument",{appName:oe});return kn[wt]()};void 0!==ot.serviceProps&&(0,C.ZB)(cn,ot.serviceProps),Ze[wt]=cn,vt.prototype[wt]=function(...kn){return this._getService.bind(this,oe).apply(this,ot.multipleInstances?kn:[])}}return"PUBLIC"===ot.type?Ze[wt]:null},removeApp:function ui(ot){delete Ge[ot]},useAsService:function $n(ot,oe){return"serverAuth"===oe?null:oe},modularAPIs:N}};function En(ot){if(!(0,C.r3)(Ge,ot=ot||N._DEFAULT_ENTRY_NAME))throw Ln.create("no-app",{appName:ot});return Ge[ot]}return Ze.default=Ze,Object.defineProperty(Ze,"apps",{get:function qt(){return Object.keys(Ge).map(ot=>Ge[ot])}}),En.App=vt,Ze}(We);return vt.INTERNAL=Object.assign(Object.assign({},vt.INTERNAL),{createFirebaseNamespace:St,extendNamespace:function Ge(Ze){(0,C.ZB)(vt,Ze)},createSubscribe:C.ne,ErrorFactory:C.LL,deepExtend:C.ZB}),vt}(),ae=new Se.Yd("@firebase/app-compat");if((0,C.jU)()&&void 0!==self.firebase){ae.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const vt=self.firebase.SDK_VERSION;vt&&vt.indexOf("LITE")>=0&&ae.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Xn=J;!function kt(vt){(0,N.registerVersion)("@firebase/app-compat","0.2.23",vt)}()},534:(_o,Qn,Be)=>{Be.r(Qn),Be.d(Qn,{FirebaseError:()=>Se.ZR,SDK_VERSION:()=>wo,_DEFAULT_ENTRY_NAME:()=>eo,_addComponent:()=>vr,_addOrOverwriteComponent:()=>br,_apps:()=>Ti,_clearComponents:()=>In,_components:()=>yr,_getProvider:()=>Ut,_registerComponent:()=>_i,_removeServiceInstance:()=>Er,deleteApp:()=>ni,getApp:()=>no,getApps:()=>ti,initializeApp:()=>Io,onLog:()=>Sa,registerVersion:()=>wr,setLogLevel:()=>as});var C=Be(861),K=Be(537),N=Be(879),Se=Be(58);const We=(U,k)=>k.some(re=>U instanceof re);let bn,Ln;const J=new WeakMap,ae=new WeakMap,De=new WeakMap,tt=new WeakMap,kt=new WeakMap;let Ge={get(U,k,re){if(U instanceof IDBTransaction){if("done"===k)return ae.get(U);if("objectStoreNames"===k)return U.objectStoreNames||De.get(U);if("store"===k)return re.objectStoreNames[1]?void 0:re.objectStore(re.objectStoreNames[0])}return gt(U[k])},set:(U,k,re)=>(U[k]=re,!0),has:(U,k)=>U instanceof IDBTransaction&&("done"===k||"store"===k)||k in U};function En(U){return"function"==typeof U?function ui(U){return U!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function St(){return Ln||(Ln=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(U)?function(...k){return U.apply(qt(this),k),gt(J.get(this))}:function(...k){return gt(U.apply(qt(this),k))}:function(k,...re){const Ae=U.call(qt(this),k,...re);return De.set(Ae,k.sort?k.sort():[k]),gt(Ae)}}(U):(U instanceof IDBTransaction&&function vt(U){if(ae.has(U))return;const k=new Promise((re,Ae)=>{const st=()=>{U.removeEventListener("complete",dt),U.removeEventListener("error",V),U.removeEventListener("abort",V)},dt=()=>{re(),st()},V=()=>{Ae(U.error||new DOMException("AbortError","AbortError")),st()};U.addEventListener("complete",dt),U.addEventListener("error",V),U.addEventListener("abort",V)});ae.set(U,k)}(U),We(U,function rn(){return bn||(bn=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(U,Ge):U)}function gt(U){if(U instanceof IDBRequest)return function Xn(U){const k=new Promise((re,Ae)=>{const st=()=>{U.removeEventListener("success",dt),U.removeEventListener("error",V)},dt=()=>{re(gt(U.result)),st()},V=()=>{Ae(U.error),st()};U.addEventListener("success",dt),U.addEventListener("error",V)});return k.then(re=>{re instanceof IDBCursor&&J.set(re,U)}).catch(()=>{}),kt.set(k,U),k}(U);if(tt.has(U))return tt.get(U);const k=En(U);return k!==U&&(tt.set(U,k),kt.set(k,U)),k}const qt=U=>kt.get(U),ot=["get","getKey","getAll","getAllKeys","count"],oe=["put","add","delete","clear"],wt=new Map;function cn(U,k){if(!(U instanceof IDBDatabase)||k in U||"string"!=typeof k)return;if(wt.get(k))return wt.get(k);const re=k.replace(/FromIndex$/,""),Ae=k!==re,st=oe.includes(re);if(!(re in(Ae?IDBIndex:IDBObjectStore).prototype)||!st&&!ot.includes(re))return;const dt=function(){var V=(0,C.Z)(function*(Bn,...Te){const pt=this.transaction(Bn,st?"readwrite":"readonly");let $l=pt.store;return Ae&&($l=$l.index(Te.shift())),(yield Promise.all([$l[re](...Te),st&&pt.done]))[0]});return function(Te){return V.apply(this,arguments)}}();return wt.set(k,dt),dt}!function Ze(U){Ge=U(Ge)}(U=>({...U,get:(k,re,Ae)=>cn(k,re)||U.get(k,re,Ae),has:(k,re)=>!!cn(k,re)||U.has(k,re)}));class kn{constructor(k){this.container=k}getPlatformInfoString(){return this.container.getProviders().map(re=>{if(function Vn(U){const k=U.getComponent();return"VERSION"===k?.type}(re)){const Ae=re.getImmediate();return`${Ae.library}/${Ae.version}`}return null}).filter(re=>re).join(" ")}}const Qr="@firebase/app",Ke=new N.Yd("@firebase/app"),eo="[DEFAULT]",to={[Qr]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Ti=new Map,yr=new Map;function vr(U,k){try{U.container.addComponent(k)}catch(re){Ke.debug(`Component ${k.name} failed to register with FirebaseApp ${U.name}`,re)}}function br(U,k){U.container.addOrOverwriteComponent(k)}function _i(U){const k=U.name;if(yr.has(k))return Ke.debug(`There were multiple attempts to register component ${k}.`),!1;yr.set(k,U);for(const re of Ti.values())vr(re,U);return!0}function Ut(U,k){const re=U.container.getProvider("heartbeat").getImmediate({optional:!0});return re&&re.triggerHeartbeat(),U.container.getProvider(k)}function Er(U,k,re=eo){Ut(U,k).clearInstance(re)}function In(){yr.clear()}const xn=new Se.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class On{constructor(k,re,Ae){this._isDeleted=!1,this._options=Object.assign({},k),this._config=Object.assign({},re),this._name=re.name,this._automaticDataCollectionEnabled=re.automaticDataCollectionEnabled,this._container=Ae,this.container.addComponent(new K.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(k){this.checkDestroyed(),this._automaticDataCollectionEnabled=k}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(k){this._isDeleted=k}checkDestroyed(){if(this.isDeleted)throw xn.create("app-deleted",{appName:this._name})}}const wo="10.6.0";function Io(U,k={}){let re=U;"object"!=typeof k&&(k={name:k});const Ae=Object.assign({name:eo,automaticDataCollectionEnabled:!1},k),st=Ae.name;if("string"!=typeof st||!st)throw xn.create("bad-app-name",{appName:String(st)});if(re||(re=(0,Se.aH)()),!re)throw xn.create("no-options");const dt=Ti.get(st);if(dt){if((0,Se.vZ)(re,dt.options)&&(0,Se.vZ)(Ae,dt.config))return dt;throw xn.create("duplicate-app",{appName:st})}const V=new K.H0(st);for(const Te of yr.values())V.addComponent(Te);const Bn=new On(re,Ae,V);return Ti.set(st,Bn),Bn}function no(U=eo){const k=Ti.get(U);if(!k&&U===eo&&(0,Se.aH)())return Io();if(!k)throw xn.create("no-app",{appName:U});return k}function ti(){return Array.from(Ti.values())}function ni(U){return Bi.apply(this,arguments)}function Bi(){return(Bi=(0,C.Z)(function*(U){const k=U.name;Ti.has(k)&&(Ti.delete(k),yield Promise.all(U.container.getProviders().map(re=>re.delete())),U.isDeleted=!0)})).apply(this,arguments)}function wr(U,k,re){var Ae;let st=null!==(Ae=to[U])&&void 0!==Ae?Ae:U;re&&(st+=`-${re}`);const dt=st.match(/\s|\//),V=k.match(/\s|\//);if(dt||V){const Bn=[`Unable to register library "${st}" with version "${k}":`];return dt&&Bn.push(`library name "${st}" contains illegal characters (whitespace or "/")`),dt&&V&&Bn.push("and"),V&&Bn.push(`version name "${k}" contains illegal characters (whitespace or "/")`),void Ke.warn(Bn.join(" "))}_i(new K.wA(`${st}-version`,()=>({library:st,version:k}),"VERSION"))}function Sa(U,k){if(null!==U&&"function"!=typeof U)throw xn.create("invalid-log-argument");(0,N.Am)(U,k)}function as(U){(0,N.Ub)(U)}const Hs="firebase-heartbeat-database",xo=1,M="firebase-heartbeat-store";let D=null;function b(){return D||(D=function gr(U,k,{blocked:re,upgrade:Ae,blocking:st,terminated:dt}={}){const V=indexedDB.open(U,k),Bn=gt(V);return Ae&&V.addEventListener("upgradeneeded",Te=>{Ae(gt(V.result),Te.oldVersion,Te.newVersion,gt(V.transaction),Te)}),re&&V.addEventListener("blocked",Te=>re(Te.oldVersion,Te.newVersion,Te)),Bn.then(Te=>{dt&&Te.addEventListener("close",()=>dt()),st&&Te.addEventListener("versionchange",pt=>st(pt.oldVersion,pt.newVersion,pt))}).catch(()=>{}),Bn}(Hs,xo,{upgrade:(U,k)=>{0===k&&U.createObjectStore(M)}}).catch(U=>{throw xn.create("idb-open",{originalErrorMessage:U.message})})),D}function v(){return(v=(0,C.Z)(function*(U){try{return yield(yield b()).transaction(M).objectStore(M).get(Ie(U))}catch(k){if(k instanceof Se.ZR)Ke.warn(k.message);else{const re=xn.create("idb-get",{originalErrorMessage:k?.message});Ke.warn(re.message)}}})).apply(this,arguments)}function A(U,k){return Z.apply(this,arguments)}function Z(){return(Z=(0,C.Z)(function*(U,k){try{const Ae=(yield b()).transaction(M,"readwrite");yield Ae.objectStore(M).put(k,Ie(U)),yield Ae.done}catch(re){if(re instanceof Se.ZR)Ke.warn(re.message);else{const Ae=xn.create("idb-set",{originalErrorMessage:re?.message});Ke.warn(Ae.message)}}})).apply(this,arguments)}function Ie(U){return`${U.name}!${U.options.appId}`}class Mt{constructor(k){this.container=k,this._heartbeatsCache=null;const re=this.container.getProvider("app").getImmediate();this._storage=new Re(re),this._heartbeatsCachePromise=this._storage.read().then(Ae=>(this._heartbeatsCache=Ae,Ae))}triggerHeartbeat(){var k=this;return(0,C.Z)(function*(){var re;const st=k.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),dt=_e();if(null==(null===(re=k._heartbeatsCache)||void 0===re?void 0:re.heartbeats)&&(k._heartbeatsCache=yield k._heartbeatsCachePromise),k._heartbeatsCache.lastSentHeartbeatDate!==dt&&!k._heartbeatsCache.heartbeats.some(V=>V.date===dt))return k._heartbeatsCache.heartbeats.push({date:dt,agent:st}),k._heartbeatsCache.heartbeats=k._heartbeatsCache.heartbeats.filter(V=>{const Bn=new Date(V.date).valueOf();return Date.now()-Bn<=2592e6}),k._storage.overwrite(k._heartbeatsCache)})()}getHeartbeatsHeader(){var k=this;return(0,C.Z)(function*(){var re;if(null===k._heartbeatsCache&&(yield k._heartbeatsCachePromise),null==(null===(re=k._heartbeatsCache)||void 0===re?void 0:re.heartbeats)||0===k._heartbeatsCache.heartbeats.length)return"";const Ae=_e(),{heartbeatsToSend:st,unsentEntries:dt}=function Kt(U,k=1024){const re=[];let Ae=U.slice();for(const st of U){const dt=re.find(V=>V.agent===st.agent);if(dt){if(dt.dates.push(st.date),di(re)>k){dt.dates.pop();break}}else if(re.push({agent:st.agent,dates:[st.date]}),di(re)>k){re.pop();break}Ae=Ae.slice(1)}return{heartbeatsToSend:re,unsentEntries:Ae}}(k._heartbeatsCache.heartbeats),V=(0,Se.L)(JSON.stringify({version:2,heartbeats:st}));return k._heartbeatsCache.lastSentHeartbeatDate=Ae,dt.length>0?(k._heartbeatsCache.heartbeats=dt,yield k._storage.overwrite(k._heartbeatsCache)):(k._heartbeatsCache.heartbeats=[],k._storage.overwrite(k._heartbeatsCache)),V})()}}function _e(){return(new Date).toISOString().substring(0,10)}class Re{constructor(k){this.app=k,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,C.Z)(function*(){return!!(0,Se.hl)()&&(0,Se.eu)().then(()=>!0).catch(()=>!1)})()}read(){var k=this;return(0,C.Z)(function*(){return(yield k._canUseIndexedDBPromise)&&(yield function I(U){return v.apply(this,arguments)}(k.app))||{heartbeats:[]}})()}overwrite(k){var re=this;return(0,C.Z)(function*(){var Ae;if(yield re._canUseIndexedDBPromise){const dt=yield re.read();return A(re.app,{lastSentHeartbeatDate:null!==(Ae=k.lastSentHeartbeatDate)&&void 0!==Ae?Ae:dt.lastSentHeartbeatDate,heartbeats:k.heartbeats})}})()}add(k){var re=this;return(0,C.Z)(function*(){var Ae;if(yield re._canUseIndexedDBPromise){const dt=yield re.read();return A(re.app,{lastSentHeartbeatDate:null!==(Ae=k.lastSentHeartbeatDate)&&void 0!==Ae?Ae:dt.lastSentHeartbeatDate,heartbeats:[...dt.heartbeats,...k.heartbeats]})}})()}}function di(U){return(0,Se.L)(JSON.stringify({version:2,heartbeats:U})).length}!function $s(U){_i(new K.wA("platform-logger",k=>new kn(k),"PRIVATE")),_i(new K.wA("heartbeat",k=>new Mt(k),"PRIVATE")),wr(Qr,"0.9.23",U),wr(Qr,"0.9.23","esm2017"),wr("fire-js","")}("")},537:(_o,Qn,Be)=>{Be.d(Qn,{H0:()=>rn,wA:()=>N});var C=Be(861),K=Be(58);class N{constructor(J,ae,De){this.name=J,this.instanceFactory=ae,this.type=De,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(J){return this.instantiationMode=J,this}setMultipleInstances(J){return this.multipleInstances=J,this}setServiceProps(J){return this.serviceProps=J,this}setInstanceCreatedCallback(J){return this.onInstanceCreated=J,this}}const Se="[DEFAULT]";class We{constructor(J,ae){this.name=J,this.container=ae,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(J){const ae=this.normalizeInstanceIdentifier(J);if(!this.instancesDeferred.has(ae)){const De=new K.BH;if(this.instancesDeferred.set(ae,De),this.isInitialized(ae)||this.shouldAutoInitialize())try{const tt=this.getOrInitializeService({instanceIdentifier:ae});tt&&De.resolve(tt)}catch{}}return this.instancesDeferred.get(ae).promise}getImmediate(J){var ae;const De=this.normalizeInstanceIdentifier(J?.identifier),tt=null!==(ae=J?.optional)&&void 0!==ae&&ae;if(!this.isInitialized(De)&&!this.shouldAutoInitialize()){if(tt)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:De})}catch(kt){if(tt)return null;throw kt}}getComponent(){return this.component}setComponent(J){if(J.name!==this.name)throw Error(`Mismatching Component ${J.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=J,this.shouldAutoInitialize()){if(function Ln(St){return"EAGER"===St.instantiationMode}(J))try{this.getOrInitializeService({instanceIdentifier:Se})}catch{}for(const[ae,De]of this.instancesDeferred.entries()){const tt=this.normalizeInstanceIdentifier(ae);try{const kt=this.getOrInitializeService({instanceIdentifier:tt});De.resolve(kt)}catch{}}}}clearInstance(J=Se){this.instancesDeferred.delete(J),this.instancesOptions.delete(J),this.instances.delete(J)}delete(){var J=this;return(0,C.Z)(function*(){const ae=Array.from(J.instances.values());yield Promise.all([...ae.filter(De=>"INTERNAL"in De).map(De=>De.INTERNAL.delete()),...ae.filter(De=>"_delete"in De).map(De=>De._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(J=Se){return this.instances.has(J)}getOptions(J=Se){return this.instancesOptions.get(J)||{}}initialize(J={}){const{options:ae={}}=J,De=this.normalizeInstanceIdentifier(J.instanceIdentifier);if(this.isInitialized(De))throw Error(`${this.name}(${De}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const tt=this.getOrInitializeService({instanceIdentifier:De,options:ae});for(const[kt,Xn]of this.instancesDeferred.entries())De===this.normalizeInstanceIdentifier(kt)&&Xn.resolve(tt);return tt}onInit(J,ae){var De;const tt=this.normalizeInstanceIdentifier(ae),kt=null!==(De=this.onInitCallbacks.get(tt))&&void 0!==De?De:new Set;kt.add(J),this.onInitCallbacks.set(tt,kt);const Xn=this.instances.get(tt);return Xn&&J(Xn,tt),()=>{kt.delete(J)}}invokeOnInitCallbacks(J,ae){const De=this.onInitCallbacks.get(ae);if(De)for(const tt of De)try{tt(J,ae)}catch{}}getOrInitializeService({instanceIdentifier:J,options:ae={}}){let De=this.instances.get(J);if(!De&&this.component&&(De=this.component.instanceFactory(this.container,{instanceIdentifier:(St=J,St===Se?void 0:St),options:ae}),this.instances.set(J,De),this.instancesOptions.set(J,ae),this.invokeOnInitCallbacks(De,J),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,J,De)}catch{}var St;return De||null}normalizeInstanceIdentifier(J=Se){return this.component?this.component.multipleInstances?J:Se:J}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class rn{constructor(J){this.name=J,this.providers=new Map}addComponent(J){const ae=this.getProvider(J.name);if(ae.isComponentSet())throw new Error(`Component ${J.name} has already been registered with ${this.name}`);ae.setComponent(J)}addOrOverwriteComponent(J){this.getProvider(J.name).isComponentSet()&&this.providers.delete(J.name),this.addComponent(J)}getProvider(J){if(this.providers.has(J))return this.providers.get(J);const ae=new We(J,this);return this.providers.set(J,ae),ae}getProviders(){return Array.from(this.providers.values())}}},879:(_o,Qn,Be)=>{Be.d(Qn,{Am:()=>St,Ub:()=>rn,Yd:()=>Ln,in:()=>K});const C=[];var K=function(J){return J[J.DEBUG=0]="DEBUG",J[J.VERBOSE=1]="VERBOSE",J[J.INFO=2]="INFO",J[J.WARN=3]="WARN",J[J.ERROR=4]="ERROR",J[J.SILENT=5]="SILENT",J}(K||{});const N={debug:K.DEBUG,verbose:K.VERBOSE,info:K.INFO,warn:K.WARN,error:K.ERROR,silent:K.SILENT},Se=K.INFO,We={[K.DEBUG]:"log",[K.VERBOSE]:"log",[K.INFO]:"info",[K.WARN]:"warn",[K.ERROR]:"error"},bn=(J,ae,...De)=>{if(ae<J.logLevel)return;const tt=(new Date).toISOString(),kt=We[ae];if(!kt)throw new Error(`Attempted to log a message with an invalid logType (value: ${ae})`);console[kt](`[${tt}]  ${J.name}:`,...De)};class Ln{constructor(ae){this.name=ae,this._logLevel=Se,this._logHandler=bn,this._userLogHandler=null,C.push(this)}get logLevel(){return this._logLevel}set logLevel(ae){if(!(ae in K))throw new TypeError(`Invalid value "${ae}" assigned to \`logLevel\``);this._logLevel=ae}setLogLevel(ae){this._logLevel="string"==typeof ae?N[ae]:ae}get logHandler(){return this._logHandler}set logHandler(ae){if("function"!=typeof ae)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=ae}get userLogHandler(){return this._userLogHandler}set userLogHandler(ae){this._userLogHandler=ae}debug(...ae){this._userLogHandler&&this._userLogHandler(this,K.DEBUG,...ae),this._logHandler(this,K.DEBUG,...ae)}log(...ae){this._userLogHandler&&this._userLogHandler(this,K.VERBOSE,...ae),this._logHandler(this,K.VERBOSE,...ae)}info(...ae){this._userLogHandler&&this._userLogHandler(this,K.INFO,...ae),this._logHandler(this,K.INFO,...ae)}warn(...ae){this._userLogHandler&&this._userLogHandler(this,K.WARN,...ae),this._logHandler(this,K.WARN,...ae)}error(...ae){this._userLogHandler&&this._userLogHandler(this,K.ERROR,...ae),this._logHandler(this,K.ERROR,...ae)}}function rn(J){C.forEach(ae=>{ae.setLogLevel(J)})}function St(J,ae){for(const De of C){let tt=null;ae&&ae.level&&(tt=N[ae.level]),De.userLogHandler=null===J?null:(kt,Xn,...vt)=>{const Ge=vt.map(Ze=>{if(null==Ze)return null;if("string"==typeof Ze)return Ze;if("number"==typeof Ze||"boolean"==typeof Ze)return Ze.toString();if(Ze instanceof Error)return Ze.message;try{return JSON.stringify(Ze)}catch{return null}}).filter(Ze=>Ze).join(" ");Xn>=(tt??kt.logLevel)&&J({level:K[Xn].toLowerCase(),message:Ge,args:vt,type:kt.name})}}}},365:(_o,Qn,Be)=>{Be.r(Qn);var C=Be(861),K=Be(106),N=Be(562),Se=Be(58),Ln=(Be(534),Be(879),Be(537));function rn(){return window}function ae(){return ae=(0,C.Z)(function*(b,I,v){var A;const{BuildInfo:Z}=rn();(0,N.au)(I.sessionId,"AuthEvent did not contain a session ID");const Ie=yield function Ze(b){return ui.apply(this,arguments)}(I.sessionId),Ee={};return(0,N.av)()?Ee.ibi=Z.packageName:(0,N.aw)()?Ee.apn=Z.packageName:(0,N.ax)(b,"operation-not-supported-in-this-environment"),Z.displayName&&(Ee.appDisplayName=Z.displayName),Ee.sessionId=Ie,(0,N.ay)(b,v,I.type,void 0,null!==(A=I.eventId)&&void 0!==A?A:void 0,Ee)}),ae.apply(this,arguments)}function tt(){return(tt=(0,C.Z)(function*(b){const{BuildInfo:I}=rn(),v={};(0,N.av)()?v.iosBundleId=I.packageName:(0,N.aw)()?v.androidPackageName=I.packageName:(0,N.ax)(b,"operation-not-supported-in-this-environment"),yield(0,N.az)(b,v)})).apply(this,arguments)}function vt(){return(vt=(0,C.Z)(function*(b,I,v){const{cordova:A}=rn();let Z=()=>{};try{yield new Promise((Ie,Ee)=>{let Ue=null;function Mt(){var Re;Ie();const di=null===(Re=A.plugins.browsertab)||void 0===Re?void 0:Re.close;"function"==typeof di&&di(),"function"==typeof v?.close&&v.close()}function _e(){Ue||(Ue=window.setTimeout(()=>{Ee((0,N.aB)(b,"redirect-cancelled-by-user"))},2e3))}function Kt(){"visible"===document?.visibilityState&&_e()}I.addPassiveListener(Mt),document.addEventListener("resume",_e,!1),(0,N.aw)()&&document.addEventListener("visibilitychange",Kt,!1),Z=()=>{I.removePassiveListener(Mt),document.removeEventListener("resume",_e,!1),document.removeEventListener("visibilitychange",Kt,!1),Ue&&window.clearTimeout(Ue)}})}finally{Z()}})).apply(this,arguments)}function ui(){return(ui=(0,C.Z)(function*(b){const I=function En(b){if((0,N.au)(/[0-9a-zA-Z]+/.test(b),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(b);const I=new ArrayBuffer(b.length),v=new Uint8Array(I);for(let A=0;A<b.length;A++)v[A]=b.charCodeAt(A);return v}(b),v=yield crypto.subtle.digest("SHA-256",I);return Array.from(new Uint8Array(v)).map(Z=>Z.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class qt extends N.aD{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(I=>{this.resolveInialized=I})}addPassiveListener(I){this.passiveListeners.add(I)}removePassiveListener(I){this.passiveListeners.delete(I)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(I){return this.resolveInialized(),this.passiveListeners.forEach(v=>v(I)),super.onEvent(I)}initialized(){var I=this;return(0,C.Z)(function*(){yield I.initPromise})()}}function ot(b){return oe.apply(this,arguments)}function oe(){return(oe=(0,C.Z)(function*(b){const I=yield kn()._get(Vn(b));return I&&(yield kn()._remove(Vn(b))),I})).apply(this,arguments)}function cn(){const b=[];for(let v=0;v<20;v++){const A=Math.floor(62*Math.random());b.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(A))}return b.join("")}function kn(){return(0,N.aE)(N.b)}function Vn(b){return(0,N.aF)("authEvent",b.config.apiKey,b.name)}function Ke(b){if(!b?.includes("?"))return{};const[I,...v]=b.split("?");return(0,Se.zd)(v.join("?"))}const $=class yo{constructor(){this._redirectPersistence=N.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=N.aG,this._overrideRedirectResult=N.aH}_initialize(I){var v=this;return(0,C.Z)(function*(){const A=I._key();let Z=v.eventManagers.get(A);return Z||(Z=new qt(I),v.eventManagers.set(A,Z),v.attachCallbackListeners(I,Z)),Z})()}_openPopup(I){(0,N.ax)(I,"operation-not-supported-in-this-environment")}_openRedirect(I,v,A,Z){var Ie=this;return(0,C.Z)(function*(){!function Ge(b){var I,v,A,Z,Ie,Ee,Ue,Mt,_e,Kt;const Re=rn();(0,N.aC)("function"==typeof(null===(I=Re?.universalLinks)||void 0===I?void 0:I.subscribe),b,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,N.aC)(typeof(null===(v=Re?.BuildInfo)||void 0===v?void 0:v.packageName)<"u",b,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,N.aC)("function"==typeof(null===(Ie=null===(Z=null===(A=Re?.cordova)||void 0===A?void 0:A.plugins)||void 0===Z?void 0:Z.browsertab)||void 0===Ie?void 0:Ie.openUrl),b,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,N.aC)("function"==typeof(null===(Mt=null===(Ue=null===(Ee=Re?.cordova)||void 0===Ee?void 0:Ee.plugins)||void 0===Ue?void 0:Ue.browsertab)||void 0===Mt?void 0:Mt.isAvailable),b,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,N.aC)("function"==typeof(null===(Kt=null===(_e=Re?.cordova)||void 0===_e?void 0:_e.InAppBrowser)||void 0===Kt?void 0:Kt.open),b,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(I);const Ee=yield Ie._initialize(I);yield Ee.initialized(),Ee.resetRedirect(),(0,N.aI)(),yield Ie._originValidation(I);const Ue=function gr(b,I,v=null){return{type:I,eventId:v,urlResponse:null,sessionId:cn(),postBody:null,tenantId:b.tenantId,error:(0,N.aB)(b,"no-auth-event")}}(I,A,Z);yield function $n(b,I){return kn()._set(Vn(b),I)}(I,Ue);const Mt=yield function J(b,I,v){return ae.apply(this,arguments)}(I,Ue,v),_e=yield function kt(b){const{cordova:I}=rn();return new Promise(v=>{I.plugins.browsertab.isAvailable(A=>{let Z=null;A?I.plugins.browsertab.openUrl(b):Z=I.InAppBrowser.open(b,(0,N.aA)()?"_blank":"_system","location=yes"),v(Z)})})}(Mt);return function Xn(b,I,v){return vt.apply(this,arguments)}(I,Ee,_e)})()}_isIframeWebStorageSupported(I,v){throw new Error("Method not implemented.")}_originValidation(I){const v=I._key();return this.originValidationPromises[v]||(this.originValidationPromises[v]=function De(b){return tt.apply(this,arguments)}(I)),this.originValidationPromises[v]}attachCallbackListeners(I,v){const{universalLinks:A,handleOpenURL:Z,BuildInfo:Ie}=rn(),Ee=setTimeout((0,C.Z)(function*(){yield ot(I),v.onEvent(q())}),500),Ue=function(){var Kt=(0,C.Z)(function*(Re){clearTimeout(Ee);const di=yield ot(I);let $s=null;di&&Re?.url&&($s=function wt(b,I){var v,A;const Z=function Xr(b){const I=Ke(b),v=I.link?decodeURIComponent(I.link):void 0,A=Ke(v).link,Z=I.deep_link_id?decodeURIComponent(I.deep_link_id):void 0;return Ke(Z).link||Z||A||v||b}(I);if(Z.includes("/__/auth/callback")){const Ie=Ke(Z),Ee=Ie.firebaseError?function Qr(b){try{return JSON.parse(b)}catch{return null}}(decodeURIComponent(Ie.firebaseError)):null,Ue=null===(A=null===(v=Ee?.code)||void 0===v?void 0:v.split("auth/"))||void 0===A?void 0:A[1],Mt=Ue?(0,N.aB)(Ue):null;return Mt?{type:b.type,eventId:b.eventId,tenantId:b.tenantId,error:Mt,urlResponse:null,sessionId:null,postBody:null}:{type:b.type,eventId:b.eventId,tenantId:b.tenantId,sessionId:b.sessionId,urlResponse:Z,postBody:null}}return null}(di,Re.url)),v.onEvent($s||q())});return function(di){return Kt.apply(this,arguments)}}();typeof A<"u"&&"function"==typeof A.subscribe&&A.subscribe(null,Ue);const Mt=Z,_e=`${Ie.packageName.toLowerCase()}://`;rn().handleOpenURL=function(){var Kt=(0,C.Z)(function*(Re){if(Re.toLowerCase().startsWith(_e)&&Ue({url:Re}),"function"==typeof Mt)try{Mt(Re)}catch(di){console.error(di)}});return function(Re){return Kt.apply(this,arguments)}}()}};function q(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,N.aB)("no-auth-event")}}function fe(){var b;return(null===(b=self?.location)||void 0===b?void 0:b.protocol)||null}function de(b=(0,Se.z$)()){return!("file:"!==fe()&&"ionic:"!==fe()&&"capacitor:"!==fe()||!b.toLowerCase().match(/iphone|ipad|ipod|android/))}function wn(){try{const b=self.localStorage,I=N.aN();if(b)return b.setItem(I,"1"),b.removeItem(I),!function Qt(b=(0,Se.z$)()){return function It(){return(0,Se.w1)()&&11===document?.documentMode}()||function dn(b=(0,Se.z$)()){return/Edge\/\d+/.test(b)}(b)}()||(0,Se.hl)()}catch{return Jn()&&(0,Se.hl)()}return!1}function Jn(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function ei(){return(function ft(){return"http:"===fe()||"https:"===fe()}()||(0,Se.ru)()||de())&&!function Ne(){return(0,Se.b$)()||(0,Se.UG)()}()&&wn()&&!Jn()}function gi(){return de()&&typeof document<"u"}function Jr(){return(Jr=(0,C.Z)(function*(){return!!gi()&&new Promise(b=>{const I=setTimeout(()=>{b(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(I),b(!0)})})})).apply(this,arguments)}const _t={LOCAL:"local",NONE:"none",SESSION:"session"},bo=N.aC,Eo="persistence";function to(b){return Ti.apply(this,arguments)}function Ti(){return(Ti=(0,C.Z)(function*(b){yield b._initializationPromise;const I=vr(),v=N.aF(Eo,b.config.apiKey,b.name);I&&I.setItem(v,b._getPersistence())})).apply(this,arguments)}function vr(){var b;try{return(null===(b=function vo(){return typeof window<"u"?window:null}())||void 0===b?void 0:b.sessionStorage)||null}catch{return null}}const br=N.aC;class _i{constructor(){this.browserResolver=N.aE(N.k),this.cordovaResolver=N.aE($),this.underlyingResolver=null,this._redirectPersistence=N.a,this._completeRedirectFn=N.aG,this._overrideRedirectResult=N.aH}_initialize(I){var v=this;return(0,C.Z)(function*(){return yield v.selectUnderlyingResolver(),v.assertedUnderlyingResolver._initialize(I)})()}_openPopup(I,v,A,Z){var Ie=this;return(0,C.Z)(function*(){return yield Ie.selectUnderlyingResolver(),Ie.assertedUnderlyingResolver._openPopup(I,v,A,Z)})()}_openRedirect(I,v,A,Z){var Ie=this;return(0,C.Z)(function*(){return yield Ie.selectUnderlyingResolver(),Ie.assertedUnderlyingResolver._openRedirect(I,v,A,Z)})()}_isIframeWebStorageSupported(I,v){this.assertedUnderlyingResolver._isIframeWebStorageSupported(I,v)}_originValidation(I){return this.assertedUnderlyingResolver._originValidation(I)}get _shouldInitProactively(){return gi()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return br(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var I=this;return(0,C.Z)(function*(){if(I.underlyingResolver)return;const v=yield function nr(){return Jr.apply(this,arguments)}();I.underlyingResolver=v?I.cordovaResolver:I.browserResolver})()}}function Ut(b){return b.unwrap()}function In(b){return xn(b)}function xn(b){const{_tokenResponse:I}=b instanceof Se.ZR?b.customData:b;if(!I)return null;if(!(b instanceof Se.ZR)&&"temporaryProof"in I&&"phoneNumber"in I)return N.P.credentialFromResult(b);const v=I.providerId;if(!v||v===N.p.PASSWORD)return null;let A;switch(v){case N.p.GOOGLE:A=N.X;break;case N.p.FACEBOOK:A=N.W;break;case N.p.GITHUB:A=N.Y;break;case N.p.TWITTER:A=N.$;break;default:const{oauthIdToken:Z,oauthAccessToken:Ie,oauthTokenSecret:Ee,pendingToken:Ue,nonce:Mt}=I;return Ie||Ee||Z||Ue?Ue?v.startsWith("saml.")?N.aQ._create(v,Ue):N.N._fromParams({providerId:v,signInMethod:v,pendingToken:Ue,idToken:Z,accessToken:Ie}):new N.Z(v).credential({idToken:Z,accessToken:Ie,rawNonce:Mt}):null}return b instanceof Se.ZR?A.credentialFromError(b):A.credentialFromResult(b)}function On(b,I){return I.catch(v=>{throw v instanceof Se.ZR&&function Hl(b,I){var v;const A=null===(v=I.customData)||void 0===v?void 0:v._tokenResponse;if("auth/multi-factor-auth-required"===I?.code)I.resolver=new no(b,N.as(b,I));else if(A){const Z=xn(I),Ie=I;Z&&(Ie.credential=Z,Ie.tenantId=A.tenantId||void 0,Ie.email=A.email||void 0,Ie.phoneNumber=A.phoneNumber||void 0)}}(b,v),v}).then(v=>{const Z=v.user;return{operationType:v.operationType,credential:In(v),additionalUserInfo:N.aq(v),user:ti.getOrCreate(Z)}})}function wo(b,I){return Io.apply(this,arguments)}function Io(){return(Io=(0,C.Z)(function*(b,I){const v=yield I;return{verificationId:v.verificationId,confirm:A=>On(b,v.confirm(A))}})).apply(this,arguments)}class no{constructor(I,v){this.resolver=v,this.auth=function Er(b){return b.wrapped()}(I)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(I){return On(Ut(this.auth),this.resolver.resolveSignIn(I))}}class ti{constructor(I){this._delegate=I,this.multiFactor=N.at(I)}static getOrCreate(I){return ti.USER_MAP.has(I)||ti.USER_MAP.set(I,new ti(I)),ti.USER_MAP.get(I)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(I){return this._delegate.getIdTokenResult(I)}getIdToken(I){return this._delegate.getIdToken(I)}linkAndRetrieveDataWithCredential(I){return this.linkWithCredential(I)}linkWithCredential(I){var v=this;return(0,C.Z)(function*(){return On(v.auth,N.a2(v._delegate,I))})()}linkWithPhoneNumber(I,v){var A=this;return(0,C.Z)(function*(){return wo(A.auth,N.l(A._delegate,I,v))})()}linkWithPopup(I){var v=this;return(0,C.Z)(function*(){return On(v.auth,N.d(v._delegate,I,_i))})()}linkWithRedirect(I){var v=this;return(0,C.Z)(function*(){return yield to(N.aJ(v.auth)),N.g(v._delegate,I,_i)})()}reauthenticateAndRetrieveDataWithCredential(I){return this.reauthenticateWithCredential(I)}reauthenticateWithCredential(I){var v=this;return(0,C.Z)(function*(){return On(v.auth,N.a3(v._delegate,I))})()}reauthenticateWithPhoneNumber(I,v){return wo(this.auth,N.r(this._delegate,I,v))}reauthenticateWithPopup(I){return On(this.auth,N.e(this._delegate,I,_i))}reauthenticateWithRedirect(I){var v=this;return(0,C.Z)(function*(){return yield to(N.aJ(v.auth)),N.h(v._delegate,I,_i)})()}sendEmailVerification(I){return N.ag(this._delegate,I)}unlink(I){var v=this;return(0,C.Z)(function*(){return yield N.ap(v._delegate,I),v})()}updateEmail(I){return N.al(this._delegate,I)}updatePassword(I){return N.am(this._delegate,I)}updatePhoneNumber(I){return N.u(this._delegate,I)}updateProfile(I){return N.ak(this._delegate,I)}verifyBeforeUpdateEmail(I,v){return N.ah(this._delegate,I,v)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}ti.USER_MAP=new WeakMap;const ni=N.aC;let Bi=(()=>{class b{constructor(v,A){if(this.app=v,A.isInitialized())return this._delegate=A.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:Z}=v.options;ni(Z,"invalid-api-key",{appName:v.name}),ni(Z,"invalid-api-key",{appName:v.name});const Ie=typeof window<"u"?_i:void 0;this._delegate=A.initialize({options:{persistence:Sa(Z,v.name),popupRedirectResolver:Ie}}),this._delegate._updateErrorMap(N.G),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?ti.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(v){this._delegate.languageCode=v}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(v){this._delegate.tenantId=v}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(v,A){N.K(this._delegate,v,A)}applyActionCode(v){return N.a7(this._delegate,v)}checkActionCode(v){return N.a8(this._delegate,v)}confirmPasswordReset(v,A){return N.a6(this._delegate,v,A)}createUserWithEmailAndPassword(v,A){var Z=this;return(0,C.Z)(function*(){return On(Z._delegate,N.aa(Z._delegate,v,A))})()}fetchProvidersForEmail(v){return this.fetchSignInMethodsForEmail(v)}fetchSignInMethodsForEmail(v){return N.af(this._delegate,v)}isSignInWithEmailLink(v){return N.ad(this._delegate,v)}getRedirectResult(){var v=this;return(0,C.Z)(function*(){ni(ei(),v._delegate,"operation-not-supported-in-this-environment");const A=yield N.j(v._delegate,_i);return A?On(v._delegate,Promise.resolve(A)):{credential:null,user:null}})()}addFrameworkForLogging(v){!function F(b,I){(0,N.aJ)(b)._logFramework(I)}(this._delegate,v)}onAuthStateChanged(v,A,Z){const{next:Ie,error:Ee,complete:Ue}=wr(v,A,Z);return this._delegate.onAuthStateChanged(Ie,Ee,Ue)}onIdTokenChanged(v,A,Z){const{next:Ie,error:Ee,complete:Ue}=wr(v,A,Z);return this._delegate.onIdTokenChanged(Ie,Ee,Ue)}sendSignInLinkToEmail(v,A){return N.ac(this._delegate,v,A)}sendPasswordResetEmail(v,A){return N.a5(this._delegate,v,A||void 0)}setPersistence(v){var A=this;return(0,C.Z)(function*(){let Z;switch(function eo(b,I){bo(Object.values(_t).includes(I),b,"invalid-persistence-type"),(0,Se.b$)()?bo(I!==_t.SESSION,b,"unsupported-persistence-type"):(0,Se.UG)()?bo(I===_t.NONE,b,"unsupported-persistence-type"):Jn()?bo(I===_t.NONE||I===_t.LOCAL&&(0,Se.hl)(),b,"unsupported-persistence-type"):bo(I===_t.NONE||wn(),b,"unsupported-persistence-type")}(A._delegate,v),v){case _t.SESSION:Z=N.a;break;case _t.LOCAL:Z=(yield N.aE(N.i)._isAvailable())?N.i:N.b;break;case _t.NONE:Z=N.U;break;default:return N.ax("argument-error",{appName:A._delegate.name})}return A._delegate.setPersistence(Z)})()}signInAndRetrieveDataWithCredential(v){return this.signInWithCredential(v)}signInAnonymously(){return On(this._delegate,N.a0(this._delegate))}signInWithCredential(v){return On(this._delegate,N.a1(this._delegate,v))}signInWithCustomToken(v){return On(this._delegate,N.a4(this._delegate,v))}signInWithEmailAndPassword(v,A){return On(this._delegate,N.ab(this._delegate,v,A))}signInWithEmailLink(v,A){return On(this._delegate,N.ae(this._delegate,v,A))}signInWithPhoneNumber(v,A){return wo(this._delegate,N.s(this._delegate,v,A))}signInWithPopup(v){var A=this;return(0,C.Z)(function*(){return ni(ei(),A._delegate,"operation-not-supported-in-this-environment"),On(A._delegate,N.c(A._delegate,v,_i))})()}signInWithRedirect(v){var A=this;return(0,C.Z)(function*(){return ni(ei(),A._delegate,"operation-not-supported-in-this-environment"),yield to(A._delegate),N.f(A._delegate,v,_i)})()}updateCurrentUser(v){return this._delegate.updateCurrentUser(v)}verifyPasswordResetCode(v){return N.a9(this._delegate,v)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return b.Persistence=_t,b})();function wr(b,I,v){let A=b;"function"!=typeof b&&({next:A,error:I,complete:v}=b);const Z=A;return{next:Ee=>Z(Ee&&ti.getOrCreate(Ee)),error:I,complete:v}}function Sa(b,I){const v=function yr(b,I){const v=vr();if(!v)return[];const A=N.aF(Eo,b,I);switch(v.getItem(A)){case _t.NONE:return[N.U];case _t.LOCAL:return[N.i,N.a];case _t.SESSION:return[N.a];default:return[]}}(b,I);if(typeof self<"u"&&!v.includes(N.i)&&v.push(N.i),typeof window<"u")for(const A of[N.b,N.a])v.includes(A)||v.push(A);return v.includes(N.U)||v.push(N.U),v}class as{constructor(){this.providerId="phone",this._delegate=new N.P(Ut(K.Z.auth()))}static credential(I,v){return N.P.credential(I,v)}verifyPhoneNumber(I,v){return this._delegate.verifyPhoneNumber(I,v)}unwrap(){return this._delegate}}as.PHONE_SIGN_IN_METHOD=N.P.PHONE_SIGN_IN_METHOD,as.PROVIDER_ID=N.P.PROVIDER_ID;const Hs=N.aC;class xo{constructor(I,v,A=K.Z.app()){var Z;Hs(null===(Z=A.options)||void 0===Z?void 0:Z.apiKey,"invalid-api-key",{appName:A.name}),this._delegate=new N.R(A.auth(),I,v),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function D(b){b.INTERNAL.registerComponent(new Ln.wA("auth-compat",I=>{const v=I.getProvider("app-compat").getImmediate(),A=I.getProvider("auth");return new Bi(v,A)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:N.A.EMAIL_SIGNIN,PASSWORD_RESET:N.A.PASSWORD_RESET,RECOVER_EMAIL:N.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:N.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:N.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:N.A.VERIFY_EMAIL}},EmailAuthProvider:N.V,FacebookAuthProvider:N.W,GithubAuthProvider:N.Y,GoogleAuthProvider:N.X,OAuthProvider:N.Z,SAMLAuthProvider:N._,PhoneAuthProvider:as,PhoneMultiFactorGenerator:N.m,RecaptchaVerifier:xo,TwitterAuthProvider:N.$,Auth:Bi,AuthCredential:N.L,Error:Se.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),b.registerVersion("@firebase/auth-compat","0.4.9")}(K.Z)},861:(_o,Qn,Be)=>{function C(N,Se,We,bn,Ln,rn,St){try{var J=N[rn](St),ae=J.value}catch(De){return void We(De)}J.done?Se(ae):Promise.resolve(ae).then(bn,Ln)}function K(N){return function(){var Se=this,We=arguments;return new Promise(function(bn,Ln){var rn=N.apply(Se,We);function St(ae){C(rn,bn,Ln,St,J,"next",ae)}function J(ae){C(rn,bn,Ln,St,J,"throw",ae)}St(void 0)})}}Be.d(Qn,{Z:()=>K})},582:(_o,Qn,Be)=>{function Se($,q){var F={};for(var j in $)Object.prototype.hasOwnProperty.call($,j)&&q.indexOf(j)<0&&(F[j]=$[j]);if(null!=$&&"function"==typeof Object.getOwnPropertySymbols){var ee=0;for(j=Object.getOwnPropertySymbols($);ee<j.length;ee++)q.indexOf(j[ee])<0&&Object.prototype.propertyIsEnumerable.call($,j[ee])&&(F[j[ee]]=$[j[ee]])}return F}function De($,q,F,j){return new(F||(F=Promise))(function(X,fe){function ft(It){try{Ne(j.next(It))}catch(dn){fe(dn)}}function de(It){try{Ne(j.throw(It))}catch(dn){fe(dn)}}function Ne(It){It.done?X(It.value):function ee(X){return X instanceof F?X:new F(function(fe){fe(X)})}(It.value).then(ft,de)}Ne((j=j.apply($,q||[])).next())})}function gt($){return this instanceof gt?(this.v=$,this):new gt($)}function qt($,q,F){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ee,j=F.apply($,q||[]),X=[];return ee={},fe("next"),fe("throw"),fe("return"),ee[Symbol.asyncIterator]=function(){return this},ee;function fe(Qt){j[Qt]&&(ee[Qt]=function(wn){return new Promise(function(Jn,ei){X.push([Qt,wn,Jn,ei])>1||ft(Qt,wn)})})}function ft(Qt,wn){try{!function de(Qt){Qt.value instanceof gt?Promise.resolve(Qt.value.v).then(Ne,It):dn(X[0][2],Qt)}(j[Qt](wn))}catch(Jn){dn(X[0][3],Jn)}}function Ne(Qt){ft("next",Qt)}function It(Qt){ft("throw",Qt)}function dn(Qt,wn){Qt(wn),X.shift(),X.length&&ft(X[0][0],X[0][1])}}function $n($){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var F,q=$[Symbol.asyncIterator];return q?q.call($):($=function vt($){var q="function"==typeof Symbol&&Symbol.iterator,F=q&&$[q],j=0;if(F)return F.call($);if($&&"number"==typeof $.length)return{next:function(){return $&&j>=$.length&&($=void 0),{value:$&&$[j++],done:!$}}};throw new TypeError(q?"Object is not iterable.":"Symbol.iterator is not defined.")}($),F={},j("next"),j("throw"),j("return"),F[Symbol.asyncIterator]=function(){return this},F);function j(X){F[X]=$[X]&&function(fe){return new Promise(function(ft,de){!function ee(X,fe,ft,de){Promise.resolve(de).then(function(Ne){X({value:Ne,done:ft})},fe)}(ft,de,(fe=$[X](fe)).done,fe.value)})}}}Be.d(Qn,{FC:()=>qt,KL:()=>$n,_T:()=>Se,mG:()=>De,qq:()=>gt}),"function"==typeof SuppressedError&&SuppressedError}},_o=>{_o(_o.s=488)}]);